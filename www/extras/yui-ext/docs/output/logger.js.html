<html><head><title>logger.js</title><link rel="stylesheet" type="text/css" href="../style.css" media="screen"/></head><body><div class="hl-main"><pre><span class="hl-comment">/*
Copyright (c) 2006, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
</span><span class="hl-url">http://developer.yahoo.com/yui/license.txt</span><span class="hl-comment">
version: 0.12.0
*/
// holder
/****************************************************************************/
// holder
/****************************************************************************/
// holder
/****************************************************************************/
// holder
/**
 * The LogMsg class defines a single log message.
 *
 * @class YAHOO.widget.LogMsg
 * @constructor
 * @param oConfigs {Object} Object literal of configuration params.
 */
 </span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogMsg</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">oConfigs</span><span class="hl-brackets">) {
    </span><span class="hl-comment">// Parse configs
    </span><span class="hl-reserved">if </span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">oConfigs</span><span class="hl-code"> == </span><span class="hl-quotes">&quot;</span><span class="hl-string">object</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">param </span><span class="hl-reserved">in </span><span class="hl-identifier">oConfigs</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-brackets">[</span><span class="hl-identifier">param</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-identifier">oConfigs</span><span class="hl-brackets">[</span><span class="hl-identifier">param</span><span class="hl-brackets">]</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }
 }</span><span class="hl-default">;
 
</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Public member variables
//
/////////////////////////////////////////////////////////////////////////////

/**
 * Log message.
 *
 * @property msg
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogMsg</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">msg</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;
 
</span><span class="hl-comment">/**
 * Log timestamp.
 *
 * @property time
 * @type Date
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogMsg</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">time</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log category.
 *
 * @property category
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogMsg</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">category</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log source. The first word passed in as the source argument.
 *
 * @property source
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogMsg</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">source</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log source detail. The remainder of the string passed in as the source argument, not
 * including the first word (if any).
 *
 * @property sourceDetail
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogMsg</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">sourceDetail</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/****************************************************************************/
// holder
/****************************************************************************/
// holder
/****************************************************************************/
// holder
/**
 * The LogWriter class provides a mechanism to log messages through
 * YAHOO.widget.Logger from a named source.
 *
 * @class YAHOO.widget.LogWriter
 * @constructor
 * @param sSource {String} Source of LogWriter instance.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogWriter</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">Could not instantiate LogWriter due to invalid source.</span><span class="hl-quotes">&quot;</span><span class="hl-code">,
            </span><span class="hl-quotes">&quot;</span><span class="hl-string">error</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">LogWriter</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">return</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_source</span><span class="hl-code"> = </span><span class="hl-identifier">sSource</span><span class="hl-code">;
 </span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Public methods
//
/////////////////////////////////////////////////////////////////////////////

 /**
 * Public accessor to the unique name of the LogWriter instance.
 *
 * @method toString
 * @return {String} Unique name of the LogWriter instance.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogWriter</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">toString</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">return </span><span class="hl-quotes">&quot;</span><span class="hl-string">LogWriter </span><span class="hl-quotes">&quot;</span><span class="hl-code"> + </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sSource</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Logs a message attached to the source of the LogWriter.
 *
 * @method log
 * @param sMsg {String} The log message.
 * @param sCategory {String} Category name.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogWriter</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">log</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sMsg</span><span class="hl-code">, </span><span class="hl-identifier">sCategory</span><span class="hl-brackets">) {
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-identifier">sMsg</span><span class="hl-code">, </span><span class="hl-identifier">sCategory</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_source</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public accessor to get the source name.
 *
 * @method getSource
 * @return {String} The LogWriter source.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogWriter</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">getSource</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">_sSource</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public accessor to set the source name.
 *
 * @method setSource
 * @param sSource {String} Source of LogWriter instance.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogWriter</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">setSource</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">Could not set source due to invalid source.</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">error</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">toString</span><span class="hl-brackets">())</span><span class="hl-code">;
        </span><span class="hl-reserved">return</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">else </span><span class="hl-brackets">{
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sSource</span><span class="hl-code"> = </span><span class="hl-identifier">sSource</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Private member variables
//
/////////////////////////////////////////////////////////////////////////////

/**
 * Source of the LogWriter instance.
 *
 * @property _source
 * @type String
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogWriter</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_source</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;



</span><span class="hl-comment">/****************************************************************************/
// holder
/****************************************************************************/
// holder
/****************************************************************************/
// holder
/**
 * The LogReader class provides UI to read messages logged to YAHOO.widget.Logger.
 *
 * @class YAHOO.widget.LogReader
 * @constructor
 * @param elContainer {HTMLElement} (optional) DOM element reference of an existing DIV.
 * @param elContainer {String} (optional) String ID of an existing DIV.
 * @param oConfigs {Object} (optional) Object literal of configuration params.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">elContainer</span><span class="hl-code">, </span><span class="hl-identifier">oConfigs</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">oSelf</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sName</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">LogReader</span><span class="hl-code">.</span><span class="hl-identifier">_index</span><span class="hl-code">;
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">LogReader</span><span class="hl-code">.</span><span class="hl-identifier">_index</span><span class="hl-code">++;

    </span><span class="hl-comment">// Parse config vars here
    </span><span class="hl-reserved">if </span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">oConfigs</span><span class="hl-code"> == </span><span class="hl-quotes">&quot;</span><span class="hl-string">object</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">param </span><span class="hl-reserved">in </span><span class="hl-identifier">oConfigs</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-brackets">[</span><span class="hl-identifier">param</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-identifier">oConfigs</span><span class="hl-brackets">[</span><span class="hl-identifier">param</span><span class="hl-brackets">]</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }

    </span><span class="hl-comment">// Attach container...
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">elContainer</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">elContainer</span><span class="hl-code"> == </span><span class="hl-quotes">&quot;</span><span class="hl-string">string</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code"> = </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">getElementById</span><span class="hl-brackets">(</span><span class="hl-identifier">elContainer</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">else if</span><span class="hl-brackets">(</span><span class="hl-identifier">elContainer</span><span class="hl-code">.</span><span class="hl-identifier">tagName</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code"> = </span><span class="hl-identifier">elContainer</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-comment">// ...or create container from scratch
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">LogReader</span><span class="hl-code">.</span><span class="hl-identifier">_elDefaultContainer</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code"> =  </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">LogReader</span><span class="hl-code">.</span><span class="hl-identifier">_elDefaultContainer</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">else </span><span class="hl-brackets">{
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code"> = </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">div</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log</span><span class="hl-quotes">&quot;</span><span class="hl-code">;

            </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">LogReader</span><span class="hl-code">.</span><span class="hl-identifier">_elDefaultContainer</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">;
        </span><span class="hl-brackets">}

        </span><span class="hl-comment">// If implementer has provided container values, trust and set those
        </span><span class="hl-reserved">var </span><span class="hl-identifier">containerStyle</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">width</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">containerStyle</span><span class="hl-code">.</span><span class="hl-identifier">width</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">width</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">left</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">containerStyle</span><span class="hl-code">.</span><span class="hl-identifier">left</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">left</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">right</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">containerStyle</span><span class="hl-code">.</span><span class="hl-identifier">right</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">right</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">bottom</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">containerStyle</span><span class="hl-code">.</span><span class="hl-identifier">bottom</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">bottom</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">top</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">containerStyle</span><span class="hl-code">.</span><span class="hl-identifier">top</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">top</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">fontSize</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">containerStyle</span><span class="hl-code">.</span><span class="hl-identifier">fontSize</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">fontSize</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }

    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-brackets">) {
        </span><span class="hl-comment">// Create header
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elHd</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elHd</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">div</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elHd</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-hd</span><span class="hl-quotes">&quot;</span><span class="hl-code"> + </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sName</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elHd</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-hd</span><span class="hl-quotes">&quot;</span><span class="hl-code">;

            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elCollapse</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elHd</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">div</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elCollapse</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-btns</span><span class="hl-quotes">&quot;</span><span class="hl-code">;

            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-code"> = </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">input</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-code">.</span><span class="hl-identifier">type</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">button</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">fontSize</span><span class="hl-code"> =
                </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">fontSize</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-button</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">Collapse</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elCollapse</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">addListener</span><span class="hl-brackets">(
                </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">click</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_onClickCollapseBtn</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-brackets">)</span><span class="hl-code">;

            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_title</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elHd</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">h4</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_title</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">Logger Console</span><span class="hl-quotes">&quot;</span><span class="hl-code">;

            </span><span class="hl-comment">// If Drag and Drop utility is available...
            // ...and this container was created from scratch...
            // ...then make the header draggable
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DD</span><span class="hl-code"> &amp;&amp;
            </span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">LogReader</span><span class="hl-code">.</span><span class="hl-identifier">_elDefaultContainer</span><span class="hl-code"> == </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-brackets">)) {
                </span><span class="hl-reserved">var </span><span class="hl-identifier">ylog_dd</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DD</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;
                </span><span class="hl-identifier">ylog_dd</span><span class="hl-code">.</span><span class="hl-identifier">setHandleElId</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elHd</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elHd</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">cursor</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">move</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }
        </span><span class="hl-comment">// Ceate console
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code"> =
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">div</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-bd</span><span class="hl-quotes">&quot;</span><span class="hl-code">;

            </span><span class="hl-comment">// If implementer has provided console, trust and set those
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">height</span><span class="hl-brackets">) {
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">height</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">height</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }
        </span><span class="hl-comment">// Don't create footer if disabled
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-code"> &amp;&amp; </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">footerEnabled</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">div</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-ft</span><span class="hl-quotes">&quot;</span><span class="hl-code">;

            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elBtns</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">div</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elBtns</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-btns</span><span class="hl-quotes">&quot;</span><span class="hl-code">;

            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnPause</span><span class="hl-code"> = </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">input</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnPause</span><span class="hl-code">.</span><span class="hl-identifier">type</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">button</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnPause</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">fontSize</span><span class="hl-code"> =
                </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">fontSize</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnPause</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-button</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnPause</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">Pause</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnPause</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elBtns</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnPause</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">addListener</span><span class="hl-brackets">(
                </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_btnPause</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">click</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_onClickPauseBtn</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-brackets">)</span><span class="hl-code">;

            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnClear</span><span class="hl-code"> = </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">input</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnClear</span><span class="hl-code">.</span><span class="hl-identifier">type</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">button</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnClear</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">fontSize</span><span class="hl-code"> =
                </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">fontSize</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnClear</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-button</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnClear</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">Clear</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnClear</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elBtns</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_btnClear</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">addListener</span><span class="hl-brackets">(
                </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_btnClear</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">click</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_onClickClearBtn</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-brackets">)</span><span class="hl-code">;

            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elCategoryFilters</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">div</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elCategoryFilters</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-categoryfilters</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elSourceFilters</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">div</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elSourceFilters</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-sourcefilters</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }

    </span><span class="hl-comment">// Initialize internal vars
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_buffer</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_buffer</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">; </span><span class="hl-comment">// output buffer
    </span><span class="hl-brackets">}
    </span><span class="hl-comment">// Timestamp of last log message to console
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_lastTime</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">getStartTime</span><span class="hl-brackets">()</span><span class="hl-code">; 
    
    </span><span class="hl-comment">// Subscribe to Logger custom events
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">newLogEvent</span><span class="hl-code">.</span><span class="hl-identifier">subscribe</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_onNewLog</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">logResetEvent</span><span class="hl-code">.</span><span class="hl-identifier">subscribe</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_onReset</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-brackets">)</span><span class="hl-code">;

    </span><span class="hl-comment">// Initialize category filters
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_categoryFilters</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">catsLen</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">categories</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elCategoryFilters</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code"> &lt; </span><span class="hl-identifier">catsLen</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_createCategoryCheckbox</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">categories</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">])</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }
    </span><span class="hl-comment">// Initialize source filters
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sourceFilters</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">sourcesLen</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">sources</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elSourceFilters</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">j</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">j</span><span class="hl-code"> &lt; </span><span class="hl-identifier">sourcesLen</span><span class="hl-code">; </span><span class="hl-identifier">j</span><span class="hl-code">++</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_createSourceCheckbox</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">sources</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">])</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">categoryCreateEvent</span><span class="hl-code">.</span><span class="hl-identifier">subscribe</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_onCategoryCreate</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">sourceCreateEvent</span><span class="hl-code">.</span><span class="hl-identifier">subscribe</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_onSourceCreate</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-brackets">)</span><span class="hl-code">;

    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_filterLogs</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">LogReader initialized</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">null</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">toString</span><span class="hl-brackets">())</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Public member variables
//
/////////////////////////////////////////////////////////////////////////////

/**
 * Whether or not the log reader is enabled to output log messages.
 *
 * @property logReaderEnabled
 * @type Boolean
 * @default true
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">logReaderEnabled</span><span class="hl-default"> = </span><span class="hl-reserved">true</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public member to access CSS width of the log reader container.
 *
 * @property width
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">width</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public member to access CSS height of the log reader container.
 *
 * @property height
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">height</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public member to access CSS top position of the log reader container.
 *
 * @property top
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">top</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public member to access CSS left position of the log reader container.
 *
 * @property left
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">left</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public member to access CSS right position of the log reader container.
 *
 * @property right
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">right</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public member to access CSS bottom position of the log reader container.
 *
 * @property bottom
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">bottom</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public member to access CSS font size of the log reader container.
 *
 * @property fontSize
 * @type String
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">fontSize</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Whether or not the footer UI is enabled for the log reader.
 *
 * @property footerEnabled
 * @type Boolean
 * @default true
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">footerEnabled</span><span class="hl-default"> = </span><span class="hl-reserved">true</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Whether or not output is verbose (more readable). Setting to true will make
 * output more compact (less readable).
 *
 * @property verboseOutput
 * @type Boolean
 * @default true
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">verboseOutput</span><span class="hl-default"> = </span><span class="hl-reserved">true</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Whether or not newest message is printed on top.
 *
 * @property newestOnTop
 * @type Boolean
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">newestOnTop</span><span class="hl-default"> = </span><span class="hl-reserved">true</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Maximum number of messages a LogReader console will display.
 *
 * @property thresholdMax
 * @type Number
 * @default 500
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">thresholdMax</span><span class="hl-default"> = </span><span class="hl-number">500</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * When a LogReader console reaches its thresholdMax, it will clear out messages
 * and print out the latest thresholdMin number of messages.
 *
 * @property thresholdMin
 * @type Number
 * @default 100
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">thresholdMin</span><span class="hl-default"> = </span><span class="hl-number">100</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Public methods
//
/////////////////////////////////////////////////////////////////////////////

 /**
 * Public accessor to the unique name of the LogReader instance.
 *
 * @method toString
 * @return {String} Unique name of the LogReader instance.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">toString</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">return </span><span class="hl-quotes">&quot;</span><span class="hl-string">LogReader instance</span><span class="hl-quotes">&quot;</span><span class="hl-code"> + </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sName</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;
</span><span class="hl-comment">/**
 * Pauses output of log messages. While paused, log messages are not lost, but
 * get saved to a buffer and then output upon resume of log reader.
 *
 * @method pause
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">pause</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_timeout</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">logReaderEnabled</span><span class="hl-code"> = </span><span class="hl-reserved">false</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Resumes output of log messages, including outputting any log messages that
 * have been saved to buffer while paused.
 *
 * @method resume
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">resume</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">logReaderEnabled</span><span class="hl-code"> = </span><span class="hl-reserved">true</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_printBuffer</span><span class="hl-brackets">()</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Hides UI of log reader. Logging functionality is not disrupted.
 *
 * @method hide
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">hide</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">display</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">none</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Shows UI of log reader. Logging functionality is not disrupted.
 *
 * @method show
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">show</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elContainer</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">display</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">block</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Updates title to given string.
 *
 * @method setTitle
 * @param sTitle {String} New title.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">setTitle</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sTitle</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_title</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">html2Text</span><span class="hl-brackets">(</span><span class="hl-identifier">sTitle</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Gets timestamp of the last log.
 *
 * @method getLastTime
 * @return {Date} Timestamp of the last log.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">getLastTime</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">_lastTime</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Formats message string to HTML for output to console.
 *
 * @method formatMsg
 * @param oLogMsg {Object} Log message object.
 * @return {String} HTML-formatted message for output to console.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">formatMsg</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">oLogMsg</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">category</span><span class="hl-code"> = </span><span class="hl-identifier">oLogMsg</span><span class="hl-code">.</span><span class="hl-identifier">category</span><span class="hl-code">;
    
    </span><span class="hl-comment">// Label for color-coded display
    </span><span class="hl-reserved">var label</span><span class="hl-code"> = </span><span class="hl-identifier">category</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-number">4</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">toUpperCase</span><span class="hl-brackets">()</span><span class="hl-code">;

    </span><span class="hl-comment">// Calculate the elapsed time to be from the last item that passed through the filter,
    // not the absolute previous item in the stack

    </span><span class="hl-reserved">var </span><span class="hl-identifier">time</span><span class="hl-code"> = </span><span class="hl-identifier">oLogMsg</span><span class="hl-code">.</span><span class="hl-identifier">time</span><span class="hl-code">;
    </span><span class="hl-reserved">if </span><span class="hl-brackets">(</span><span class="hl-identifier">time</span><span class="hl-code">.</span><span class="hl-identifier">toLocaleTimeString</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">var </span><span class="hl-identifier">localTime</span><span class="hl-code">  = </span><span class="hl-identifier">time</span><span class="hl-code">.</span><span class="hl-identifier">toLocaleTimeString</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">else </span><span class="hl-brackets">{
        </span><span class="hl-identifier">localTime</span><span class="hl-code"> = </span><span class="hl-identifier">time</span><span class="hl-code">.</span><span class="hl-identifier">toString</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-brackets">}

    </span><span class="hl-reserved">var </span><span class="hl-identifier">msecs</span><span class="hl-code"> = </span><span class="hl-identifier">time</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">startTime</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">getStartTime</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">totalTime</span><span class="hl-code"> = </span><span class="hl-identifier">msecs</span><span class="hl-code"> - </span><span class="hl-identifier">startTime</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">elapsedTime</span><span class="hl-code"> = </span><span class="hl-identifier">msecs</span><span class="hl-code"> - </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getLastTime</span><span class="hl-brackets">()</span><span class="hl-code">;

    </span><span class="hl-reserved">var </span><span class="hl-identifier">source</span><span class="hl-code"> = </span><span class="hl-identifier">oLogMsg</span><span class="hl-code">.</span><span class="hl-identifier">source</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">sourceDetail</span><span class="hl-code"> = </span><span class="hl-identifier">oLogMsg</span><span class="hl-code">.</span><span class="hl-identifier">sourceDetail</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">sourceAndDetail</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-identifier">sourceDetail</span><span class="hl-brackets">)</span><span class="hl-code"> ?
        </span><span class="hl-identifier">source</span><span class="hl-code"> + </span><span class="hl-quotes">&quot; &quot;</span><span class="hl-code"> + </span><span class="hl-identifier">sourceDetail</span><span class="hl-code"> : </span><span class="hl-identifier">source</span><span class="hl-code">;
        
    </span><span class="hl-comment">// Escape HTML entities in the log message itself for output to console
    </span><span class="hl-reserved">var </span><span class="hl-identifier">msg</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">html2Text</span><span class="hl-brackets">(</span><span class="hl-identifier">oLogMsg</span><span class="hl-code">.</span><span class="hl-identifier">msg</span><span class="hl-brackets">)</span><span class="hl-code">;

    </span><span class="hl-comment">// Verbose output includes extra line breaks
    </span><span class="hl-reserved">var </span><span class="hl-identifier">output</span><span class="hl-code"> =  </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">verboseOutput</span><span class="hl-brackets">)</span><span class="hl-code"> ?
        </span><span class="hl-brackets">[</span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;p&gt;&lt;span class='</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-identifier">category</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">'&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">label</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;/span&gt; </span><span class="hl-quotes">&quot;</span><span class="hl-code">,
        </span><span class="hl-identifier">totalTime</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">ms (+</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-identifier">elapsedTime</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">) </span><span class="hl-quotes">&quot;</span><span class="hl-code">,
        </span><span class="hl-identifier">localTime</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">: </span><span class="hl-quotes">&quot;</span><span class="hl-code">,
        </span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;/p&gt;&lt;p&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-code">,
        </span><span class="hl-identifier">sourceAndDetail</span><span class="hl-code">,
        </span><span class="hl-quotes">&quot;</span><span class="hl-string">: &lt;/p&gt;&lt;p&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-code">,
        </span><span class="hl-identifier">msg</span><span class="hl-code">,
        </span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;/p&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">]</span><span class="hl-code"> :

        </span><span class="hl-brackets">[</span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;p&gt;&lt;span class='</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-identifier">category</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">'&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">label</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;/span&gt; </span><span class="hl-quotes">&quot;</span><span class="hl-code">,
        </span><span class="hl-identifier">totalTime</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">ms (+</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-identifier">elapsedTime</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">) </span><span class="hl-quotes">&quot;</span><span class="hl-code">,
        </span><span class="hl-identifier">localTime</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">: </span><span class="hl-quotes">&quot;</span><span class="hl-code">,
        </span><span class="hl-identifier">sourceAndDetail</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">: </span><span class="hl-quotes">&quot;</span><span class="hl-code">,
        </span><span class="hl-identifier">msg</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;/p&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">]</span><span class="hl-code">;

    </span><span class="hl-reserved">return </span><span class="hl-identifier">output</span><span class="hl-code">.</span><span class="hl-identifier">join</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Converts input chars &quot;&lt;&quot;, &quot;&gt;&quot;, and &quot;&amp;&quot; to HTML entities.
 *
 * @method html2Text
 * @param sHtml {String} String to convert.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">html2Text</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sHtml</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">sHtml</span><span class="hl-brackets">) {
        </span><span class="hl-identifier">sHtml</span><span class="hl-code"> += </span><span class="hl-quotes">&quot;&quot;</span><span class="hl-code">;
        </span><span class="hl-reserved">return </span><span class="hl-identifier">sHtml</span><span class="hl-code">.</span><span class="hl-identifier">replace</span><span class="hl-brackets">(</span><span class="hl-quotes">/</span><span class="hl-string">&amp;</span><span class="hl-quotes">/g</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">&amp;#38;</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">replace</span><span class="hl-brackets">(</span><span class="hl-quotes">/</span><span class="hl-string">&lt;</span><span class="hl-quotes">/g</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">&amp;#60;</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">replace</span><span class="hl-brackets">(</span><span class="hl-quotes">/</span><span class="hl-string">&gt;</span><span class="hl-quotes">/g</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">&amp;#62;</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">return </span><span class="hl-quotes">&quot;&quot;</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Private member variables
//
/////////////////////////////////////////////////////////////////////////////

/**
 * Internal class member to index multiple log reader instances.
 *
 * @property _memberName
 * @static
 * @type Number
 * @default 0
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">_index</span><span class="hl-default"> = </span><span class="hl-number">0</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Name of LogReader instance.
 *
 * @property _sName
 * @type String
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_sName</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * A class member shared by all log readers if a container needs to be
 * created during instantiation. Will be null if a container element never needs to
 * be created on the fly, such as when the implementer passes in their own element.
 *
 * @property _elDefaultContainer
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">_elDefaultContainer</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Buffer of log message objects for batch output.
 *
 * @property _buffer
 * @type Object[]
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_buffer</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Number of log messages output to console.
 *
 * @property _consoleMsgCount
 * @type Number
 * @default 0
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_consoleMsgCount</span><span class="hl-default"> = </span><span class="hl-number">0</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Date of last output log message.
 *
 * @property _lastTime
 * @type Date
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_lastTime</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Batched output timeout ID.
 *
 * @property _timeout
 * @type Number
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_timeout</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Array of filters for log message categories.
 *
 * @property _categoryFilters
 * @type String[]
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_categoryFilters</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Array of filters for log message sources.
 *
 * @property _sourceFilters
 * @type String[]
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_sourceFilters</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log reader container element.
 *
 * @property _elContainer
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_elContainer</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log reader header element.
 *
 * @property _elHd
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_elHd</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log reader collapse element.
 *
 * @property _elCollapse
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_elCollapse</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log reader collapse button element.
 *
 * @property _btnCollapse
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log reader title header element.
 *
 * @property _title
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_title</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log reader console element.
 *
 * @property _elConsole
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_elConsole</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log reader footer element.
 *
 * @property _elFt
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_elFt</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log reader buttons container element.
 *
 * @property _elBtns
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_elBtns</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Container element for log reader category filter checkboxes.
 *
 * @property _elCategoryFilters
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_elCategoryFilters</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Container element for log reader source filter checkboxes.
 *
 * @property _elSourceFilters
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_elSourceFilters</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Log reader pause button element.
 *
 * @property _btnPause
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_btnPause</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Clear button element.
 *
 * @property _btnClear
 * @type HTMLElement
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_btnClear</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Private methods
//
/////////////////////////////////////////////////////////////////////////////

/**
 * Creates the UI for a category filter in the log reader footer element.
 *
 * @method _createCategoryCheckbox
 * @param sCategory {String} Category name.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_createCategoryCheckbox</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sCategory</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">oSelf</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">;

    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">var </span><span class="hl-identifier">elParent</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elCategoryFilters</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">filters</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_categoryFilters</span><span class="hl-code">;

        </span><span class="hl-reserved">var </span><span class="hl-identifier">elFilter</span><span class="hl-code"> = </span><span class="hl-identifier">elParent</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">span</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
        </span><span class="hl-identifier">elFilter</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-filtergrp</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-comment">// Append el at the end so IE 5.5 can set &quot;type&quot; attribute
            // and THEN set checked property
            </span><span class="hl-reserved">var </span><span class="hl-identifier">chkCategory</span><span class="hl-code"> = </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">input</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-identifier">chkCategory</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-filter-</span><span class="hl-quotes">&quot;</span><span class="hl-code"> + </span><span class="hl-identifier">sCategory</span><span class="hl-code"> + </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sName</span><span class="hl-code">;
            </span><span class="hl-identifier">chkCategory</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-filter-</span><span class="hl-quotes">&quot;</span><span class="hl-code"> + </span><span class="hl-identifier">sCategory</span><span class="hl-code">;
            </span><span class="hl-identifier">chkCategory</span><span class="hl-code">.</span><span class="hl-identifier">type</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">checkbox</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-identifier">chkCategory</span><span class="hl-code">.</span><span class="hl-identifier">category</span><span class="hl-code"> = </span><span class="hl-identifier">sCategory</span><span class="hl-code">;
            </span><span class="hl-identifier">chkCategory</span><span class="hl-code"> = </span><span class="hl-identifier">elFilter</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-identifier">chkCategory</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-identifier">chkCategory</span><span class="hl-code">.</span><span class="hl-identifier">checked</span><span class="hl-code"> = </span><span class="hl-reserved">true</span><span class="hl-code">;

            </span><span class="hl-comment">// Add this checked filter to the internal array of filters
            </span><span class="hl-identifier">filters</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">sCategory</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-comment">// Subscribe to the click event
            </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">addListener</span><span class="hl-brackets">(</span><span class="hl-identifier">chkCategory</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">click</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_onCheckCategory</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-brackets">)</span><span class="hl-code">;

            </span><span class="hl-comment">// Create and class the text label
            </span><span class="hl-reserved">var </span><span class="hl-identifier">lblCategory</span><span class="hl-code"> = </span><span class="hl-identifier">elFilter</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">label</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
            </span><span class="hl-identifier">lblCategory</span><span class="hl-code">.</span><span class="hl-identifier">htmlFor</span><span class="hl-code"> = </span><span class="hl-identifier">chkCategory</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">;
            </span><span class="hl-identifier">lblCategory</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-identifier">sCategory</span><span class="hl-code">;
            </span><span class="hl-identifier">lblCategory</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code"> = </span><span class="hl-identifier">sCategory</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Creates a checkbox in the log reader footer element to filter by source.
 *
 * @method _createSourceCheckbox
 * @param sSource {String} Source name.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_createSourceCheckbox</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">oSelf</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">;

    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">var </span><span class="hl-identifier">elParent</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elSourceFilters</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">filters</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sourceFilters</span><span class="hl-code">;

        </span><span class="hl-reserved">var </span><span class="hl-identifier">elFilter</span><span class="hl-code"> = </span><span class="hl-identifier">elParent</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">span</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
        </span><span class="hl-identifier">elFilter</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-filtergrp</span><span class="hl-quotes">&quot;</span><span class="hl-code">;

        </span><span class="hl-comment">// Append el at the end so IE 5.5 can set &quot;type&quot; attribute
        // and THEN set checked property
        </span><span class="hl-reserved">var </span><span class="hl-identifier">chkSource</span><span class="hl-code"> = </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">input</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">chkSource</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-filter</span><span class="hl-quotes">&quot;</span><span class="hl-code"> + </span><span class="hl-identifier">sSource</span><span class="hl-code"> + </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sName</span><span class="hl-code">;
        </span><span class="hl-identifier">chkSource</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">yui-log-filter</span><span class="hl-quotes">&quot;</span><span class="hl-code"> + </span><span class="hl-identifier">sSource</span><span class="hl-code">;
        </span><span class="hl-identifier">chkSource</span><span class="hl-code">.</span><span class="hl-identifier">type</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">checkbox</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
        </span><span class="hl-identifier">chkSource</span><span class="hl-code">.</span><span class="hl-identifier">source</span><span class="hl-code"> = </span><span class="hl-identifier">sSource</span><span class="hl-code">;
        </span><span class="hl-identifier">chkSource</span><span class="hl-code"> = </span><span class="hl-identifier">elFilter</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-identifier">chkSource</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">chkSource</span><span class="hl-code">.</span><span class="hl-identifier">checked</span><span class="hl-code"> = </span><span class="hl-reserved">true</span><span class="hl-code">;

        </span><span class="hl-comment">// Add this checked filter to the internal array of filters
        </span><span class="hl-identifier">filters</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-comment">// Subscribe to the click event
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">addListener</span><span class="hl-brackets">(</span><span class="hl-identifier">chkSource</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">click</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_onCheckSource</span><span class="hl-code">,</span><span class="hl-identifier">oSelf</span><span class="hl-brackets">)</span><span class="hl-code">;

        </span><span class="hl-comment">// Create and class the text label
        </span><span class="hl-reserved">var </span><span class="hl-identifier">lblSource</span><span class="hl-code"> = </span><span class="hl-identifier">elFilter</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">label</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">))</span><span class="hl-code">;
        </span><span class="hl-identifier">lblSource</span><span class="hl-code">.</span><span class="hl-identifier">htmlFor</span><span class="hl-code"> = </span><span class="hl-identifier">chkSource</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">;
        </span><span class="hl-identifier">lblSource</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-identifier">sSource</span><span class="hl-code">;
        </span><span class="hl-identifier">lblSource</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code"> = </span><span class="hl-identifier">sSource</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Reprints all log messages in the stack through filters.
 *
 * @method _filterLogs
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_filterLogs</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-comment">// Reprint stack with new filters
    </span><span class="hl-reserved">if </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code"> !== </span><span class="hl-reserved">null</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_clearConsole</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_printToConsole</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">getStack</span><span class="hl-brackets">())</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Clears all outputted log messages from the console and resets the time of the
 * last output log message.
 *
 * @method _clearConsole
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_clearConsole</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-comment">// Clear the buffer of any pending messages
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_timeout</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_buffer</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_consoleMsgCount</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">;

    </span><span class="hl-comment">// Reset the rolling timer
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_lastTime</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">getStartTime</span><span class="hl-brackets">()</span><span class="hl-code">;

    </span><span class="hl-reserved">var </span><span class="hl-identifier">elConsole</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">;
    </span><span class="hl-reserved">while</span><span class="hl-brackets">(</span><span class="hl-identifier">elConsole</span><span class="hl-code">.</span><span class="hl-identifier">hasChildNodes</span><span class="hl-brackets">()) {
        </span><span class="hl-identifier">elConsole</span><span class="hl-code">.</span><span class="hl-identifier">removeChild</span><span class="hl-brackets">(</span><span class="hl-identifier">elConsole</span><span class="hl-code">.</span><span class="hl-identifier">firstChild</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Sends buffer of log messages to output and clears buffer.
 *
 * @method _printBuffer
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_printBuffer</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_timeout</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;

    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code"> !== </span><span class="hl-reserved">null</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">var </span><span class="hl-identifier">thresholdMax</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">thresholdMax</span><span class="hl-code">;
        </span><span class="hl-identifier">thresholdMax</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-identifier">thresholdMax</span><span class="hl-code"> &amp;&amp; !</span><span class="hl-identifier">isNaN</span><span class="hl-brackets">(</span><span class="hl-identifier">thresholdMax</span><span class="hl-brackets">))</span><span class="hl-code"> ? </span><span class="hl-identifier">thresholdMax</span><span class="hl-code"> : </span><span class="hl-number">500</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_consoleMsgCount</span><span class="hl-code"> &lt; </span><span class="hl-identifier">thresholdMax</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">var </span><span class="hl-identifier">entries</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">;
            </span><span class="hl-reserved">for </span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_buffer</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
                </span><span class="hl-identifier">entries</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_buffer</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;
            </span><span class="hl-brackets">}
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_buffer</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_printToConsole</span><span class="hl-brackets">(</span><span class="hl-identifier">entries</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">else </span><span class="hl-brackets">{
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_filterLogs</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">newestOnTop</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">.</span><span class="hl-identifier">scrollTop</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">.</span><span class="hl-identifier">scrollHeight</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Cycles through an array of log messages, and outputs each one to the console
 * if its category has not been filtered out.
 *
 * @method _printToConsole
 * @param aEntries {Object[]} Array of LogMsg objects to output to console.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_printToConsole</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">aEntries</span><span class="hl-brackets">) {
    </span><span class="hl-comment">// Manage the number of messages displayed in the console
    </span><span class="hl-reserved">var </span><span class="hl-identifier">entriesLen</span><span class="hl-code"> = </span><span class="hl-identifier">aEntries</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">thresholdMin</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">thresholdMin</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isNaN</span><span class="hl-brackets">(</span><span class="hl-identifier">thresholdMin</span><span class="hl-brackets">)</span><span class="hl-code"> || </span><span class="hl-brackets">(</span><span class="hl-identifier">thresholdMin</span><span class="hl-code"> &gt; </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">thresholdMax</span><span class="hl-brackets">)) {
        </span><span class="hl-identifier">thresholdMin</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">var </span><span class="hl-identifier">entriesStartIndex</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-identifier">entriesLen</span><span class="hl-code"> &gt; </span><span class="hl-identifier">thresholdMin</span><span class="hl-brackets">)</span><span class="hl-code"> ? </span><span class="hl-brackets">(</span><span class="hl-identifier">entriesLen</span><span class="hl-code"> - </span><span class="hl-identifier">thresholdMin</span><span class="hl-brackets">)</span><span class="hl-code"> : </span><span class="hl-number">0</span><span class="hl-code">;
    
    </span><span class="hl-comment">// Iterate through all log entries 
    </span><span class="hl-reserved">var </span><span class="hl-identifier">sourceFiltersLen</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sourceFilters</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">categoryFiltersLen</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_categoryFilters</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;
    </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-identifier">entriesStartIndex</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">entriesLen</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
        </span><span class="hl-comment">// Print only the ones that filter through
        </span><span class="hl-reserved">var </span><span class="hl-identifier">okToPrint</span><span class="hl-code"> = </span><span class="hl-reserved">false</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">okToFilterCats</span><span class="hl-code"> = </span><span class="hl-reserved">false</span><span class="hl-code">;

        </span><span class="hl-comment">// Get log message details
        </span><span class="hl-reserved">var </span><span class="hl-identifier">entry</span><span class="hl-code"> = </span><span class="hl-identifier">aEntries</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">source</span><span class="hl-code"> = </span><span class="hl-identifier">entry</span><span class="hl-code">.</span><span class="hl-identifier">source</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">category</span><span class="hl-code"> = </span><span class="hl-identifier">entry</span><span class="hl-code">.</span><span class="hl-identifier">category</span><span class="hl-code">;

        </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">j</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">j</span><span class="hl-code">&lt;</span><span class="hl-identifier">sourceFiltersLen</span><span class="hl-code">; </span><span class="hl-identifier">j</span><span class="hl-code">++</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">source</span><span class="hl-code"> == </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sourceFilters</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]) {
                </span><span class="hl-identifier">okToFilterCats</span><span class="hl-code"> = </span><span class="hl-reserved">true</span><span class="hl-code">;
                </span><span class="hl-reserved">break</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">okToFilterCats</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">k</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">k</span><span class="hl-code">&lt;</span><span class="hl-identifier">categoryFiltersLen</span><span class="hl-code">; </span><span class="hl-identifier">k</span><span class="hl-code">++</span><span class="hl-brackets">) {
                </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">category</span><span class="hl-code"> == </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_categoryFilters</span><span class="hl-brackets">[</span><span class="hl-identifier">k</span><span class="hl-brackets">]) {
                    </span><span class="hl-identifier">okToPrint</span><span class="hl-code"> = </span><span class="hl-reserved">true</span><span class="hl-code">;
                    </span><span class="hl-reserved">break</span><span class="hl-code">;
                </span><span class="hl-brackets">}
            }
        }
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">okToPrint</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">var </span><span class="hl-identifier">output</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">formatMsg</span><span class="hl-brackets">(</span><span class="hl-identifier">entry</span><span class="hl-brackets">)</span><span class="hl-code">;

            </span><span class="hl-comment">// Verbose output uses &lt;code&gt; tag instead of &lt;pre&gt; tag (for wrapping)
            </span><span class="hl-reserved">var </span><span class="hl-identifier">container</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">verboseOutput</span><span class="hl-brackets">)</span><span class="hl-code"> ? </span><span class="hl-quotes">&quot;</span><span class="hl-string">CODE</span><span class="hl-quotes">&quot;</span><span class="hl-code"> : </span><span class="hl-quotes">&quot;</span><span class="hl-string">PRE</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
            </span><span class="hl-reserved">var </span><span class="hl-identifier">oNewElement</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">newestOnTop</span><span class="hl-brackets">)</span><span class="hl-code"> ?
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">.</span><span class="hl-identifier">insertBefore</span><span class="hl-brackets">(
                    </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-identifier">container</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">.</span><span class="hl-identifier">firstChild</span><span class="hl-brackets">)</span><span class="hl-code">:
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-identifier">container</span><span class="hl-brackets">))</span><span class="hl-code">;

            </span><span class="hl-identifier">oNewElement</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code"> = </span><span class="hl-identifier">output</span><span class="hl-code">;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_consoleMsgCount</span><span class="hl-code">++;
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_lastTime</span><span class="hl-code"> = </span><span class="hl-identifier">entry</span><span class="hl-code">.</span><span class="hl-identifier">time</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }
}</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Private event handlers
//
/////////////////////////////////////////////////////////////////////////////

/**
 * Handles Logger's categoryCreateEvent.
 *
 * @method _onCategoryCreate
 * @param sType {String} The event.
 * @param aArgs {Object[]} Data passed from event firer.
 * @param oSelf {Object} The LogReader instance.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_onCategoryCreate</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sType</span><span class="hl-code">, </span><span class="hl-identifier">aArgs</span><span class="hl-code">, </span><span class="hl-identifier">oSelf</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">category</span><span class="hl-code"> = </span><span class="hl-identifier">aArgs</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-brackets">) {
        </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_createCategoryCheckbox</span><span class="hl-brackets">(</span><span class="hl-identifier">category</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Handles Logger's sourceCreateEvent.
 *
 * @method _onSourceCreate
 * @param sType {String} The event.
 * @param aArgs {Object[]} Data passed from event firer.
 * @param oSelf {Object} The LogReader instance.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_onSourceCreate</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sType</span><span class="hl-code">, </span><span class="hl-identifier">aArgs</span><span class="hl-code">, </span><span class="hl-identifier">oSelf</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">source</span><span class="hl-code"> = </span><span class="hl-identifier">aArgs</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-brackets">) {
        </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_createSourceCheckbox</span><span class="hl-brackets">(</span><span class="hl-identifier">source</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Handles check events on the category filter checkboxes.
 *
 * @method _onCheckCategory
 * @param v {HTMLEvent} The click event.
 * @param oSelf {Object} The LogReader instance.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_onCheckCategory</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">v</span><span class="hl-code">, </span><span class="hl-identifier">oSelf</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">newFilter</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">category</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">filtersArray</span><span class="hl-code"> = </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_categoryFilters</span><span class="hl-code">;

    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">checked</span><span class="hl-brackets">) { </span><span class="hl-comment">// Remove category from filters
        </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">filtersArray</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">newFilter</span><span class="hl-code"> == </span><span class="hl-identifier">filtersArray</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]) {
                </span><span class="hl-identifier">filtersArray</span><span class="hl-code">.</span><span class="hl-identifier">splice</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;
                </span><span class="hl-reserved">break</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }
    }
    </span><span class="hl-reserved">else </span><span class="hl-brackets">{ </span><span class="hl-comment">// Add category to filters
        </span><span class="hl-identifier">filtersArray</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">newFilter</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_filterLogs</span><span class="hl-brackets">()</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Handles check events on the category filter checkboxes.
 *
 * @method _onCheckSource
 * @param v {HTMLEvent} The click event.
 * @param oSelf {Object} The log reader instance.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_onCheckSource</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">v</span><span class="hl-code">, </span><span class="hl-identifier">oSelf</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">newFilter</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">source</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">filtersArray</span><span class="hl-code"> = </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_sourceFilters</span><span class="hl-code">;

    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">checked</span><span class="hl-brackets">) { </span><span class="hl-comment">// Remove category from filters
        </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">filtersArray</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">newFilter</span><span class="hl-code"> == </span><span class="hl-identifier">filtersArray</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]) {
                </span><span class="hl-identifier">filtersArray</span><span class="hl-code">.</span><span class="hl-identifier">splice</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;
                </span><span class="hl-reserved">break</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }
    }
    </span><span class="hl-reserved">else </span><span class="hl-brackets">{ </span><span class="hl-comment">// Add category to filters
        </span><span class="hl-identifier">filtersArray</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">newFilter</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_filterLogs</span><span class="hl-brackets">()</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Handles click events on the collapse button.
 *
 * @method _onClickCollapseBtn
 * @param v {HTMLEvent} The click event.
 * @param oSelf {Object} The LogReader instance
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_onClickCollapseBtn</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">v</span><span class="hl-code">, </span><span class="hl-identifier">oSelf</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">btn</span><span class="hl-code"> = </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_btnCollapse</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">btn</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code"> == </span><span class="hl-quotes">&quot;</span><span class="hl-string">Expand</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">) {
        </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">display</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">block</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">display</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">block</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-identifier">btn</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">Collapse</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">else </span><span class="hl-brackets">{
        </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_elConsole</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">display</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">none</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_elFt</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">display</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">none</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-identifier">btn</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">Expand</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Handles click events on the pause button.
 *
 * @method _onClickPauseBtn
 * @param v {HTMLEvent} The click event.
 * @param oSelf {Object} The LogReader instance.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_onClickPauseBtn</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">v</span><span class="hl-code">, </span><span class="hl-identifier">oSelf</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">btn</span><span class="hl-code"> = </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_btnPause</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">btn</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code"> == </span><span class="hl-quotes">&quot;</span><span class="hl-string">Resume</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">) {
        </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">resume</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-identifier">btn</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">Pause</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">else </span><span class="hl-brackets">{
        </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">pause</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-identifier">btn</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">Resume</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Handles click events on the clear button.
 *
 * @method _onClickClearBtn
 * @param v {HTMLEvent} The click event.
 * @param oSelf {Object} The LogReader instance.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_onClickClearBtn</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">v</span><span class="hl-code">, </span><span class="hl-identifier">oSelf</span><span class="hl-brackets">) {
    </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_clearConsole</span><span class="hl-brackets">()</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Handles Logger's newLogEvent.
 *
 * @method _onNewLog
 * @param sType {String} The event.
 * @param aArgs {Object[]} Data passed from event firer.
 * @param oSelf {Object} The LogReader instance.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_onNewLog</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sType</span><span class="hl-code">, </span><span class="hl-identifier">aArgs</span><span class="hl-code">, </span><span class="hl-identifier">oSelf</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">var </span><span class="hl-identifier">logEntry</span><span class="hl-code"> = </span><span class="hl-identifier">aArgs</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;
    </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_buffer</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">logEntry</span><span class="hl-brackets">)</span><span class="hl-code">;

    </span><span class="hl-reserved">if </span><span class="hl-brackets">(</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">logReaderEnabled</span><span class="hl-code"> === </span><span class="hl-reserved">true</span><span class="hl-code"> &amp;&amp; </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_timeout</span><span class="hl-code"> === </span><span class="hl-reserved">null</span><span class="hl-brackets">) {
        </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_timeout</span><span class="hl-code"> = </span><span class="hl-identifier">setTimeout</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_printBuffer</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">, </span><span class="hl-number">100</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Handles Logger's resetEvent.
 *
 * @method _onReset
 * @param sType {String} The event.
 * @param aArgs {Object[]} Data passed from event firer.
 * @param oSelf {Object} The LogReader instance.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">LogReader</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">_onReset</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sType</span><span class="hl-code">, </span><span class="hl-identifier">aArgs</span><span class="hl-code">, </span><span class="hl-identifier">oSelf</span><span class="hl-brackets">) {
    </span><span class="hl-identifier">oSelf</span><span class="hl-code">.</span><span class="hl-identifier">_filterLogs</span><span class="hl-brackets">()</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;
 </span><span class="hl-comment">/**
 * The Logger widget provides a simple way to read or write log messages in
 * JavaScript code. Integration with the YUI Library's debug builds allow
 * implementers to access under-the-hood events, errors, and debugging messages.
 * Output may be read through a LogReader console and/or output to a browser
 * console.
 *
 * @module logger
 * @requires yahoo, event, dom
 * @optional dragdrop
 * @namespace YAHOO.widget
 * @title Logger Widget
 */
// holder
/****************************************************************************/
// holder
/****************************************************************************/
// holder
/****************************************************************************/
// holder
/**
 * The singleton Logger class provides core log management functionality. Saves
 * logs written through the global YAHOO.log function or written by a LogWriter
 * instance. Provides access to logs for reading by a LogReader instance or
 * native browser console such as the Firebug extension to Firefox or Safari's
 * JavaScript console through integration with the console.log() method.
 *
 * @class YAHOO.widget.Logger
 * @static
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default"> = </span><span class="hl-brackets">{
    </span><span class="hl-comment">// Initialize members
    </span><span class="hl-identifier">loggerEnabled</span><span class="hl-code">: </span><span class="hl-reserved">true</span><span class="hl-code">,
    </span><span class="hl-identifier">_browserConsoleEnabled</span><span class="hl-code">: </span><span class="hl-reserved">false</span><span class="hl-code">,
    </span><span class="hl-identifier">categories</span><span class="hl-code">: </span><span class="hl-brackets">[</span><span class="hl-quotes">&quot;</span><span class="hl-string">info</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">warn</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">error</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">time</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">window</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">]</span><span class="hl-code">,
    </span><span class="hl-identifier">sources</span><span class="hl-code">: </span><span class="hl-brackets">[</span><span class="hl-quotes">&quot;</span><span class="hl-string">global</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">]</span><span class="hl-code">,
    </span><span class="hl-identifier">_stack</span><span class="hl-code">: </span><span class="hl-brackets">[]</span><span class="hl-code">, </span><span class="hl-comment">// holds all log msgs
    </span><span class="hl-identifier">maxStackEntries</span><span class="hl-code">: </span><span class="hl-number">2500</span><span class="hl-code">,
    </span><span class="hl-identifier">_startTime</span><span class="hl-code">: </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">()</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-comment">// static start timestamp
    </span><span class="hl-identifier">_lastTime</span><span class="hl-code">: </span><span class="hl-reserved">null </span><span class="hl-comment">// timestamp of last logged message
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Public methods
//
/////////////////////////////////////////////////////////////////////////////
/**
 * Saves a log message to the stack and fires newLogEvent. If the log message is
 * assigned to an unknown category, creates a new category. If the log message is
 * from an unknown source, creates a new source.  If browser console is enabled,
 * outputs the log message to browser console.
 *
 * @method log
 * @param sMsg {String} The log message.
 * @param sCategory {String} Category of log message, or null.
 * @param sSource {String} Source of LogWriter, or null if global.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">log</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sMsg</span><span class="hl-code">, </span><span class="hl-identifier">sCategory</span><span class="hl-code">, </span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">loggerEnabled</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">sCategory</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">sCategory</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">info</span><span class="hl-quotes">&quot;</span><span class="hl-code">; </span><span class="hl-comment">// default category
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">else </span><span class="hl-brackets">{
            </span><span class="hl-identifier">sCategory</span><span class="hl-code"> = </span><span class="hl-identifier">sCategory</span><span class="hl-code">.</span><span class="hl-identifier">toLocaleLowerCase</span><span class="hl-brackets">()</span><span class="hl-code">;
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isNewCategory</span><span class="hl-brackets">(</span><span class="hl-identifier">sCategory</span><span class="hl-brackets">)) {
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_createNewCategory</span><span class="hl-brackets">(</span><span class="hl-identifier">sCategory</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }
        </span><span class="hl-reserved">var </span><span class="hl-identifier">sClass</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">global</span><span class="hl-quotes">&quot;</span><span class="hl-code">; </span><span class="hl-comment">// default source
        </span><span class="hl-reserved">var </span><span class="hl-identifier">sDetail</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">var </span><span class="hl-identifier">spaceIndex</span><span class="hl-code"> = </span><span class="hl-identifier">sSource</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot; &quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">spaceIndex</span><span class="hl-code"> &gt; </span><span class="hl-number">0</span><span class="hl-brackets">) {
                </span><span class="hl-comment">// Substring until first space
                </span><span class="hl-identifier">sClass</span><span class="hl-code"> = </span><span class="hl-identifier">sSource</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">spaceIndex</span><span class="hl-brackets">)</span><span class="hl-code">;
                </span><span class="hl-comment">// The rest of the source
                </span><span class="hl-identifier">sDetail</span><span class="hl-code"> = </span><span class="hl-identifier">sSource</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-identifier">spaceIndex</span><span class="hl-code">,</span><span class="hl-identifier">sSource</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-brackets">}
            </span><span class="hl-reserved">else </span><span class="hl-brackets">{
                </span><span class="hl-identifier">sClass</span><span class="hl-code"> = </span><span class="hl-identifier">sSource</span><span class="hl-code">;
            </span><span class="hl-brackets">}
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isNewSource</span><span class="hl-brackets">(</span><span class="hl-identifier">sClass</span><span class="hl-brackets">)) {
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_createNewSource</span><span class="hl-brackets">(</span><span class="hl-identifier">sClass</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }

        </span><span class="hl-reserved">var </span><span class="hl-identifier">timestamp</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">logEntry</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">LogMsg</span><span class="hl-brackets">({
            </span><span class="hl-identifier">msg</span><span class="hl-code">: </span><span class="hl-identifier">sMsg</span><span class="hl-code">,
            </span><span class="hl-identifier">time</span><span class="hl-code">: </span><span class="hl-identifier">timestamp</span><span class="hl-code">,
            </span><span class="hl-identifier">category</span><span class="hl-code">: </span><span class="hl-identifier">sCategory</span><span class="hl-code">,
            </span><span class="hl-identifier">source</span><span class="hl-code">: </span><span class="hl-identifier">sClass</span><span class="hl-code">,
            </span><span class="hl-identifier">sourceDetail</span><span class="hl-code">: </span><span class="hl-identifier">sDetail
        </span><span class="hl-brackets">})</span><span class="hl-code">;

        </span><span class="hl-reserved">var </span><span class="hl-identifier">stack</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_stack</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">maxStackEntries</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxStackEntries</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">maxStackEntries</span><span class="hl-code"> &amp;&amp; !</span><span class="hl-identifier">isNaN</span><span class="hl-brackets">(</span><span class="hl-identifier">maxStackEntries</span><span class="hl-brackets">)</span><span class="hl-code"> &amp;&amp;
            </span><span class="hl-brackets">(</span><span class="hl-identifier">stack</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code"> &gt;= </span><span class="hl-identifier">maxStackEntries</span><span class="hl-brackets">)) {
            </span><span class="hl-identifier">stack</span><span class="hl-code">.</span><span class="hl-identifier">shift</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-identifier">stack</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">logEntry</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">newLogEvent</span><span class="hl-code">.</span><span class="hl-identifier">fire</span><span class="hl-brackets">(</span><span class="hl-identifier">logEntry</span><span class="hl-brackets">)</span><span class="hl-code">;

        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_browserConsoleEnabled</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_printToBrowserConsole</span><span class="hl-brackets">(</span><span class="hl-identifier">logEntry</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">return true</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">else </span><span class="hl-brackets">{
        </span><span class="hl-reserved">return false</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Resets internal stack and startTime, enables Logger, and fires logResetEvent.
 *
 * @method reset
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">reset</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_stack</span><span class="hl-code"> = </span><span class="hl-brackets">[]</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_startTime</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">()</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">loggerEnabled</span><span class="hl-code"> = </span><span class="hl-reserved">true</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">Logger reset</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">logResetEvent</span><span class="hl-code">.</span><span class="hl-identifier">fire</span><span class="hl-brackets">()</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public accessor to internal stack of log message objects.
 *
 * @method getStack
 * @return {Object[]} Array of log message objects.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">getStack</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">_stack</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Public accessor to internal start time.
 *
 * @method getStartTime
 * @return {Date} Internal date of when Logger singleton was initialized.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">getStartTime</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">_startTime</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Disables output to the browser's global console.log() function, which is used
 * by the Firebug extension to Firefox as well as Safari.
 *
 * @method disableBrowserConsole
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">disableBrowserConsole</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">Logger output to the function console.log() has been disabled.</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_browserConsoleEnabled</span><span class="hl-code"> = </span><span class="hl-reserved">false</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Enables output to the browser's global console.log() function, which is used
 * by the Firebug extension to Firefox as well as Safari.
 *
 * @method enableBrowserConsole
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">enableBrowserConsole</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">() {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_browserConsoleEnabled</span><span class="hl-code"> = </span><span class="hl-reserved">true</span><span class="hl-code">;
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">Logger output to the function console.log() has been enabled.</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Public events
//
/////////////////////////////////////////////////////////////////////////////

 /**
 * Fired when a new category has been created.
 *
 * @event categoryCreateEvent
 * @param sCategory {String} Category name.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">categoryCreateEvent</span><span class="hl-default"> =
    </span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">util</span><span class="hl-default">.</span><span class="hl-identifier">CustomEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">categoryCreate</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-default">;

 </span><span class="hl-comment">/**
 * Fired when a new source has been named.
 *
 * @event sourceCreateEvent
 * @param sSource {String} Source name.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">sourceCreateEvent</span><span class="hl-default"> =
    </span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">util</span><span class="hl-default">.</span><span class="hl-identifier">CustomEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">sourceCreate</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-default">;

 </span><span class="hl-comment">/**
 * Fired when a new log message has been created.
 *
 * @event newLogEvent
 * @param sMsg {String} Log message.
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">newLogEvent</span><span class="hl-default"> = </span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">util</span><span class="hl-default">.</span><span class="hl-identifier">CustomEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">newLog</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Fired when the Logger has been reset has been created.
 *
 * @event logResetEvent
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">logResetEvent</span><span class="hl-default"> = </span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">util</span><span class="hl-default">.</span><span class="hl-identifier">CustomEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">logReset</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Private methods
//
/////////////////////////////////////////////////////////////////////////////

/**
 * Creates a new category of log messages and fires categoryCreateEvent.
 *
 * @method _createNewCategory
 * @param sCategory {String} Category name.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">_createNewCategory</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sCategory</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">categories</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">sCategory</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">categoryCreateEvent</span><span class="hl-code">.</span><span class="hl-identifier">fire</span><span class="hl-brackets">(</span><span class="hl-identifier">sCategory</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Checks to see if a category has already been created.
 *
 * @method _isNewCategory
 * @param sCategory {String} Category name.
 * @return {Boolean} Returns true if category is unknown, else returns false.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">_isNewCategory</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sCategory</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code"> &lt; </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">categories</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">sCategory</span><span class="hl-code"> == </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">categories</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]) {
            </span><span class="hl-reserved">return false</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }
    </span><span class="hl-reserved">return true</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Creates a new source of log messages and fires sourceCreateEvent.
 *
 * @method _createNewSource
 * @param sSource {String} Source name.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">_createNewSource</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">sources</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">sourceCreateEvent</span><span class="hl-code">.</span><span class="hl-identifier">fire</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Checks to see if a source already exists.
 *
 * @method _isNewSource
 * @param sSource {String} Source name.
 * @return {Boolean} Returns true if source is unknown, else returns false.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">_isNewSource</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code"> &lt; </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">sources</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">sSource</span><span class="hl-code"> == </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">sources</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]) {
                </span><span class="hl-reserved">return false</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }
        </span><span class="hl-reserved">return true</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * Outputs a log message to global console.log() function.
 *
 * @method _printToBrowserConsole
 * @param oEntry {Object} Log entry object.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">_printToBrowserConsole</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">oEntry</span><span class="hl-brackets">) {
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">console</span><span class="hl-code"> &amp;&amp; </span><span class="hl-identifier">console</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">var </span><span class="hl-identifier">category</span><span class="hl-code"> = </span><span class="hl-identifier">oEntry</span><span class="hl-code">.</span><span class="hl-identifier">category</span><span class="hl-code">;
        </span><span class="hl-reserved">var label</span><span class="hl-code"> = </span><span class="hl-identifier">oEntry</span><span class="hl-code">.</span><span class="hl-identifier">category</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-number">4</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">toUpperCase</span><span class="hl-brackets">()</span><span class="hl-code">;

        </span><span class="hl-reserved">var </span><span class="hl-identifier">time</span><span class="hl-code"> = </span><span class="hl-identifier">oEntry</span><span class="hl-code">.</span><span class="hl-identifier">time</span><span class="hl-code">;
        </span><span class="hl-reserved">if </span><span class="hl-brackets">(</span><span class="hl-identifier">time</span><span class="hl-code">.</span><span class="hl-identifier">toLocaleTimeString</span><span class="hl-brackets">) {
            </span><span class="hl-reserved">var </span><span class="hl-identifier">localTime</span><span class="hl-code">  = </span><span class="hl-identifier">time</span><span class="hl-code">.</span><span class="hl-identifier">toLocaleTimeString</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">else </span><span class="hl-brackets">{
            </span><span class="hl-identifier">localTime</span><span class="hl-code"> = </span><span class="hl-identifier">time</span><span class="hl-code">.</span><span class="hl-identifier">toString</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-brackets">}

        </span><span class="hl-reserved">var </span><span class="hl-identifier">msecs</span><span class="hl-code"> = </span><span class="hl-identifier">time</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">elapsedTime</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">_lastTime</span><span class="hl-brackets">)</span><span class="hl-code"> ?
            </span><span class="hl-brackets">(</span><span class="hl-identifier">msecs</span><span class="hl-code"> - </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">_lastTime</span><span class="hl-brackets">)</span><span class="hl-code"> : </span><span class="hl-number">0</span><span class="hl-code">;
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">_lastTime</span><span class="hl-code"> = </span><span class="hl-identifier">msecs</span><span class="hl-code">;

        </span><span class="hl-reserved">var </span><span class="hl-identifier">output</span><span class="hl-code"> =
            </span><span class="hl-identifier">localTime</span><span class="hl-code"> + </span><span class="hl-quotes">&quot;</span><span class="hl-string"> (</span><span class="hl-quotes">&quot;</span><span class="hl-code"> +
            </span><span class="hl-identifier">elapsedTime</span><span class="hl-code"> + </span><span class="hl-quotes">&quot;</span><span class="hl-string">ms): </span><span class="hl-quotes">&quot;</span><span class="hl-code"> +
            </span><span class="hl-identifier">oEntry</span><span class="hl-code">.</span><span class="hl-identifier">source</span><span class="hl-code"> + </span><span class="hl-quotes">&quot;</span><span class="hl-string">: </span><span class="hl-quotes">&quot;</span><span class="hl-code"> +
            </span><span class="hl-identifier">oEntry</span><span class="hl-code">.</span><span class="hl-identifier">msg</span><span class="hl-code">;

        </span><span class="hl-identifier">console</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-identifier">output</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Private event handlers
//
/////////////////////////////////////////////////////////////////////////////

/**
 * Handles logging of messages due to window error events.
 *
 * @method _onWindowError
 * @param sMsg {String} The error message.
 * @param sUrl {String} URL of the error.
 * @param sLine {String} Line number of the error.
 * @private
 */
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">_onWindowError</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">sMsg</span><span class="hl-code">,</span><span class="hl-identifier">sUrl</span><span class="hl-code">,</span><span class="hl-identifier">sLine</span><span class="hl-brackets">) {
    </span><span class="hl-comment">// Logger is not in scope of this event handler
    </span><span class="hl-reserved">try </span><span class="hl-brackets">{
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-identifier">sMsg</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string"> (</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">sUrl</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">, line </span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">sLine</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">)</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">window</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">_origOnWindowError</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">_origOnWindowError</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }
    </span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">return false</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// Enable handling of native JavaScript errors
// NB: Not all browsers support the window.onerror event
//
/////////////////////////////////////////////////////////////////////////////

</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">onerror</span><span class="hl-brackets">) {
    </span><span class="hl-comment">// Save any previously defined handler to call
    </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">.</span><span class="hl-identifier">_origOnWindowError</span><span class="hl-code"> = </span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">onerror</span><span class="hl-code">;
</span><span class="hl-brackets">}
</span><span class="hl-builtin">window</span><span class="hl-default">.</span><span class="hl-identifier">onerror</span><span class="hl-default"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">_onWindowError</span><span class="hl-default">;

</span><span class="hl-comment">/////////////////////////////////////////////////////////////////////////////
//
// First log
//
/////////////////////////////////////////////////////////////////////////////

</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">widget</span><span class="hl-default">.</span><span class="hl-identifier">Logger</span><span class="hl-default">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">Logger initialized</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-default">;

</span></pre></div><hr>Copyright &copy; 2006 Jack Slocum. All rights reserved.</body></html>