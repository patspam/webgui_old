<html><head><title>DatePicker.js</title><link rel="stylesheet" type="text/css" href="../style.css" media="screen"/></head><body><div class="hl-main"><pre><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">, </span><span class="hl-identifier">parentElement</span><span class="hl-brackets">){
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code"> = </span><span class="hl-identifier">id</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">selectedDate</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">shadow</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">callback</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">buildControl</span><span class="hl-brackets">(</span><span class="hl-identifier">parentElement</span><span class="hl-code"> || </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">mouseDownHandler</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">EventManager</span><span class="hl-code">.</span><span class="hl-identifier">wrap</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleMouseDown</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">keyDownHandler</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">EventManager</span><span class="hl-code">.</span><span class="hl-identifier">wrap</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleKeyDown</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">wheelHandler</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">ext</span><span class="hl-code">.</span><span class="hl-identifier">EventManager</span><span class="hl-code">.</span><span class="hl-identifier">wrap</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleMouseWheel</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default"> = </span><span class="hl-brackets">{
    </span><span class="hl-identifier">show</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">, </span><span class="hl-identifier">y</span><span class="hl-code">, </span><span class="hl-identifier">value</span><span class="hl-code">, </span><span class="hl-identifier">callback</span><span class="hl-brackets">){
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">hide</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">selectedDate</span><span class="hl-code"> = </span><span class="hl-identifier">value</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code"> = </span><span class="hl-identifier">value</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">callback</span><span class="hl-code"> = </span><span class="hl-identifier">callback</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">refresh</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">show</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">setXY</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainToViewport</span><span class="hl-code"> ? </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainXY</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">, </span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code"> : </span><span class="hl-brackets">[</span><span class="hl-identifier">x</span><span class="hl-code">, </span><span class="hl-identifier">y</span><span class="hl-brackets">])</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">shadow</span><span class="hl-code">.</span><span class="hl-identifier">show</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">shadow</span><span class="hl-code">.</span><span class="hl-identifier">setRegion</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">getRegion</span><span class="hl-brackets">())</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">dom</span><span class="hl-code">.</span><span class="hl-identifier">tabIndex</span><span class="hl-code"> = </span><span class="hl-number">1</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">focus</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">mousedown</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">mouseDownHandler</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">keydown</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">keyDownHandler</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">mousewheel</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">wheelHandler</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">DOMMouseScroll</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">wheelHandler</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">constrainXY</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">, </span><span class="hl-identifier">y</span><span class="hl-brackets">){
        </span><span class="hl-reserved">var </span><span class="hl-identifier">w</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getViewportWidth</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">h</span><span class="hl-code"> = </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getViewportHeight</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">size</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">getSize</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">return </span><span class="hl-brackets">[
            </span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">min</span><span class="hl-brackets">(</span><span class="hl-identifier">w</span><span class="hl-code">-</span><span class="hl-identifier">size</span><span class="hl-code">.</span><span class="hl-identifier">width</span><span class="hl-code">, </span><span class="hl-identifier">x</span><span class="hl-brackets">)</span><span class="hl-code">,
            </span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">min</span><span class="hl-brackets">(</span><span class="hl-identifier">h</span><span class="hl-code">-</span><span class="hl-identifier">size</span><span class="hl-code">.</span><span class="hl-identifier">height</span><span class="hl-code">, </span><span class="hl-identifier">y</span><span class="hl-brackets">)
        ]</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">hide</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">shadow</span><span class="hl-code">.</span><span class="hl-identifier">hide</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">hide</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">removeListener</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">mousedown</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">mouseDownHandler</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">removeListener</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">keydown</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">keyDownHandler</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">removeListener</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">mousewheel</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">wheelHandler</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">removeListener</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">, </span><span class="hl-quotes">&quot;</span><span class="hl-string">DOMMouseScroll</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">wheelHandler</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">setSelectedDate</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">date</span><span class="hl-brackets">){
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">selectedDate</span><span class="hl-code"> = </span><span class="hl-identifier">date</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">getSelectedDate</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
        </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">selectedDate</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">showPrevMonth</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getPrevMonth</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">refresh</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">showNextMonth</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getNextMonth</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">refresh</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">showPrevYear</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
        </span><span class="hl-reserved">var </span><span class="hl-identifier">d</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">()</span><span class="hl-code">-</span><span class="hl-number">1</span><span class="hl-code">, </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getDate</span><span class="hl-brackets">())</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">refresh</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">showNextYear</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
        </span><span class="hl-reserved">var </span><span class="hl-identifier">d</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">()</span><span class="hl-code">+</span><span class="hl-number">1</span><span class="hl-code">, </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getDate</span><span class="hl-brackets">())</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">refresh</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">handleMouseDown</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){
        </span><span class="hl-reserved">var </span><span class="hl-identifier">target</span><span class="hl-code"> = </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">getTarget</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">target</span><span class="hl-code"> != </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">dom</span><span class="hl-code"> &amp;&amp; !</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">isAncestor</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">dom</span><span class="hl-code">, </span><span class="hl-identifier">target</span><span class="hl-brackets">)){
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">hide</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }</span><span class="hl-code">,
    
    </span><span class="hl-identifier">handleKeyDown</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){
        </span><span class="hl-reserved">switch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">browserEvent</span><span class="hl-code">.</span><span class="hl-identifier">keyCode</span><span class="hl-brackets">){
            </span><span class="hl-reserved">case </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">LEFT</span><span class="hl-code">:
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">showPrevMonth</span><span class="hl-brackets">()</span><span class="hl-code">;
                </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">()</span><span class="hl-code">;
            </span><span class="hl-reserved">break</span><span class="hl-code">;
            </span><span class="hl-reserved">case </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">RIGHT</span><span class="hl-code">:
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">showNextMonth</span><span class="hl-brackets">()</span><span class="hl-code">;
                </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">()</span><span class="hl-code">;
            </span><span class="hl-reserved">break</span><span class="hl-code">;
            </span><span class="hl-reserved">case </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">DOWN</span><span class="hl-code">:
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">showPrevYear</span><span class="hl-brackets">()</span><span class="hl-code">;
                </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">()</span><span class="hl-code">;
            </span><span class="hl-reserved">break</span><span class="hl-code">;
            </span><span class="hl-reserved">case </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">UP</span><span class="hl-code">:
                </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">showNextYear</span><span class="hl-brackets">()</span><span class="hl-code">;
                </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">()</span><span class="hl-code">;
            </span><span class="hl-reserved">break</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }</span><span class="hl-code">,
    
    </span><span class="hl-identifier">handleMouseWheel</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){
        </span><span class="hl-reserved">var </span><span class="hl-identifier">delta</span><span class="hl-code"> = </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">getWheelDelta</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">delta</span><span class="hl-code"> &gt; </span><span class="hl-number">0</span><span class="hl-brackets">){
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">showPrevMonth</span><span class="hl-brackets">()</span><span class="hl-code">;
            </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-brackets">} </span><span class="hl-reserved">else if</span><span class="hl-brackets">(</span><span class="hl-identifier">delta</span><span class="hl-code"> &lt; </span><span class="hl-number">0</span><span class="hl-brackets">){
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">showNextMonth</span><span class="hl-brackets">()</span><span class="hl-code">;
            </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }</span><span class="hl-code">,
    
    </span><span class="hl-identifier">handleClick</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){
        </span><span class="hl-reserved">var </span><span class="hl-identifier">d</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">t</span><span class="hl-code"> = </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">getTarget</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code"> &amp;&amp; </span><span class="hl-identifier">t</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-brackets">){
            </span><span class="hl-reserved">switch</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-brackets">){
                </span><span class="hl-reserved">case </span><span class="hl-quotes">'</span><span class="hl-string">active</span><span class="hl-quotes">'</span><span class="hl-code">:
                    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleSelection</span><span class="hl-brackets">(</span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-brackets">)))</span><span class="hl-code">;
                </span><span class="hl-reserved">break</span><span class="hl-code">;
                </span><span class="hl-reserved">case </span><span class="hl-quotes">'</span><span class="hl-string">prevday</span><span class="hl-quotes">'</span><span class="hl-code">:
                    </span><span class="hl-reserved">var </span><span class="hl-identifier">p</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getPrevMonth</span><span class="hl-brackets">(</span><span class="hl-identifier">d</span><span class="hl-brackets">)</span><span class="hl-code">;
                    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleSelection</span><span class="hl-brackets">(</span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-identifier">p</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">p</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-brackets">)))</span><span class="hl-code">;
                </span><span class="hl-reserved">break</span><span class="hl-code">;
                </span><span class="hl-reserved">case </span><span class="hl-quotes">'</span><span class="hl-string">nextday</span><span class="hl-quotes">'</span><span class="hl-code">:
                    </span><span class="hl-reserved">var </span><span class="hl-identifier">n</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getNextMonth</span><span class="hl-brackets">(</span><span class="hl-identifier">d</span><span class="hl-brackets">)</span><span class="hl-code">;
                    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleSelection</span><span class="hl-brackets">(</span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-identifier">n</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">n</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-brackets">)))</span><span class="hl-code">;
                </span><span class="hl-reserved">break</span><span class="hl-code">;
                </span><span class="hl-reserved">case </span><span class="hl-quotes">'</span><span class="hl-string">ypopcal-today</span><span class="hl-quotes">'</span><span class="hl-code">:
                    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleSelection</span><span class="hl-brackets">(</span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">())</span><span class="hl-code">;
                </span><span class="hl-reserved">break</span><span class="hl-code">;
                </span><span class="hl-reserved">case </span><span class="hl-quotes">'</span><span class="hl-string">next-month</span><span class="hl-quotes">'</span><span class="hl-code">:
                    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">showNextMonth</span><span class="hl-brackets">()</span><span class="hl-code">;
                </span><span class="hl-reserved">break</span><span class="hl-code">;
                </span><span class="hl-reserved">case </span><span class="hl-quotes">'</span><span class="hl-string">prev-month</span><span class="hl-quotes">'</span><span class="hl-code">:
                    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">showPrevMonth</span><span class="hl-brackets">()</span><span class="hl-code">;
                </span><span class="hl-reserved">break</span><span class="hl-code">;
            </span><span class="hl-brackets">}   
        }
        </span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">selectToday</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleSelection</span><span class="hl-brackets">(</span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">())</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">handleSelection</span><span class="hl-code">: </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">date</span><span class="hl-brackets">){
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">selectedDate</span><span class="hl-code"> = </span><span class="hl-identifier">date</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">callback</span><span class="hl-brackets">(</span><span class="hl-identifier">date</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">hide</span><span class="hl-brackets">()</span><span class="hl-code">;    
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">getPrevMonth</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">d</span><span class="hl-brackets">){
        </span><span class="hl-reserved">var </span><span class="hl-identifier">m</span><span class="hl-code"> = </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">y</span><span class="hl-code"> = </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">0</span><span class="hl-code"> ? </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-code">--</span><span class="hl-identifier">y</span><span class="hl-code">, </span><span class="hl-number">11</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code"> : </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-identifier">y</span><span class="hl-code">, --</span><span class="hl-identifier">m</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">))</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">getNextMonth</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">d</span><span class="hl-brackets">){
        </span><span class="hl-reserved">var </span><span class="hl-identifier">m</span><span class="hl-code"> = </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">y</span><span class="hl-code"> = </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">11</span><span class="hl-code"> ? </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-code">++</span><span class="hl-identifier">y</span><span class="hl-code">, </span><span class="hl-number">0</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code"> : </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-identifier">y</span><span class="hl-code">, ++</span><span class="hl-identifier">m</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">))</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">getDaysInMonth</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">m</span><span class="hl-code">, </span><span class="hl-identifier">y</span><span class="hl-brackets">){
        </span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">1</span><span class="hl-code"> || </span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">3</span><span class="hl-code"> || </span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">5</span><span class="hl-code"> || </span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">7</span><span class="hl-code"> || </span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">8</span><span class="hl-code"> || </span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">10</span><span class="hl-code"> || </span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">12</span><span class="hl-brackets">)</span><span class="hl-code"> ? </span><span class="hl-number">31</span><span class="hl-code"> : </span><span class="hl-brackets">(</span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">4</span><span class="hl-code"> || </span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">6</span><span class="hl-code"> || </span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">9</span><span class="hl-code"> || </span><span class="hl-identifier">m</span><span class="hl-code"> == </span><span class="hl-number">11</span><span class="hl-brackets">)</span><span class="hl-code"> ? </span><span class="hl-number">30</span><span class="hl-code"> : </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isLeapYear</span><span class="hl-brackets">(</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code"> ? </span><span class="hl-number">29</span><span class="hl-code"> : </span><span class="hl-number">28</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">isLeapYear</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">y</span><span class="hl-brackets">){
        </span><span class="hl-reserved">return </span><span class="hl-brackets">(((</span><span class="hl-identifier">y</span><span class="hl-code"> % </span><span class="hl-number">4</span><span class="hl-brackets">)</span><span class="hl-code"> == </span><span class="hl-number">0</span><span class="hl-brackets">)</span><span class="hl-code"> &amp;&amp; </span><span class="hl-brackets">((</span><span class="hl-identifier">y</span><span class="hl-code"> % </span><span class="hl-number">100</span><span class="hl-brackets">)</span><span class="hl-code"> != </span><span class="hl-number">0</span><span class="hl-brackets">)</span><span class="hl-code"> || </span><span class="hl-brackets">((</span><span class="hl-identifier">y</span><span class="hl-code"> % </span><span class="hl-number">400</span><span class="hl-brackets">)</span><span class="hl-code"> == </span><span class="hl-number">0</span><span class="hl-brackets">))</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">clearTime</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">date</span><span class="hl-brackets">){
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">date</span><span class="hl-brackets">){
            </span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">setHours</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">setMinutes</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">setSeconds</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">setMilliseconds</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">return </span><span class="hl-identifier">date</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">,
    
    </span><span class="hl-identifier">refresh</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
        </span><span class="hl-reserved">var </span><span class="hl-identifier">d</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">visibleDate</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">buildInnerCal</span><span class="hl-brackets">(</span><span class="hl-identifier">d</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">calHead</span><span class="hl-code">.</span><span class="hl-identifier">update</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">monthNames</span><span class="hl-brackets">[</span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()]</span><span class="hl-code"> + </span><span class="hl-quotes">' '</span><span class="hl-code"> + </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">())</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">isVisible</span><span class="hl-brackets">()){
            </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">shadow</span><span class="hl-code">.</span><span class="hl-identifier">setRegion</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">getRegion</span><span class="hl-brackets">())</span><span class="hl-code">;
        </span><span class="hl-brackets">}
    }
}</span><span class="hl-default">;

</span><span class="hl-comment">/**
 * This code is not pretty, but it is fast!
 * @ignore
 */ 
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">buildControl</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">parentElement</span><span class="hl-brackets">){
    </span><span class="hl-reserved">var </span><span class="hl-identifier">c</span><span class="hl-code"> = </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">div</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">position</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">absolute</span><span class="hl-quotes">'</span><span class="hl-code">;
    </span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">visibility</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">hidden</span><span class="hl-quotes">'</span><span class="hl-code">;
    </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-identifier">c</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">html</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">&lt;iframe id=&quot;</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">_shdw&quot; frameborder=&quot;0&quot; style=&quot;position:absolute; z-index:2000; display:none; top:0px; left:0px;&quot; class=&quot;ypopcal-shadow&quot;&gt;&lt;/iframe&gt;</span><span class="hl-quotes">'</span><span class="hl-code"> +
    </span><span class="hl-quotes">'</span><span class="hl-string">&lt;div hidefocus=&quot;true&quot; class=&quot;ypopcal&quot; id=&quot;</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">&quot; style=&quot;-moz-outline:none; position:absolute; z-index:2001; display:none; top:0px; left:0px;&quot;&gt;</span><span class="hl-quotes">'</span><span class="hl-code"> +
    </span><span class="hl-quotes">'</span><span class="hl-string">&lt;table class=&quot;ypopcal-head&quot; border=0 cellpadding=0 cellspacing=0&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;ypopcal-arrow&quot;&gt;&lt;div class=&quot;prev-month&quot;&gt;&amp;#160;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;ypopcal-month&quot;&gt;&amp;#160;&lt;/td&gt;&lt;td class=&quot;ypopcal-arrow&quot;&gt;&lt;div class=&quot;next-month&quot;&gt;&amp;#160;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</span><span class="hl-quotes">'</span><span class="hl-code"> +
    </span><span class="hl-quotes">'</span><span class="hl-string">&lt;center&gt;&lt;div class=&quot;ypopcal-inner&quot;&gt;</span><span class="hl-quotes">'</span><span class="hl-code">;
    </span><span class="hl-identifier">html</span><span class="hl-code"> += </span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;table border=0 cellpadding=2 cellspacing=0 class=</span><span class="hl-special">\&quot;</span><span class="hl-string">ypopcal-table</span><span class="hl-special">\&quot;</span><span class="hl-string">&gt;&lt;thead&gt;&lt;tr class=</span><span class="hl-special">\&quot;</span><span class="hl-string">ypopcal-daynames</span><span class="hl-special">\&quot;</span><span class="hl-string">&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">names</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dayNames</span><span class="hl-code">;
    </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code"> &lt; </span><span class="hl-identifier">names</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">){
        </span><span class="hl-identifier">html</span><span class="hl-code"> += </span><span class="hl-quotes">'</span><span class="hl-string">&lt;td&gt;</span><span class="hl-quotes">'</span><span class="hl-code"> + </span><span class="hl-identifier">names</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">substr</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code"> + </span><span class="hl-quotes">'</span><span class="hl-string">&lt;/td&gt;</span><span class="hl-quotes">'</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-identifier">html</span><span class="hl-code">+= </span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
    </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code"> &lt; </span><span class="hl-number">42</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code"> % </span><span class="hl-number">7</span><span class="hl-code"> == </span><span class="hl-number">0</span><span class="hl-code"> &amp;&amp; </span><span class="hl-identifier">i</span><span class="hl-code"> != </span><span class="hl-number">0</span><span class="hl-brackets">){
            </span><span class="hl-identifier">html</span><span class="hl-code"> += </span><span class="hl-quotes">'</span><span class="hl-string">&lt;/tr&gt;&lt;tr&gt;</span><span class="hl-quotes">'</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-identifier">html</span><span class="hl-code"> += </span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;td&gt;&amp;nbsp;&lt;/td&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-identifier">html</span><span class="hl-code"> += </span><span class="hl-quotes">&quot;</span><span class="hl-string">&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</span><span class="hl-quotes">&quot;</span><span class="hl-code">;
    </span><span class="hl-identifier">html</span><span class="hl-code"> += </span><span class="hl-quotes">'</span><span class="hl-string">&lt;/div&gt;&lt;button class=&quot;ypopcal-today&quot; style=&quot;margin-top:2px;&quot;&gt;</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">todayText</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">&lt;/button&gt;&lt;/center&gt;&lt;/div&gt;</span><span class="hl-quotes">'</span><span class="hl-code">;
    </span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code"> = </span><span class="hl-identifier">html</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">shadow</span><span class="hl-code"> = </span><span class="hl-identifier">getEl</span><span class="hl-brackets">(</span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">childNodes</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">shadow</span><span class="hl-code">.</span><span class="hl-identifier">enableDisplayMode</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code"> = </span><span class="hl-identifier">getEl</span><span class="hl-brackets">(</span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">childNodes</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">enableDisplayMode</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">shadow</span><span class="hl-code">.</span><span class="hl-identifier">dom</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">dom</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">removeChild</span><span class="hl-brackets">(</span><span class="hl-identifier">c</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">selectstart</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return false</span><span class="hl-code">;</span><span class="hl-brackets">})</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">tbody</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">dom</span><span class="hl-code">.</span><span class="hl-identifier">getElementsByTagName</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">tbody</span><span class="hl-quotes">'</span><span class="hl-brackets">)[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">cells</span><span class="hl-code"> = </span><span class="hl-identifier">tbody</span><span class="hl-code">.</span><span class="hl-identifier">getElementsByTagName</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">td</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">calHead</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">getChildrenByClassName</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">ypopcal-month</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">td</span><span class="hl-quotes">'</span><span class="hl-brackets">)[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">element</span><span class="hl-code">.</span><span class="hl-identifier">mon</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">mousedown</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleClick</span><span class="hl-code">, </span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;

</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">buildInnerCal</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">dateVal</span><span class="hl-brackets">){
    </span><span class="hl-reserved">var </span><span class="hl-identifier">days</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getDaysInMonth</span><span class="hl-brackets">(</span><span class="hl-identifier">dateVal</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code"> + </span><span class="hl-number">1</span><span class="hl-code">, </span><span class="hl-identifier">dateVal</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">())</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">firstOfMonth</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-identifier">dateVal</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">dateVal</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">startingPos</span><span class="hl-code"> = </span><span class="hl-identifier">firstOfMonth</span><span class="hl-code">.</span><span class="hl-identifier">getDay</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">startingPos</span><span class="hl-code"> == </span><span class="hl-number">0</span><span class="hl-brackets">) </span><span class="hl-identifier">startingPos</span><span class="hl-code"> = </span><span class="hl-number">7</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">pm</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getPrevMonth</span><span class="hl-brackets">(</span><span class="hl-identifier">dateVal</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">prevStart</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getDaysInMonth</span><span class="hl-brackets">(</span><span class="hl-identifier">pm</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">+</span><span class="hl-number">1</span><span class="hl-code">, </span><span class="hl-identifier">pm</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">())</span><span class="hl-code">-</span><span class="hl-identifier">startingPos</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">cells</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">cells</span><span class="hl-code">;
    </span><span class="hl-identifier">days</span><span class="hl-code"> += </span><span class="hl-identifier">startingPos</span><span class="hl-code">;
    
    </span><span class="hl-comment">// convert everything to numbers so it's fast
    </span><span class="hl-reserved">var </span><span class="hl-identifier">day</span><span class="hl-code"> = </span><span class="hl-number">86400000</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">date</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clearTime</span><span class="hl-brackets">(</span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">(</span><span class="hl-identifier">pm</span><span class="hl-code">.</span><span class="hl-identifier">getFullYear</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">pm</span><span class="hl-code">.</span><span class="hl-identifier">getMonth</span><span class="hl-brackets">()</span><span class="hl-code">, </span><span class="hl-identifier">prevStart</span><span class="hl-brackets">))</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">today</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clearTime</span><span class="hl-brackets">(</span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">())</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">sel</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">selectedDate</span><span class="hl-code"> ? </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clearTime</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">selectedDate</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code"> : </span><span class="hl-identifier">today</span><span class="hl-code"> + </span><span class="hl-number">1</span><span class="hl-code">; </span><span class="hl-comment">//today +1 will never match anything
    </span><span class="hl-reserved">var </span><span class="hl-identifier">min</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minDate</span><span class="hl-code"> ? </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clearTime</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minDate</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code"> : </span><span class="hl-builtin">Number</span><span class="hl-code">.</span><span class="hl-identifier">NEGATIVE_INFINITY</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">max</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxDate</span><span class="hl-code"> ? </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clearTime</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxDate</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code"> : </span><span class="hl-builtin">Number</span><span class="hl-code">.</span><span class="hl-identifier">POSITIVE_INFINITY</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">ddMatch</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">disabledDatesRE</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">ddText</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">disabledDatesText</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">ddays</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">disabledDays</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">ddaysText</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">disabledDaysText</span><span class="hl-code">;
    </span><span class="hl-reserved">var </span><span class="hl-identifier">format</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">format</span><span class="hl-code">;
    
    </span><span class="hl-reserved">var </span><span class="hl-identifier">setCellClass</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">cal</span><span class="hl-code">, </span><span class="hl-identifier">cell</span><span class="hl-code">, </span><span class="hl-identifier">d</span><span class="hl-brackets">){
        </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">title</span><span class="hl-code"> = </span><span class="hl-quotes">''</span><span class="hl-code">;
        </span><span class="hl-reserved">var </span><span class="hl-identifier">t</span><span class="hl-code"> = </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code">;
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code"> == </span><span class="hl-identifier">today</span><span class="hl-brackets">){
            </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> += </span><span class="hl-quotes">'</span><span class="hl-string"> today</span><span class="hl-quotes">'</span><span class="hl-code">;
            </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">title</span><span class="hl-code"> = </span><span class="hl-identifier">cal</span><span class="hl-code">.</span><span class="hl-identifier">todayText</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code"> == </span><span class="hl-identifier">sel</span><span class="hl-brackets">){
            </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> += </span><span class="hl-quotes">'</span><span class="hl-string"> selected</span><span class="hl-quotes">'</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-comment">// disabling
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code"> &lt; </span><span class="hl-identifier">min</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string"> ypopcal-disabled</span><span class="hl-quotes">'</span><span class="hl-code">;
            </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">title</span><span class="hl-code"> = </span><span class="hl-identifier">cal</span><span class="hl-code">.</span><span class="hl-identifier">minText</span><span class="hl-code">;
            </span><span class="hl-reserved">return</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code"> &gt; </span><span class="hl-identifier">max</span><span class="hl-brackets">) {
            </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string"> ypopcal-disabled</span><span class="hl-quotes">'</span><span class="hl-code">;
            </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">title</span><span class="hl-code"> = </span><span class="hl-identifier">cal</span><span class="hl-code">.</span><span class="hl-identifier">maxText</span><span class="hl-code">;
            </span><span class="hl-reserved">return</span><span class="hl-code">;
        </span><span class="hl-brackets">}
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">ddays</span><span class="hl-brackets">){
            </span><span class="hl-reserved">var </span><span class="hl-identifier">day</span><span class="hl-code"> = </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">getDay</span><span class="hl-brackets">()</span><span class="hl-code">;
            </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code"> &lt; </span><span class="hl-identifier">ddays</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
            	</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">day</span><span class="hl-code"> === </span><span class="hl-identifier">ddays</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]){
            	    </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">title</span><span class="hl-code"> = </span><span class="hl-identifier">ddaysText</span><span class="hl-code">;
                    </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string"> ypopcal-disabled</span><span class="hl-quotes">'</span><span class="hl-code">;
                    </span><span class="hl-reserved">return</span><span class="hl-code">;
                </span><span class="hl-brackets">}
            }
        }
        </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">ddMatch</span><span class="hl-code"> &amp;&amp; </span><span class="hl-identifier">format</span><span class="hl-brackets">){
            </span><span class="hl-reserved">var </span><span class="hl-identifier">fvalue</span><span class="hl-code"> = </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">format</span><span class="hl-brackets">(</span><span class="hl-identifier">format</span><span class="hl-brackets">)</span><span class="hl-code">;
            </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">ddMatch</span><span class="hl-code">.</span><span class="hl-identifier">test</span><span class="hl-brackets">(</span><span class="hl-identifier">fvalue</span><span class="hl-brackets">)){
                </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">title</span><span class="hl-code"> = </span><span class="hl-identifier">ddText</span><span class="hl-code">.</span><span class="hl-identifier">replace</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">%0</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-identifier">fvalue</span><span class="hl-brackets">)</span><span class="hl-code">;
                </span><span class="hl-identifier">cell</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string"> ypopcal-disabled</span><span class="hl-quotes">'</span><span class="hl-code">;
                </span><span class="hl-reserved">return</span><span class="hl-code">;
            </span><span class="hl-brackets">}
        }
    }</span><span class="hl-code">;
    
    </span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">;
    </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code"> &lt; </span><span class="hl-identifier">startingPos</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
        </span><span class="hl-identifier">cells</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-code">++</span><span class="hl-identifier">prevStart</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">setDate</span><span class="hl-brackets">(</span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">getDate</span><span class="hl-brackets">()</span><span class="hl-code">+</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">cells</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">prevday</span><span class="hl-quotes">'</span><span class="hl-code">;
        </span><span class="hl-identifier">setCellClass</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-identifier">cells</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">, </span><span class="hl-identifier">date</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code"> &lt; </span><span class="hl-identifier">days</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">){
        </span><span class="hl-identifier">intDay</span><span class="hl-code"> = </span><span class="hl-identifier">i</span><span class="hl-code"> - </span><span class="hl-identifier">startingPos</span><span class="hl-code"> + </span><span class="hl-number">1</span><span class="hl-code">;
        </span><span class="hl-identifier">cells</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-identifier">intDay</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">setDate</span><span class="hl-brackets">(</span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">getDate</span><span class="hl-brackets">()</span><span class="hl-code">+</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-identifier">cells</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">active</span><span class="hl-quotes">'</span><span class="hl-code">;
        </span><span class="hl-identifier">setCellClass</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-identifier">cells</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">, </span><span class="hl-identifier">date</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
    </span><span class="hl-reserved">var </span><span class="hl-identifier">extraDays</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">;
    </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code"> &lt; </span><span class="hl-number">42</span><span class="hl-code">; </span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">) {
         </span><span class="hl-identifier">cells</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-code">++</span><span class="hl-identifier">extraDays</span><span class="hl-brackets">)</span><span class="hl-code">;
         </span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">setDate</span><span class="hl-brackets">(</span><span class="hl-identifier">date</span><span class="hl-code">.</span><span class="hl-identifier">getDate</span><span class="hl-brackets">()</span><span class="hl-code">+</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;
         </span><span class="hl-identifier">cells</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">className</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">nextday</span><span class="hl-quotes">'</span><span class="hl-code">;
         </span><span class="hl-identifier">setCellClass</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">, </span><span class="hl-identifier">cells</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">, </span><span class="hl-identifier">date</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}
}</span><span class="hl-default">;

</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">todayText</span><span class="hl-default"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">Today</span><span class="hl-quotes">&quot;</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">minDate</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">maxDate</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">minText</span><span class="hl-default"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">This date is before the minimum date</span><span class="hl-quotes">&quot;</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">maxText</span><span class="hl-default"> = </span><span class="hl-quotes">&quot;</span><span class="hl-string">This date is after the maximum date</span><span class="hl-quotes">&quot;</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">format</span><span class="hl-default"> = </span><span class="hl-quotes">'</span><span class="hl-string">m/d/y</span><span class="hl-quotes">'</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">disabledDays</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">disabledDaysText</span><span class="hl-default"> = </span><span class="hl-quotes">''</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">disabledDatesRE</span><span class="hl-default"> = </span><span class="hl-reserved">null</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">disabledDatesText</span><span class="hl-default"> = </span><span class="hl-quotes">''</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">constrainToViewport</span><span class="hl-default"> = </span><span class="hl-reserved">true</span><span class="hl-default">;


</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">monthNames</span><span class="hl-default"> = </span><span class="hl-builtin">Date</span><span class="hl-default">.</span><span class="hl-identifier">monthNames</span><span class="hl-default">;

</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">DatePicker</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default">.</span><span class="hl-identifier">dayNames</span><span class="hl-default"> = </span><span class="hl-builtin">Date</span><span class="hl-default">.</span><span class="hl-identifier">dayNames</span><span class="hl-default">;</span></pre></div><hr>Copyright &copy; 2006 Jack Slocum. All rights reserved.</body></html>