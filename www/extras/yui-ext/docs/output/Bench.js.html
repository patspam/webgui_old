<html><head><title>Bench.js</title><link rel="stylesheet" type="text/css" href="../style.css" media="screen"/></head><body><div class="hl-main"><pre><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">util</span><span class="hl-default">.</span><span class="hl-identifier">Bench</span><span class="hl-default"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(){
   </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">timers</span><span class="hl-code"> = </span><span class="hl-brackets">{}</span><span class="hl-code">;
   </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastKey</span><span class="hl-code"> = </span><span class="hl-reserved">null</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-default">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">ext</span><span class="hl-default">.</span><span class="hl-identifier">util</span><span class="hl-default">.</span><span class="hl-identifier">Bench</span><span class="hl-default">.</span><span class="hl-identifier">prototype</span><span class="hl-default"> = </span><span class="hl-brackets">{
   </span><span class="hl-identifier">start</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">key</span><span class="hl-brackets">){
       </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastKey</span><span class="hl-code"> = </span><span class="hl-identifier">key</span><span class="hl-code">;
       </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">timers</span><span class="hl-brackets">[</span><span class="hl-identifier">key</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-brackets">{}</span><span class="hl-code">;
       </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">timers</span><span class="hl-brackets">[</span><span class="hl-identifier">key</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">startTime</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">()</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code">; 
   </span><span class="hl-brackets">}</span><span class="hl-code">,
   
   </span><span class="hl-identifier">stop</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">key</span><span class="hl-brackets">){
       </span><span class="hl-identifier">key</span><span class="hl-code"> = </span><span class="hl-identifier">key</span><span class="hl-code"> || </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastKey</span><span class="hl-code">;
       </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">timers</span><span class="hl-brackets">[</span><span class="hl-identifier">key</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">endTime</span><span class="hl-code"> = </span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">()</span><span class="hl-code">.</span><span class="hl-identifier">getTime</span><span class="hl-brackets">()</span><span class="hl-code">; 
   </span><span class="hl-brackets">}</span><span class="hl-code">,
   
   </span><span class="hl-identifier">getElapsed</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">key</span><span class="hl-brackets">){
       </span><span class="hl-identifier">key</span><span class="hl-code"> = </span><span class="hl-identifier">key</span><span class="hl-code"> || </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastKey</span><span class="hl-code">;
       </span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">timers</span><span class="hl-brackets">[</span><span class="hl-identifier">key</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">endTime</span><span class="hl-code"> - </span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">timers</span><span class="hl-brackets">[</span><span class="hl-identifier">key</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">startTime</span><span class="hl-code">;
   </span><span class="hl-brackets">}</span><span class="hl-code">,
   
   </span><span class="hl-identifier">toString</span><span class="hl-code"> : </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">html</span><span class="hl-brackets">){
       </span><span class="hl-reserved">var </span><span class="hl-identifier">results</span><span class="hl-code"> = </span><span class="hl-quotes">&quot;&quot;</span><span class="hl-code">;
       </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">key </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">timers</span><span class="hl-brackets">){
           </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof this</span><span class="hl-code">.</span><span class="hl-identifier">timers</span><span class="hl-brackets">[</span><span class="hl-identifier">key</span><span class="hl-brackets">]</span><span class="hl-code"> != </span><span class="hl-quotes">'</span><span class="hl-string">function</span><span class="hl-quotes">'</span><span class="hl-brackets">){
               </span><span class="hl-identifier">results</span><span class="hl-code"> += </span><span class="hl-identifier">key</span><span class="hl-code"> + </span><span class="hl-quotes">&quot;</span><span class="hl-string">:</span><span class="hl-special">\t</span><span class="hl-quotes">&quot;</span><span class="hl-code"> + </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getElapsed</span><span class="hl-brackets">(</span><span class="hl-identifier">key</span><span class="hl-brackets">) </span><span class="hl-quotes">/</span><span class="hl-string"> 1000) + &quot; seconds\n&quot;;
           }
       }
       if(html){
           results = results.replace(&quot;\n&quot;, '&lt;br&gt;');
       }
       return results;
   },
   
   show : function(){
       alert(this.toString());
   }
};</span></pre></div><hr>Copyright &copy; 2006 Jack Slocum. All rights reserved.</body></html>