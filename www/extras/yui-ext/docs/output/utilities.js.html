<html><head><title>utilities.js</title><link rel="stylesheet" type="text/css" href="../style.css" media="screen"/></head><body><div class="hl-main"><pre><span class="hl-comment">/* Copyright (c) 2006, Yahoo! Inc. All rights reserved.Code licensed under the BSD License:</span><span class="hl-url">http://developer.yahoo.net/yui/license.txtversion</span><span class="hl-comment">: 0.12.0 */
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">YAHOO</span><span class="hl-code">==</span><span class="hl-quotes">&quot;</span><span class="hl-string">undefined</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">YAHOO</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">namespace</span><span class="hl-default">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">var </span><span class="hl-identifier">a</span><span class="hl-code">=</span><span class="hl-identifier">arguments</span><span class="hl-code">,</span><span class="hl-identifier">o</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">i</span><span class="hl-code">,</span><span class="hl-identifier">j</span><span class="hl-code">,</span><span class="hl-identifier">d</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">a</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">d</span><span class="hl-code">=</span><span class="hl-identifier">a</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">split</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">.</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">o</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">j</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-identifier">d</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">==</span><span class="hl-quotes">&quot;</span><span class="hl-string">YAHOO</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-number">1</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-identifier">j</span><span class="hl-code">&lt;</span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;++</span><span class="hl-identifier">j</span><span class="hl-brackets">){</span><span class="hl-identifier">o</span><span class="hl-brackets">[</span><span class="hl-identifier">d</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]]</span><span class="hl-code">=</span><span class="hl-identifier">o</span><span class="hl-brackets">[</span><span class="hl-identifier">d</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]]</span><span class="hl-code">||</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-identifier">o</span><span class="hl-code">=</span><span class="hl-identifier">o</span><span class="hl-brackets">[</span><span class="hl-identifier">d</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]]</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">return </span><span class="hl-identifier">o</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-default">;</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">log</span><span class="hl-default">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_2</span><span class="hl-code">,</span><span class="hl-identifier">_3</span><span class="hl-code">,</span><span class="hl-identifier">_4</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">l</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">widget</span><span class="hl-code">.</span><span class="hl-identifier">Logger</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">l</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">l</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">l</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-identifier">_2</span><span class="hl-code">,</span><span class="hl-identifier">_3</span><span class="hl-code">,</span><span class="hl-identifier">_4</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">return false</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-default">;</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">extend</span><span class="hl-default">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_6</span><span class="hl-code">,</span><span class="hl-identifier">_7</span><span class="hl-code">,</span><span class="hl-identifier">_8</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">F</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(){}</span><span class="hl-code">;</span><span class="hl-identifier">F</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">=</span><span class="hl-identifier">_7</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">;</span><span class="hl-identifier">_6</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">=</span><span class="hl-reserved">new </span><span class="hl-identifier">F</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-identifier">_6</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">constructor</span><span class="hl-code">=</span><span class="hl-identifier">_6</span><span class="hl-code">;</span><span class="hl-identifier">_6</span><span class="hl-code">.</span><span class="hl-identifier">superclass</span><span class="hl-code">=</span><span class="hl-identifier">_7</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_7</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">constructor</span><span class="hl-code">==</span><span class="hl-identifier">Object</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">constructor</span><span class="hl-brackets">){</span><span class="hl-identifier">_7</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">.</span><span class="hl-identifier">constructor</span><span class="hl-code">=</span><span class="hl-identifier">_7</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_8</span><span class="hl-brackets">){</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i </span><span class="hl-reserved">in </span><span class="hl-identifier">_8</span><span class="hl-brackets">){</span><span class="hl-identifier">_6</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">_8</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}}</span><span class="hl-default">;</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">augment</span><span class="hl-default">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">r</span><span class="hl-code">,</span><span class="hl-identifier">s</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">rp</span><span class="hl-code">=</span><span class="hl-identifier">r</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">,</span><span class="hl-identifier">sp</span><span class="hl-code">=</span><span class="hl-identifier">s</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">,</span><span class="hl-identifier">a</span><span class="hl-code">=</span><span class="hl-identifier">arguments</span><span class="hl-code">,</span><span class="hl-identifier">i</span><span class="hl-code">,</span><span class="hl-identifier">p</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">a</span><span class="hl-brackets">[</span><span class="hl-number">2</span><span class="hl-brackets">]){</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">2</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">a</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">rp</span><span class="hl-brackets">[</span><span class="hl-identifier">a</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]]</span><span class="hl-code">=</span><span class="hl-identifier">sp</span><span class="hl-brackets">[</span><span class="hl-identifier">a</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]]</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">p </span><span class="hl-reserved">in </span><span class="hl-identifier">sp</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">rp</span><span class="hl-brackets">[</span><span class="hl-identifier">p</span><span class="hl-brackets">]){</span><span class="hl-identifier">rp</span><span class="hl-brackets">[</span><span class="hl-identifier">p</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">sp</span><span class="hl-brackets">[</span><span class="hl-identifier">p</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}}}</span><span class="hl-default">;</span><span class="hl-identifier">YAHOO</span><span class="hl-default">.</span><span class="hl-identifier">namespace</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">util</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">widget</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">example</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-default">;</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">var </span><span class="hl-identifier">Y</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">,</span><span class="hl-identifier">getStyle</span><span class="hl-code">,</span><span class="hl-identifier">setStyle</span><span class="hl-code">,</span><span class="hl-identifier">id_counter</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">propertyCache</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">ua</span><span class="hl-code">=</span><span class="hl-builtin">navigator</span><span class="hl-code">.</span><span class="hl-identifier">userAgent</span><span class="hl-code">.</span><span class="hl-identifier">toLowerCase</span><span class="hl-brackets">()</span><span class="hl-code">,</span><span class="hl-identifier">isOpera</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-identifier">ua</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">opera</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">&gt;-</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-identifier">isSafari</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-identifier">ua</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">safari</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">&gt;-</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-identifier">isGecko</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">isOpera</span><span class="hl-code">&amp;&amp;!</span><span class="hl-identifier">isSafari</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">ua</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">gecko</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">&gt;-</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-identifier">isIE</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">isOpera</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">ua</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">msie</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">&gt;-</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">patterns</span><span class="hl-code">=</span><span class="hl-brackets">{</span><span class="hl-identifier">HYPHEN</span><span class="hl-code">:</span><span class="hl-quotes">/</span><span class="hl-string">(-[a-z])</span><span class="hl-quotes">/i</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">toCamel</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">property</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">patterns</span><span class="hl-code">.</span><span class="hl-identifier">HYPHEN</span><span class="hl-code">.</span><span class="hl-identifier">test</span><span class="hl-brackets">(</span><span class="hl-identifier">property</span><span class="hl-brackets">)){</span><span class="hl-reserved">return </span><span class="hl-identifier">property</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">propertyCache</span><span class="hl-brackets">[</span><span class="hl-identifier">property</span><span class="hl-brackets">]){</span><span class="hl-reserved">return </span><span class="hl-identifier">propertyCache</span><span class="hl-brackets">[</span><span class="hl-identifier">property</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">while</span><span class="hl-brackets">(</span><span class="hl-identifier">patterns</span><span class="hl-code">.</span><span class="hl-identifier">HYPHEN</span><span class="hl-code">.</span><span class="hl-identifier">exec</span><span class="hl-brackets">(</span><span class="hl-identifier">property</span><span class="hl-brackets">)){</span><span class="hl-identifier">property</span><span class="hl-code">=</span><span class="hl-identifier">property</span><span class="hl-code">.</span><span class="hl-identifier">replace</span><span class="hl-brackets">(</span><span class="hl-builtin">RegExp</span><span class="hl-code">.$</span><span class="hl-number">1</span><span class="hl-code">,</span><span class="hl-builtin">RegExp</span><span class="hl-code">.$</span><span class="hl-number">1</span><span class="hl-code">.</span><span class="hl-identifier">substr</span><span class="hl-brackets">(</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">toUpperCase</span><span class="hl-brackets">())</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">propertyCache</span><span class="hl-brackets">[</span><span class="hl-identifier">property</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">property</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-identifier">property</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">defaultView</span><span class="hl-code">&amp;&amp;</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">defaultView</span><span class="hl-code">.</span><span class="hl-identifier">getComputedStyle</span><span class="hl-brackets">){</span><span class="hl-identifier">getStyle</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">property</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">value</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">computed</span><span class="hl-code">=</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">defaultView</span><span class="hl-code">.</span><span class="hl-identifier">getComputedStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-quotes">''</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">computed</span><span class="hl-brackets">){</span><span class="hl-identifier">value</span><span class="hl-code">=</span><span class="hl-identifier">computed</span><span class="hl-brackets">[</span><span class="hl-identifier">toCamel</span><span class="hl-brackets">(</span><span class="hl-identifier">property</span><span class="hl-brackets">)]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">return </span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-brackets">[</span><span class="hl-identifier">property</span><span class="hl-brackets">]</span><span class="hl-code">||</span><span class="hl-identifier">value</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else if</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">documentElement</span><span class="hl-code">.</span><span class="hl-identifier">currentStyle</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">isIE</span><span class="hl-brackets">){</span><span class="hl-identifier">getStyle</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">property</span><span class="hl-brackets">){</span><span class="hl-reserved">switch</span><span class="hl-brackets">(</span><span class="hl-identifier">toCamel</span><span class="hl-brackets">(</span><span class="hl-identifier">property</span><span class="hl-brackets">)){</span><span class="hl-reserved">case</span><span class="hl-quotes">'</span><span class="hl-string">opacity</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-reserved">var </span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-number">100</span><span class="hl-code">;</span><span class="hl-reserved">try</span><span class="hl-brackets">{</span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">filters</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">DXImageTransform.Microsoft.Alpha</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">opacity</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">try</span><span class="hl-brackets">{</span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">filters</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">alpha</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">opacity</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}}</span><span class="hl-reserved">return </span><span class="hl-identifier">val</span><span class="hl-quotes">/</span><span class="hl-string">100;break;default:var value=el.currentStyle?el.currentStyle[property]:null;return(el.style[property]||value);}};}else{getStyle=function(el,property){return el.style[property];};}if(isIE){setStyle=function(el,property,val){switch(property){case'opacity':if(typeof el.style.filter=='string'){el.style.filter='alpha(opacity='+val*100+')';if(!el.currentStyle||!el.currentStyle.hasLayout){el.style.zoom=1;}}break;default:el.style[property]=val;}};}else{setStyle=function(el,property,val){el.style[property]=val;};}YAHOO.util.Dom={get:function(el){if(!el){return null;}if(typeof el!='string'&amp;&amp;!(el instanceof Array)){return el;}if(typeof el=='string'){return document.getElementById(el);}else{var collection=[];for(var i=0,len=el.length;i&lt;len;++i){collection[collection.length]=Y.Dom.get(el[i]);}return collection;}return null;},getStyle:function(el,property){property=toCamel(property);var f=function(element){return getStyle(element,property);};return Y.Dom.batch(el,f,Y.Dom,true);},setStyle:function(el,property,val){property=toCamel(property);var f=function(element){setStyle(element,property,val);};Y.Dom.batch(el,f,Y.Dom,true);},getXY:function(el){var f=function(el){if(el.parentNode===null||el.offsetParent===null||this.getStyle(el,'display')=='none'){return false;}var parentNode=null;var pos=[];var box;if(el.getBoundingClientRect){box=el.getBoundingClientRect();var doc=document;if(!this.inDocument(el)&amp;&amp;parent.document!=document){doc=parent.document;if(!this.isAncestor(doc.documentElement,el)){return false;}}var scrollTop=Math.max(doc.documentElement.scrollTop,doc.body.scrollTop);var scrollLeft=Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft);return[box.left+scrollLeft,box.top+scrollTop];}else{pos=[el.offsetLeft,el.offsetTop];parentNode=el.offsetParent;if(parentNode!=el){while(parentNode){pos[0]+=parentNode.offsetLeft;pos[1]+=parentNode.offsetTop;parentNode=parentNode.offsetParent;}}if(isSafari&amp;&amp;this.getStyle(el,'position')=='absolute'){pos[0]-=document.body.offsetLeft;pos[1]-=document.body.offsetTop;}}if(el.parentNode){parentNode=el.parentNode;}else{parentNode=null;}while(parentNode&amp;&amp;parentNode.tagName.toUpperCase()!='BODY'&amp;&amp;parentNode.tagName.toUpperCase()!='HTML'){if(Y.Dom.getStyle(parentNode,'display')!='inline'){pos[0]-=parentNode.scrollLeft;pos[1]-=parentNode.scrollTop;}if(parentNode.parentNode){parentNode=parentNode.parentNode;}else{parentNode=null;}}return pos;};return Y.Dom.batch(el,f,Y.Dom,true);},getX:function(el){var f=function(el){return Y.Dom.getXY(el)[0];};return Y.Dom.batch(el,f,Y.Dom,true);},getY:function(el){var f=function(el){return Y.Dom.getXY(el)[1];};return Y.Dom.batch(el,f,Y.Dom,true);},setXY:function(el,pos,noRetry){var f=function(el){var style_pos=this.getStyle(el,'position');if(style_pos=='static'){this.setStyle(el,'position','relative');style_pos='relative';}var pageXY=this.getXY(el);if(pageXY===false){return false;}var delta=[parseInt(this.getStyle(el,'left'),10),parseInt(this.getStyle(el,'top'),10)];if(isNaN(delta[0])){delta[0]=(style_pos=='relative')?0:el.offsetLeft;}if(isNaN(delta[1])){delta[1]=(style_pos=='relative')?0:el.offsetTop;}if(pos[0]!==null){el.style.left=pos[0]-pageXY[0]+delta[0]+'px';}if(pos[1]!==null){el.style.top=pos[1]-pageXY[1]+delta[1]+'px';}var newXY=this.getXY(el);if(!noRetry&amp;&amp;(newXY[0]!=pos[0]||newXY[1]!=pos[1])){this.setXY(el,pos,true);}};Y.Dom.batch(el,f,Y.Dom,true);},setX:function(el,x){Y.Dom.setXY(el,[x,null]);},setY:function(el,y){Y.Dom.setXY(el,[null,y]);},getRegion:function(el){var f=function(el){var region=new Y.Region.getRegion(el);return region;};return Y.Dom.batch(el,f,Y.Dom,true);},getClientWidth:function(){return Y.Dom.getViewportWidth();},getClientHeight:function(){return Y.Dom.getViewportHeight();},getElementsByClassName:function(className,tag,root){var method=function(el){return Y.Dom.hasClass(el,className);};return Y.Dom.getElementsBy(method,tag,root);},hasClass:function(el,className){var re=new RegExp('(?:^|\\s+)'+className+'(?:\\s+|$)');var f=function(el){return re.test(el['className']);};return Y.Dom.batch(el,f,Y.Dom,true);},addClass:function(el,className){var f=function(el){if(this.hasClass(el,className)){return;}el['className']=[el['className'],className].join(' ');};Y.Dom.batch(el,f,Y.Dom,true);},removeClass:function(el,className){var re=new RegExp('(?:^|\\s+)'+className+'(?:\\s+|$)','g');var f=function(el){if(!this.hasClass(el,className)){return;}var c=el['className'];el['className']=c.replace(re,' ');if(this.hasClass(el,className)){this.removeClass(el,className);}};Y.Dom.batch(el,f,Y.Dom,true);},replaceClass:function(el,oldClassName,newClassName){if(oldClassName===newClassName){return false;}var re=new RegExp('(?:^|\\s+)'+oldClassName+'(?:\\s+|$)','g');var f=function(el){if(!this.hasClass(el,oldClassName)){this.addClass(el,newClassName);return;}el['className']=el['className'].replace(re,' '+newClassName+' ');if(this.hasClass(el,oldClassName)){this.replaceClass(el,oldClassName,newClassName);}};Y.Dom.batch(el,f,Y.Dom,true);},generateId:function(el,prefix){prefix=prefix||'yui-gen';el=el||{};var f=function(el){if(el){el=Y.Dom.get(el);}else{el={};}if(!el.id){el.id=prefix+id_counter++;}return el.id;};return Y.Dom.batch(el,f,Y.Dom,true);},isAncestor:function(haystack,needle){haystack=Y.Dom.get(haystack);if(!haystack||!needle){return false;}var f=function(needle){if(haystack.contains&amp;&amp;!isSafari){return haystack.contains(needle);}else if(haystack.compareDocumentPosition){return!!(haystack.compareDocumentPosition(needle)&amp;16);}else{var parent=needle.parentNode;while(parent){if(parent==haystack){return true;}else if(!parent.tagName||parent.tagName.toUpperCase()=='HTML'){return false;}parent=parent.parentNode;}return false;}};return Y.Dom.batch(needle,f,Y.Dom,true);},inDocument:function(el){var f=function(el){return this.isAncestor(document.documentElement,el);};return Y.Dom.batch(el,f,Y.Dom,true);},getElementsBy:function(method,tag,root){tag=tag||'*';root=Y.Dom.get(root)||document;var nodes=[];var elements=root.getElementsByTagName(tag);if(!elements.length&amp;&amp;(tag=='*'&amp;&amp;root.all)){elements=root.all;}for(var i=0,len=elements.length;i&lt;len;++i){if(method(elements[i])){nodes[nodes.length]=elements[i];}}return nodes;},batch:function(el,method,o,override){var id=el;el=Y.Dom.get(el);var scope=(override)?o:window;if(!el||el.tagName||!el.length){if(!el){return false;}return method.call(scope,el,o);}var collection=[];for(var i=0,len=el.length;i&lt;len;++i){if(!el[i]){id=el[i];}collection[collection.length]=method.call(scope,el[i],o);}return collection;},getDocumentHeight:function(){var scrollHeight=(document.compatMode!='CSS1Compat')?document.body.scrollHeight:document.documentElement.scrollHeight;var h=Math.max(scrollHeight,Y.Dom.getViewportHeight());return h;},getDocumentWidth:function(){var scrollWidth=(document.compatMode!='CSS1Compat')?document.body.scrollWidth:document.documentElement.scrollWidth;var w=Math.max(scrollWidth,Y.Dom.getViewportWidth());return w;},getViewportHeight:function(){var height=self.innerHeight;var mode=document.compatMode;if((mode||isIE)&amp;&amp;!isOpera){height=(mode=='CSS1Compat')?document.documentElement.clientHeight:document.body.clientHeight;}return height;},getViewportWidth:function(){var width=self.innerWidth;var mode=document.compatMode;if(mode||isIE){width=(mode=='CSS1Compat')?document.documentElement.clientWidth:document.body.clientWidth;}return width;}};})();YAHOO.util.Region=function(t,r,b,l){this.top=t;this[1]=t;this.right=r;this.bottom=b;this.left=l;this[0]=l;};YAHOO.util.Region.prototype.contains=function(region){return(region.left&gt;=this.left&amp;&amp;region.right&lt;=this.right&amp;&amp;region.top&gt;=this.top&amp;&amp;region.bottom&lt;=this.bottom);};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left));};YAHOO.util.Region.prototype.intersect=function(region){var t=Math.max(this.top,region.top);var r=Math.min(this.right,region.right);var b=Math.min(this.bottom,region.bottom);var l=Math.max(this.left,region.left);if(b&gt;=t&amp;&amp;r&gt;=l){return new YAHOO.util.Region(t,r,b,l);}else{return null;}};YAHOO.util.Region.prototype.union=function(region){var t=Math.min(this.top,region.top);var r=Math.max(this.right,region.right);var b=Math.max(this.bottom,region.bottom);var l=Math.min(this.left,region.left);return new YAHOO.util.Region(t,r,b,l);};YAHOO.util.Region.prototype.toString=function(){return(&quot;Region {&quot;+&quot;top: &quot;+this.top+&quot;, right: &quot;+this.right+&quot;, bottom: &quot;+this.bottom+&quot;, left: &quot;+this.left+&quot;}&quot;);};YAHOO.util.Region.getRegion=function(el){var p=YAHOO.util.Dom.getXY(el);var t=p[1];var r=p[0]+el.offsetWidth;var b=p[1]+el.offsetHeight;var l=p[0];return new YAHOO.util.Region(t,r,b,l);};YAHOO.util.Point=function(x,y){if(x instanceof Array){y=x[1];x=x[0];}this.x=this.right=this.left=this[0]=x;this.y=this.top=this.bottom=this[1]=y;};YAHOO.util.Point.prototype=new YAHOO.util.Region();YAHOO.util.CustomEvent=function(_1,_2,_3,_4){this.type=_1;this.scope=_2||window;this.silent=_3;this.signature=_4||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var _5=&quot;_YUICEOnSubscribe&quot;;if(_1!==_5){this.subscribeEvent=new YAHOO.util.CustomEvent(_5,this,true);}};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(fn,_7,_8){if(this.subscribeEvent){this.subscribeEvent.fire(fn,_7,_8);}this.subscribers.push(new YAHOO.util.Subscriber(fn,_7,_8));},unsubscribe:function(fn,_9){var _10=false;for(var i=0,len=this.subscribers.length;i&lt;len;++i){var s=this.subscribers[i];if(s&amp;&amp;s.contains(fn,_9)){this._delete(i);_10=true;}}return _10;},fire:function(){var len=this.subscribers.length;if(!len&amp;&amp;this.silent){return true;}var _14=[],ret=true,i;for(i=0;i&lt;arguments.length;++i){_14.push(arguments[i]);}var _15=_14.length;if(!this.silent){}for(i=0;i&lt;len;++i){var s=this.subscribers[i];if(s){if(!this.silent){}var _16=s.getScope(this.scope);if(this.signature==YAHOO.util.CustomEvent.FLAT){var _17=null;if(_14.length&gt;0){_17=_14[0];}ret=s.fn.call(_16,_17,s.obj);}else{ret=s.fn.call(_16,this.type,_14,s.obj);}if(false===ret){if(!this.silent){}return false;}}}return true;},unsubscribeAll:function(){for(var i=0,len=this.subscribers.length;i&lt;len;++i){this._delete(len-1-i);}},_delete:function(_18){var s=this.subscribers[_18];if(s){delete s.fn;delete s.obj;}this.subscribers.splice(_18,1);},toString:function(){return &quot;CustomEvent: &quot;+&quot;'&quot;+this.type+&quot;', &quot;+&quot;scope: &quot;+this.scope;}};YAHOO.util.Subscriber=function(fn,obj,_20){this.fn=fn;this.obj=obj||null;this.override=_20;};YAHOO.util.Subscriber.prototype.getScope=function(_21){if(this.override){if(this.override===true){return this.obj;}else{return this.override;}}return _21;};YAHOO.util.Subscriber.prototype.contains=function(fn,obj){if(obj){return (this.fn==fn&amp;&amp;this.obj==obj);}else{return (this.fn==fn);}};YAHOO.util.Subscriber.prototype.toString=function(){return &quot;Subscriber { obj: &quot;+(this.obj||&quot;&quot;)+&quot;, override: &quot;+(this.override||&quot;no&quot;)+&quot; }&quot;;};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var _22=false;var _23=[];var _24=[];var _25=[];var _26=[];var _27=0;var _28=[];var _29=[];var _30=0;return {POLL_RETRYS:200,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,OBJ:3,ADJ_SCOPE:4,isSafari:(</span><span class="hl-quotes">/</span><span class="hl-identifier">Safari</span><span class="hl-code">|</span><span class="hl-identifier">Konqueror</span><span class="hl-code">|</span><span class="hl-identifier">KHTML</span><span class="hl-quotes">/</span><span class="hl-string">gi).test(navigator.userAgent),isIE:(!this.isSafari&amp;&amp;!navigator.userAgent.match(</span><span class="hl-quotes">/</span><span class="hl-identifier">opera</span><span class="hl-quotes">/</span><span class="hl-string">gi)&amp;&amp;navigator.userAgent.match(</span><span class="hl-quotes">/</span><span class="hl-identifier">msie</span><span class="hl-quotes">/</span><span class="hl-string">gi)),_interval:null,startInterval:function(){if(!this._interval){var _31=this;var _32=function(){_31._tryPreloadAttach();};this._interval=setInterval(_32,this.POLL_INTERVAL);}},onAvailable:function(_33,_34,_35,_36){_28.push({id:_33,fn:_34,obj:_35,override:_36,checkReady:false});_27=this.POLL_RETRYS;this.startInterval();},onContentReady:function(_37,_38,_39,_40){_28.push({id:_37,fn:_38,obj:_39,override:_40,checkReady:true});_27=this.POLL_RETRYS;this.startInterval();},addListener:function(el,_42,fn,obj,_43){if(!fn||!fn.call){return false;}if(this._isValidCollection(el)){var ok=true;for(var i=0,len=el.length;i&lt;len;++i){ok=this.on(el[i],_42,fn,obj,_43)&amp;&amp;ok;}return ok;}else{if(typeof el==&quot;string&quot;){var oEl=this.getEl(el);if(oEl){el=oEl;}else{this.onAvailable(el,function(){YAHOO.util.Event.on(el,_42,fn,obj,_43);});return true;}}}if(!el){return false;}if(&quot;unload&quot;==_42&amp;&amp;obj!==this){_24[_24.length]=[el,_42,fn,obj,_43];return true;}var _46=el;if(_43){if(_43===true){_46=obj;}else{_46=_43;}}var _47=function(e){return fn.call(_46,YAHOO.util.Event.getEvent(e),obj);};var li=[el,_42,fn,_47,_46];var _50=_23.length;_23[_50]=li;if(this.useLegacyEvent(el,_42)){var _51=this.getLegacyIndex(el,_42);if(_51==-1||el!=_25[_51][0]){_51=_25.length;_29[el.id+_42]=_51;_25[_51]=[el,_42,el[&quot;on&quot;+_42]];_26[_51]=[];el[&quot;on&quot;+_42]=function(e){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(e),_51);};}_26[_51].push(li);}else{this._simpleAdd(el,_42,_47,false);}return true;},fireLegacyEvent:function(e,_52){var ok=true;var le=_26[_52];for(var i=0,len=le.length;i&lt;len;++i){var li=le[i];if(li&amp;&amp;li[this.WFN]){var _54=li[this.ADJ_SCOPE];var ret=li[this.WFN].call(_54,e);ok=(ok&amp;&amp;ret);}}return ok;},getLegacyIndex:function(el,_56){var key=this.generateId(el)+_56;if(typeof _29[key]==&quot;undefined&quot;){return -1;}else{return _29[key];}},useLegacyEvent:function(el,_58){if(!el.addEventListener&amp;&amp;!el.attachEvent){return true;}else{if(this.isSafari){if(&quot;click&quot;==_58||&quot;dblclick&quot;==_58){return true;}}}return false;},removeListener:function(el,_59,fn){var i,len;if(typeof el==&quot;string&quot;){el=this.getEl(el);}else{if(this._isValidCollection(el)){var ok=true;for(i=0,len=el.length;i&lt;len;++i){ok=(this.removeListener(el[i],_59,fn)&amp;&amp;ok);}return ok;}}if(!fn||!fn.call){return this.purgeElement(el,false,_59);}if(&quot;unload&quot;==_59){for(i=0,len=_24.length;i&lt;len;i++){var li=_24[i];if(li&amp;&amp;li[0]==el&amp;&amp;li[1]==_59&amp;&amp;li[2]==fn){_24.splice(i,1);return true;}}return false;}var _60=null;var _61=arguments[3];if(&quot;undefined&quot;==typeof _61){_61=this._getCacheIndex(el,_59,fn);}if(_61&gt;=0){_60=_23[_61];}if(!el||!_60){return false;}if(this.useLegacyEvent(el,_59)){var _62=this.getLegacyIndex(el,_59);var _63=_26[_62];if(_63){for(i=0,len=_63.length;i&lt;len;++i){li=_63[i];if(li&amp;&amp;li[this.EL]==el&amp;&amp;li[this.TYPE]==_59&amp;&amp;li[this.FN]==fn){_63.splice(i,1);}}}}else{this._simpleRemove(el,_59,_60[this.WFN],false);}delete _23[_61][this.WFN];delete _23[_61][this.FN];_23.splice(_61,1);return true;},getTarget:function(ev,_65){var t=ev.target||ev.srcElement;return this.resolveTextNode(t);},resolveTextNode:function(_67){if(_67&amp;&amp;3==_67.nodeType){return _67.parentNode;}else{return _67;}},getPageX:function(ev){var x=ev.pageX;if(!x&amp;&amp;0!==x){x=ev.clientX||0;if(this.isIE){x+=this._getScrollLeft();}}return x;},getPageY:function(ev){var y=ev.pageY;if(!y&amp;&amp;0!==y){y=ev.clientY||0;if(this.isIE){y+=this._getScrollTop();}}return y;},getXY:function(ev){return [this.getPageX(ev),this.getPageY(ev)];},getRelatedTarget:function(ev){var t=ev.relatedTarget;if(!t){if(ev.type==&quot;mouseout&quot;){t=ev.toElement;}else{if(ev.type==&quot;mouseover&quot;){t=ev.fromElement;}}}return this.resolveTextNode(t);},getTime:function(ev){if(!ev.time){var t=new Date().getTime();try{ev.time=t;}catch(e){return t;}}return ev.time;},stopEvent:function(ev){this.stopPropagation(ev);this.preventDefault(ev);},stopPropagation:function(ev){if(ev.stopPropagation){ev.stopPropagation();}else{ev.cancelBubble=true;}},preventDefault:function(ev){if(ev.preventDefault){ev.preventDefault();}else{ev.returnValue=false;}},getEvent:function(e){var ev=e||window.event;if(!ev){var c=this.getEvent.caller;while(c){ev=c.arguments[0];if(ev&amp;&amp;Event==ev.constructor){break;}c=c.caller;}}return ev;},getCharCode:function(ev){return ev.charCode||ev.keyCode||0;},_getCacheIndex:function(el,_71,fn){for(var i=0,len=_23.length;i&lt;len;++i){var li=_23[i];if(li&amp;&amp;li[this.FN]==fn&amp;&amp;li[this.EL]==el&amp;&amp;li[this.TYPE]==_71){return i;}}return -1;},generateId:function(el){var id=el.id;if(!id){id=&quot;yuievtautoid-&quot;+_30;++_30;el.id=id;}return id;},_isValidCollection:function(o){return (o&amp;&amp;o.length&amp;&amp;typeof o!=&quot;string&quot;&amp;&amp;!o.tagName&amp;&amp;!o.alert&amp;&amp;typeof o[0]!=&quot;undefined&quot;);},elCache:{},getEl:function(id){return document.getElementById(id);},clearCache:function(){},_load:function(e){_22=true;var EU=YAHOO.util.Event;if(this.isIE){EU._simpleRemove(window,&quot;load&quot;,EU._load);}},_tryPreloadAttach:function(){if(this.locked){return false;}this.locked=true;var _75=!_22;if(!_75){_75=(_27&gt;0);}var _76=[];for(var i=0,len=_28.length;i&lt;len;++i){var _77=_28[i];if(_77){var el=this.getEl(_77.id);if(el){if(!_77.checkReady||_22||el.nextSibling||(document&amp;&amp;document.body)){var _78=el;if(_77.override){if(_77.override===true){_78=_77.obj;}else{_78=_77.override;}}_77.fn.call(_78,_77.obj);delete _28[i];}}else{_76.push(_77);}}}_27=(_76.length===0)?0:_27-1;if(_75){this.startInterval();}else{clearInterval(this._interval);this._interval=null;}this.locked=false;return true;},purgeElement:function(el,_79,_80){var _81=this.getListeners(el,_80);if(_81){for(var i=0,len=_81.length;i&lt;len;++i){var l=_81[i];this.removeListener(el,l.type,l.fn);}}if(_79&amp;&amp;el&amp;&amp;el.childNodes){for(i=0,len=el.childNodes.length;i&lt;len;++i){this.purgeElement(el.childNodes[i],_79,_80);}}},getListeners:function(el,_83){var _84=[];if(_23&amp;&amp;_23.length&gt;0){for(var i=0,len=_23.length;i&lt;len;++i){var l=_23[i];if(l&amp;&amp;l[this.EL]===el&amp;&amp;(!_83||_83===l[this.TYPE])){_84.push({type:l[this.TYPE],fn:l[this.FN],obj:l[this.OBJ],adjust:l[this.ADJ_SCOPE],index:i});}}}return (_84.length)?_84:null;},_unload:function(e){var EU=YAHOO.util.Event,i,j,l,len,index;for(i=0,len=_24.length;i&lt;len;++i){l=_24[i];if(l){var _85=window;if(l[EU.ADJ_SCOPE]){if(l[EU.ADJ_SCOPE]===true){_85=l[EU.OBJ];}else{_85=l[EU.ADJ_SCOPE];}}l[EU.FN].call(_85,EU.getEvent(e),l[EU.OBJ]);delete _24[i];l=null;_85=null;}}if(_23&amp;&amp;_23.length&gt;0){j=_23.length;while(j){index=j-1;l=_23[index];if(l){EU.removeListener(l[EU.EL],l[EU.TYPE],l[EU.FN],index);}j=j-1;}l=null;EU.clearCache();}for(i=0,len=_25.length;i&lt;len;++i){delete _25[i][0];delete _25[i];}EU._simpleRemove(window,&quot;unload&quot;,EU._unload);},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var dd=document.documentElement,db=document.body;if(dd&amp;&amp;(dd.scrollTop||dd.scrollLeft)){return [dd.scrollTop,dd.scrollLeft];}else{if(db){return [db.scrollTop,db.scrollLeft];}else{return [0,0];}}},_simpleAdd:function(){if(window.addEventListener){return function(el,_87,fn,_88){el.addEventListener(_87,fn,(_88));};}else{if(window.attachEvent){return function(el,_89,fn,_90){el.attachEvent(&quot;on&quot;+_89,fn);};}else{return function(){};}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(el,_91,fn,_92){el.removeEventListener(_91,fn,(_92));};}else{if(window.detachEvent){return function(el,_93,fn){el.detachEvent(&quot;on&quot;+_93,fn);};}else{return function(){};}}}()};}();(function(){var EU=YAHOO.util.Event;EU.on=EU.addListener;if(document&amp;&amp;document.body){EU._load();}else{EU._simpleAdd(window,&quot;load&quot;,EU._load);}EU._simpleAdd(window,&quot;unload&quot;,EU._unload);EU._tryPreloadAttach();})();}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(_94,_95,_96,_97){this.__yui_events=this.__yui_events||{};var ce=this.__yui_events[_94];if(ce){ce.subscribe(_95,_96,_97);}else{this.__yui_subscribers=this.__yui_subscribers||{};var _99=this.__yui_subscribers;if(!_99[_94]){_99[_94]=[];}_99[_94].push({fn:_95,obj:_96,override:_97});}},unsubscribe:function(_100,p_fn,_102){this.__yui_events=this.__yui_events||{};var ce=this.__yui_events[_100];if(ce){return ce.unsubscribe(p_fn,_102);}else{return false;}},createEvent:function(_103,_104){this.__yui_events=this.__yui_events||{};var opts=_104||{};var _106=this.__yui_events;if(_106[_103]){}else{var _107=opts.scope||this;var _108=opts.silent||null;var ce=new YAHOO.util.CustomEvent(_103,_107,_108,YAHOO.util.CustomEvent.FLAT);_106[_103]=ce;if(opts.onSubscribeCallback){ce.subscribeEvent.subscribe(opts.onSubscribeCallback);}this.__yui_subscribers=this.__yui_subscribers||{};var qs=this.__yui_subscribers[_103];if(qs){for(var i=0;i&lt;qs.length;++i){ce.subscribe(qs[i].fn,qs[i].obj,qs[i].override);}}}return _106[_103];},fireEvent:function(_110,arg1,arg2,etc){this.__yui_events=this.__yui_events||{};var ce=this.__yui_events[_110];if(ce){var args=[];for(var i=1;i&lt;arguments.length;++i){args.push(arguments[i]);}return ce.fire.apply(ce,args);}else{return null;}},hasEvent:function(type){if(this.__yui_events){if(this.__yui_events[type]){return true;}}return false;}};YAHOO.util.Anim=function(el,attributes,duration,method){if(el){this.init(el,attributes,duration,method);}};YAHOO.util.Anim.prototype={toString:function(){var el=this.getEl();var id=el.id||el.tagName;return(&quot;Anim &quot;+id);},patterns:{noNegatives:</span><span class="hl-quotes">/</span><span class="hl-identifier">width</span><span class="hl-code">|</span><span class="hl-identifier">height</span><span class="hl-code">|</span><span class="hl-identifier">opacity</span><span class="hl-code">|</span><span class="hl-identifier">padding</span><span class="hl-quotes">/</span><span class="hl-string">i,offsetAttribute:</span><span class="hl-quotes">/</span><span class="hl-code">^</span><span class="hl-brackets">((</span><span class="hl-identifier">width</span><span class="hl-code">|</span><span class="hl-identifier">height</span><span class="hl-brackets">)</span><span class="hl-code">|</span><span class="hl-brackets">(</span><span class="hl-identifier">top</span><span class="hl-code">|</span><span class="hl-identifier">left</span><span class="hl-brackets">))</span><span class="hl-code">$</span><span class="hl-quotes">/</span><span class="hl-string">,defaultUnit:</span><span class="hl-quotes">/</span><span class="hl-identifier">width</span><span class="hl-code">|</span><span class="hl-identifier">height</span><span class="hl-code">|</span><span class="hl-identifier">top</span><span class="hl-code">$|</span><span class="hl-identifier">bottom</span><span class="hl-code">$|</span><span class="hl-identifier">left</span><span class="hl-code">$|</span><span class="hl-identifier">right</span><span class="hl-code">$</span><span class="hl-quotes">/</span><span class="hl-string">i,offsetUnit:</span><span class="hl-quotes">/</span><span class="hl-code">\</span><span class="hl-identifier">d</span><span class="hl-code">+</span><span class="hl-brackets">(</span><span class="hl-identifier">em</span><span class="hl-code">|%|</span><span class="hl-identifier">en</span><span class="hl-code">|</span><span class="hl-identifier">ex</span><span class="hl-code">|</span><span class="hl-identifier">pt</span><span class="hl-code">|</span><span class="hl-reserved">in</span><span class="hl-code">|</span><span class="hl-identifier">cm</span><span class="hl-code">|</span><span class="hl-identifier">mm</span><span class="hl-code">|</span><span class="hl-identifier">pc</span><span class="hl-brackets">)</span><span class="hl-code">$</span><span class="hl-quotes">/</span><span class="hl-string">i},doMethod:function(attr,start,end){return this.method(this.currentFrame,start,end-start,this.totalFrames);},setAttribute:function(attr,val,unit){if(this.patterns.noNegatives.test(attr)){val=(val&gt;0)?val:0;}YAHOO.util.Dom.setStyle(this.getEl(),attr,val+unit);},getAttribute:function(attr){var el=this.getEl();var val=YAHOO.util.Dom.getStyle(el,attr);if(val!=='auto'&amp;&amp;!this.patterns.offsetUnit.test(val)){return parseFloat(val);}var a=this.patterns.offsetAttribute.exec(attr)||[];var pos=!!(a[3]);var box=!!(a[2]);if(box||(YAHOO.util.Dom.getStyle(el,'position')=='absolute'&amp;&amp;pos)){val=el['offset'+a[0].charAt(0).toUpperCase()+a[0].substr(1)];}else{val=0;}return val;},getDefaultUnit:function(attr){if(this.patterns.defaultUnit.test(attr)){return'px';}return'';},setRuntimeAttribute:function(attr){var start;var end;var attributes=this.attributes;this.runtimeAttributes[attr]={};var isset=function(prop){return(typeof prop!=='undefined');};if(!isset(attributes[attr]['to'])&amp;&amp;!isset(attributes[attr]['by'])){return false;}start=(isset(attributes[attr]['from']))?attributes[attr]['from']:this.getAttribute(attr);if(isset(attributes[attr]['to'])){end=attributes[attr]['to'];}else if(isset(attributes[attr]['by'])){if(start.constructor==Array){end=[];for(var i=0,len=start.length;i&lt;len;++i){end[i]=start[i]+attributes[attr]['by'][i];}}else{end=start+attributes[attr]['by'];}}this.runtimeAttributes[attr].start=start;this.runtimeAttributes[attr].end=end;this.runtimeAttributes[attr].unit=(isset(attributes[attr].unit))?attributes[attr]['unit']:this.getDefaultUnit(attr);},init:function(el,attributes,duration,method){var isAnimated=false;var startTime=null;var actualFrames=0;el=YAHOO.util.Dom.get(el);this.attributes=attributes||{};this.duration=duration||1;this.method=method||YAHOO.util.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=YAHOO.util.AnimMgr.fps;this.getEl=function(){return el;};this.isAnimated=function(){return isAnimated;};this.getStartTime=function(){return startTime;};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false;}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(YAHOO.util.AnimMgr.fps*this.duration):this.duration;YAHOO.util.AnimMgr.registerElement(this);};this.stop=function(finish){if(finish){this.currentFrame=this.totalFrames;this._onTween.fire();}YAHOO.util.AnimMgr.stop(this);};var onStart=function(){this.onStart.fire();this.runtimeAttributes={};for(var attr in this.attributes){this.setRuntimeAttribute(attr);}isAnimated=true;actualFrames=0;startTime=new Date();};var onTween=function(){var data={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};data.toString=function(){return('duration: '+data.duration+', currentFrame: '+data.currentFrame);};this.onTween.fire(data);var runtimeAttributes=this.runtimeAttributes;for(var attr in runtimeAttributes){this.setAttribute(attr,this.doMethod(attr,runtimeAttributes[attr].start,runtimeAttributes[attr].end),runtimeAttributes[attr].unit);}actualFrames+=1;};var onComplete=function(){var actual_duration=(new Date()-startTime)</span><span class="hl-quotes">/</span><span class="hl-number">1000</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">data</span><span class="hl-code">=</span><span class="hl-brackets">{</span><span class="hl-identifier">duration</span><span class="hl-code">:</span><span class="hl-identifier">actual_duration</span><span class="hl-code">,</span><span class="hl-identifier">frames</span><span class="hl-code">:</span><span class="hl-identifier">actualFrames</span><span class="hl-code">,</span><span class="hl-identifier">fps</span><span class="hl-code">:</span><span class="hl-identifier">actualFrames</span><span class="hl-quotes">/</span><span class="hl-string">actual_duration};data.toString=function(){return('duration: '+data.duration+', frames: '+data.frames+', fps: '+data.fps);};isAnimated=false;actualFrames=0;this.onComplete.fire(data);};this._onStart=new YAHOO.util.CustomEvent('_start',this,true);this.onStart=new YAHOO.util.CustomEvent('start',this);this.onTween=new YAHOO.util.CustomEvent('tween',this);this._onTween=new YAHOO.util.CustomEvent('_tween',this,true);this.onComplete=new YAHOO.util.CustomEvent('complete',this);this._onComplete=new YAHOO.util.CustomEvent('_complete',this,true);this._onStart.subscribe(onStart);this._onTween.subscribe(onTween);this._onComplete.subscribe(onComplete);}};YAHOO.util.AnimMgr=new function(){var thread=null;var queue=[];var tweenCount=0;this.fps=200;this.delay=1;this.registerElement=function(tween){queue[queue.length]=tween;tweenCount+=1;tween._onStart.fire();this.start();};this.unRegister=function(tween,index){tween._onComplete.fire();index=index||getIndex(tween);if(index!=-1){queue.splice(index,1);}tweenCount-=1;if(tweenCount&lt;=0){this.stop();}};this.start=function(){if(thread===null){thread=setInterval(this.run,this.delay);}};this.stop=function(tween){if(!tween){clearInterval(thread);for(var i=0,len=queue.length;i&lt;len;++i){if(queue[i].isAnimated()){this.unRegister(tween,i);}}queue=[];thread=null;tweenCount=0;}else{this.unRegister(tween);}};this.run=function(){for(var i=0,len=queue.length;i&lt;len;++i){var tween=queue[i];if(!tween||!tween.isAnimated()){continue;}if(tween.currentFrame&lt;tween.totalFrames||tween.totalFrames===null){tween.currentFrame+=1;if(tween.useSeconds){correctFrame(tween);}tween._onTween.fire();}else{YAHOO.util.AnimMgr.stop(tween,i);}}};var getIndex=function(anim){for(var i=0,len=queue.length;i&lt;len;++i){if(queue[i]==anim){return i;}}return-1;};var correctFrame=function(tween){var frames=tween.totalFrames;var frame=tween.currentFrame;var expected=(tween.currentFrame*tween.duration*1000</span><span class="hl-quotes">/</span><span class="hl-identifier">tween</span><span class="hl-code">.</span><span class="hl-identifier">totalFrames</span><span class="hl-code">);</span><span class="hl-reserved">var </span><span class="hl-identifier">elapsed</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-reserved">new </span><span class="hl-builtin">Date</span><span class="hl-brackets">()</span><span class="hl-code">-</span><span class="hl-identifier">tween</span><span class="hl-code">.</span><span class="hl-identifier">getStartTime</span><span class="hl-brackets">())</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">tweak</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">elapsed</span><span class="hl-code">&lt;</span><span class="hl-identifier">tween</span><span class="hl-code">.</span><span class="hl-identifier">duration</span><span class="hl-code">*</span><span class="hl-number">1000</span><span class="hl-brackets">){</span><span class="hl-identifier">tweak</span><span class="hl-code">=</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">round</span><span class="hl-brackets">((</span><span class="hl-identifier">elapsed</span><span class="hl-quotes">/</span><span class="hl-string">expected-1)*tween.currentFrame);}else{tweak=frames-(frame+1);}if(tweak&gt;0&amp;&amp;isFinite(tweak)){if(tween.currentFrame+tweak&gt;=frames){tweak=frames-(frame+1);}tween.currentFrame+=tweak;}};};YAHOO.util.Bezier=new function(){this.getPosition=function(points,t){var n=points.length;var tmp=[];for(var i=0;i&lt;n;++i){tmp[i]=[points[i][0],points[i][1]];}for(var j=1;j&lt;n;++j){for(i=0;i&lt;n-j;++i){tmp[i][0]=(1-t)*tmp[i][0]+t*tmp[parseInt(i+1,10)][0];tmp[i][1]=(1-t)*tmp[i][1]+t*tmp[parseInt(i+1,10)][1];}}return[tmp[0][0],tmp[0][1]];};};(function(){YAHOO.util.ColorAnim=function(el,attributes,duration,method){YAHOO.util.ColorAnim.superclass.constructor.call(this,el,attributes,duration,method);};YAHOO.extend(YAHOO.util.ColorAnim,YAHOO.util.Anim);var Y=YAHOO.util;var superclass=Y.ColorAnim.superclass;var proto=Y.ColorAnim.prototype;proto.toString=function(){var el=this.getEl();var id=el.id||el.tagName;return(&quot;ColorAnim &quot;+id);};proto.patterns.color=</span><span class="hl-quotes">/</span><span class="hl-identifier">color</span><span class="hl-code">$</span><span class="hl-quotes">/</span><span class="hl-string">i;proto.patterns.rgb=</span><span class="hl-quotes">/</span><span class="hl-code">^</span><span class="hl-identifier">rgb</span><span class="hl-code">\</span><span class="hl-brackets">(([</span><span class="hl-number">0</span><span class="hl-code">-</span><span class="hl-number">9</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-brackets">)</span><span class="hl-code">\</span><span class="hl-identifier">s</span><span class="hl-code">*,\</span><span class="hl-identifier">s</span><span class="hl-code">*</span><span class="hl-brackets">([</span><span class="hl-number">0</span><span class="hl-code">-</span><span class="hl-number">9</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-brackets">)</span><span class="hl-code">\</span><span class="hl-identifier">s</span><span class="hl-code">*,\</span><span class="hl-identifier">s</span><span class="hl-code">*</span><span class="hl-brackets">([</span><span class="hl-number">0</span><span class="hl-code">-</span><span class="hl-number">9</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-brackets">)</span><span class="hl-code">\</span><span class="hl-brackets">)</span><span class="hl-code">$</span><span class="hl-quotes">/</span><span class="hl-string">i;proto.patterns.hex=</span><span class="hl-quotes">/</span><span class="hl-code">^#?</span><span class="hl-brackets">([</span><span class="hl-number">0</span><span class="hl-code">-</span><span class="hl-number">9</span><span class="hl-identifier">A</span><span class="hl-code">-</span><span class="hl-identifier">F</span><span class="hl-brackets">]{</span><span class="hl-number">2</span><span class="hl-brackets">})([</span><span class="hl-number">0</span><span class="hl-code">-</span><span class="hl-number">9</span><span class="hl-identifier">A</span><span class="hl-code">-</span><span class="hl-identifier">F</span><span class="hl-brackets">]{</span><span class="hl-number">2</span><span class="hl-brackets">})([</span><span class="hl-number">0</span><span class="hl-code">-</span><span class="hl-number">9</span><span class="hl-identifier">A</span><span class="hl-code">-</span><span class="hl-identifier">F</span><span class="hl-brackets">]{</span><span class="hl-number">2</span><span class="hl-brackets">})</span><span class="hl-code">$</span><span class="hl-quotes">/</span><span class="hl-string">i;proto.patterns.hex3=</span><span class="hl-quotes">/</span><span class="hl-code">^#?</span><span class="hl-brackets">([</span><span class="hl-number">0</span><span class="hl-code">-</span><span class="hl-number">9</span><span class="hl-identifier">A</span><span class="hl-code">-</span><span class="hl-identifier">F</span><span class="hl-brackets">]{</span><span class="hl-number">1</span><span class="hl-brackets">})([</span><span class="hl-number">0</span><span class="hl-code">-</span><span class="hl-number">9</span><span class="hl-identifier">A</span><span class="hl-code">-</span><span class="hl-identifier">F</span><span class="hl-brackets">]{</span><span class="hl-number">1</span><span class="hl-brackets">})([</span><span class="hl-number">0</span><span class="hl-code">-</span><span class="hl-number">9</span><span class="hl-identifier">A</span><span class="hl-code">-</span><span class="hl-identifier">F</span><span class="hl-brackets">]{</span><span class="hl-number">1</span><span class="hl-brackets">})</span><span class="hl-code">$</span><span class="hl-quotes">/</span><span class="hl-string">i;proto.patterns.transparent=</span><span class="hl-quotes">/</span><span class="hl-code">^</span><span class="hl-identifier">transparent</span><span class="hl-code">|</span><span class="hl-identifier">rgba</span><span class="hl-code">\</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">, </span><span class="hl-number">0</span><span class="hl-code">, </span><span class="hl-number">0</span><span class="hl-code">, </span><span class="hl-number">0</span><span class="hl-code">\</span><span class="hl-brackets">)</span><span class="hl-code">$</span><span class="hl-quotes">/</span><span class="hl-string">;proto.parseColor=function(s){if(s.length==3){return s;}var c=this.patterns.hex.exec(s);if(c&amp;&amp;c.length==4){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)];}c=this.patterns.rgb.exec(s);if(c&amp;&amp;c.length==4){return[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)];}c=this.patterns.hex3.exec(s);if(c&amp;&amp;c.length==4){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)];}return null;};proto.getAttribute=function(attr){var el=this.getEl();if(this.patterns.color.test(attr)){var val=YAHOO.util.Dom.getStyle(el,attr);if(this.patterns.transparent.test(val)){var parent=el.parentNode;val=Y.Dom.getStyle(parent,attr);while(parent&amp;&amp;this.patterns.transparent.test(val)){parent=parent.parentNode;val=Y.Dom.getStyle(parent,attr);if(parent.tagName.toUpperCase()=='HTML'){val='#fff';}}}}else{val=superclass.getAttribute.call(this,attr);}return val;};proto.doMethod=function(attr,start,end){var val;if(this.patterns.color.test(attr)){val=[];for(var i=0,len=start.length;i&lt;len;++i){val[i]=superclass.doMethod.call(this,attr,start[i],end[i]);}val='rgb('+Math.floor(val[0])+','+Math.floor(val[1])+','+Math.floor(val[2])+')';}else{val=superclass.doMethod.call(this,attr,start,end);}return val;};proto.setRuntimeAttribute=function(attr){superclass.setRuntimeAttribute.call(this,attr);if(this.patterns.color.test(attr)){var attributes=this.attributes;var start=this.parseColor(this.runtimeAttributes[attr].start);var end=this.parseColor(this.runtimeAttributes[attr].end);if(typeof attributes[attr]['to']==='undefined'&amp;&amp;typeof attributes[attr]['by']!=='undefined'){end=this.parseColor(attributes[attr].by);for(var i=0,len=start.length;i&lt;len;++i){end[i]=start[i]+end[i];}}this.runtimeAttributes[attr].start=start;this.runtimeAttributes[attr].end=end;}};})();YAHOO.util.Easing={easeNone:function(t,b,c,d){return c*t</span><span class="hl-quotes">/</span><span class="hl-identifier">d</span><span class="hl-code">+</span><span class="hl-identifier">b</span><span class="hl-code">;},</span><span class="hl-identifier">easeIn</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">c</span><span class="hl-code">,</span><span class="hl-identifier">d</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">c</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-quotes">/</span><span class="hl-string">=d)*t+b;},easeOut:function(t,b,c,d){return-c*(t</span><span class="hl-quotes">/</span><span class="hl-code">=</span><span class="hl-identifier">d</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">-</span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">easeBoth</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">c</span><span class="hl-code">,</span><span class="hl-identifier">d</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">((</span><span class="hl-identifier">t</span><span class="hl-quotes">/</span><span class="hl-string">=d</span><span class="hl-quotes">/</span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-code">&lt;</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-reserved">return </span><span class="hl-identifier">c</span><span class="hl-quotes">/</span><span class="hl-string">2*t*t+b;return-c</span><span class="hl-quotes">/</span><span class="hl-number">2</span><span class="hl-code">*</span><span class="hl-brackets">((</span><span class="hl-code">--</span><span class="hl-identifier">t</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">-</span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-code">-</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">easeInStrong</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">c</span><span class="hl-code">,</span><span class="hl-identifier">d</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">c</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-quotes">/</span><span class="hl-string">=d)*t*t*t+b;},easeOutStrong:function(t,b,c,d){return-c*((t=t</span><span class="hl-quotes">/</span><span class="hl-identifier">d</span><span class="hl-code">-</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">-</span><span class="hl-number">1</span><span class="hl-code">)+</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">easeBothStrong</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">c</span><span class="hl-code">,</span><span class="hl-identifier">d</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">((</span><span class="hl-identifier">t</span><span class="hl-quotes">/</span><span class="hl-string">=d</span><span class="hl-quotes">/</span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-code">&lt;</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-reserved">return </span><span class="hl-identifier">c</span><span class="hl-quotes">/</span><span class="hl-string">2*t*t*t*t+b;return-c</span><span class="hl-quotes">/</span><span class="hl-number">2</span><span class="hl-code">*</span><span class="hl-brackets">((</span><span class="hl-identifier">t</span><span class="hl-code">-=</span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">-</span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">elasticIn</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">c</span><span class="hl-code">,</span><span class="hl-identifier">d</span><span class="hl-code">,</span><span class="hl-identifier">a</span><span class="hl-code">,</span><span class="hl-identifier">p</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">==</span><span class="hl-number">0</span><span class="hl-brackets">)</span><span class="hl-reserved">return </span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">((</span><span class="hl-identifier">t</span><span class="hl-quotes">/</span><span class="hl-string">=d)==1)return b+c;if(!p)p=d*.3;if(!a||a&lt;Math.abs(c)){a=c;var s=p</span><span class="hl-quotes">/</span><span class="hl-number">4</span><span class="hl-code">;}</span><span class="hl-reserved">else var </span><span class="hl-identifier">s</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-quotes">/</span><span class="hl-string">(2*Math.PI)*Math.asin(c</span><span class="hl-quotes">/</span><span class="hl-identifier">a</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return</span><span class="hl-code">-</span><span class="hl-brackets">(</span><span class="hl-identifier">a</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">pow</span><span class="hl-brackets">(</span><span class="hl-number">2</span><span class="hl-code">,</span><span class="hl-number">10</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">-=</span><span class="hl-number">1</span><span class="hl-brackets">))</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">sin</span><span class="hl-brackets">((</span><span class="hl-identifier">t</span><span class="hl-code">*</span><span class="hl-identifier">d</span><span class="hl-code">-</span><span class="hl-identifier">s</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-number">2</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">PI</span><span class="hl-brackets">)</span><span class="hl-quotes">/</span><span class="hl-string">p))+b;},elasticOut:function(t,b,c,d,a,p){if(t==0)return b;if((t</span><span class="hl-quotes">/</span><span class="hl-code">=</span><span class="hl-identifier">d</span><span class="hl-brackets">)</span><span class="hl-code">==</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-reserved">return </span><span class="hl-identifier">b</span><span class="hl-code">+</span><span class="hl-identifier">c</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">p</span><span class="hl-brackets">)</span><span class="hl-identifier">p</span><span class="hl-code">=</span><span class="hl-identifier">d</span><span class="hl-code">*</span><span class="hl-number">.3</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">a</span><span class="hl-code">||</span><span class="hl-identifier">a</span><span class="hl-code">&lt;</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">abs</span><span class="hl-brackets">(</span><span class="hl-identifier">c</span><span class="hl-brackets">)){</span><span class="hl-identifier">a</span><span class="hl-code">=</span><span class="hl-identifier">c</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">s</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-quotes">/</span><span class="hl-string">4;}else var s=p</span><span class="hl-quotes">/</span><span class="hl-brackets">(</span><span class="hl-number">2</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">PI</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">asin</span><span class="hl-brackets">(</span><span class="hl-identifier">c</span><span class="hl-quotes">/</span><span class="hl-string">a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)</span><span class="hl-quotes">/</span><span class="hl-identifier">p</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-identifier">c</span><span class="hl-code">+</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">elasticBoth</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">c</span><span class="hl-code">,</span><span class="hl-identifier">d</span><span class="hl-code">,</span><span class="hl-identifier">a</span><span class="hl-code">,</span><span class="hl-identifier">p</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">==</span><span class="hl-number">0</span><span class="hl-brackets">)</span><span class="hl-reserved">return </span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">((</span><span class="hl-identifier">t</span><span class="hl-quotes">/</span><span class="hl-string">=d</span><span class="hl-quotes">/</span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-code">==</span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-reserved">return </span><span class="hl-identifier">b</span><span class="hl-code">+</span><span class="hl-identifier">c</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">p</span><span class="hl-brackets">)</span><span class="hl-identifier">p</span><span class="hl-code">=</span><span class="hl-identifier">d</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-number">.3</span><span class="hl-code">*</span><span class="hl-number">1.5</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">a</span><span class="hl-code">||</span><span class="hl-identifier">a</span><span class="hl-code">&lt;</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">abs</span><span class="hl-brackets">(</span><span class="hl-identifier">c</span><span class="hl-brackets">)){</span><span class="hl-identifier">a</span><span class="hl-code">=</span><span class="hl-identifier">c</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">s</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-quotes">/</span><span class="hl-string">4;}else var s=p</span><span class="hl-quotes">/</span><span class="hl-brackets">(</span><span class="hl-number">2</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">PI</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">asin</span><span class="hl-brackets">(</span><span class="hl-identifier">c</span><span class="hl-quotes">/</span><span class="hl-string">a);if(t&lt;1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)</span><span class="hl-quotes">/</span><span class="hl-identifier">p</span><span class="hl-brackets">)</span><span class="hl-code">)+</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-identifier">a</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">pow</span><span class="hl-brackets">(</span><span class="hl-number">2</span><span class="hl-code">,-</span><span class="hl-number">10</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">-=</span><span class="hl-number">1</span><span class="hl-brackets">))</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">sin</span><span class="hl-brackets">((</span><span class="hl-identifier">t</span><span class="hl-code">*</span><span class="hl-identifier">d</span><span class="hl-code">-</span><span class="hl-identifier">s</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-number">2</span><span class="hl-code">*</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">PI</span><span class="hl-brackets">)</span><span class="hl-quotes">/</span><span class="hl-string">p)*.5+c+b;},backIn:function(t,b,c,d,s){if(typeof s=='undefined')s=1.70158;return c*(t</span><span class="hl-quotes">/</span><span class="hl-code">=</span><span class="hl-identifier">d</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">*</span><span class="hl-brackets">((</span><span class="hl-identifier">s</span><span class="hl-code">+</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">-</span><span class="hl-identifier">s</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">backOut</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">c</span><span class="hl-code">,</span><span class="hl-identifier">d</span><span class="hl-code">,</span><span class="hl-identifier">s</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">s</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">undefined</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-identifier">s</span><span class="hl-code">=</span><span class="hl-number">1.70158</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-identifier">c</span><span class="hl-code">*</span><span class="hl-brackets">((</span><span class="hl-identifier">t</span><span class="hl-code">=</span><span class="hl-identifier">t</span><span class="hl-quotes">/</span><span class="hl-string">d-1)*t*((s+1)*t+s)+1)+b;},backBoth:function(t,b,c,d,s){if(typeof s=='undefined')s=1.70158;if((t</span><span class="hl-quotes">/</span><span class="hl-code">=</span><span class="hl-identifier">d</span><span class="hl-quotes">/</span><span class="hl-string">2)&lt;1)return c</span><span class="hl-quotes">/</span><span class="hl-number">2</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">*</span><span class="hl-brackets">(((</span><span class="hl-identifier">s</span><span class="hl-code">*=</span><span class="hl-brackets">(</span><span class="hl-number">1.525</span><span class="hl-brackets">))</span><span class="hl-code">+</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">-</span><span class="hl-identifier">s</span><span class="hl-brackets">))</span><span class="hl-code">+</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-identifier">c</span><span class="hl-quotes">/</span><span class="hl-string">2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},bounceIn:function(t,b,c,d){return c-YAHOO.util.Easing.bounceOut(d-t,0,c,d)+b;},bounceOut:function(t,b,c,d){if((t</span><span class="hl-quotes">/</span><span class="hl-code">=</span><span class="hl-identifier">d</span><span class="hl-brackets">)</span><span class="hl-code">&lt;</span><span class="hl-brackets">(</span><span class="hl-number">1</span><span class="hl-quotes">/</span><span class="hl-string">2.75)){return c*(7.5625*t*t)+b;}else if(t&lt;(2</span><span class="hl-quotes">/</span><span class="hl-number">2.75</span><span class="hl-brackets">)){</span><span class="hl-reserved">return </span><span class="hl-identifier">c</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-number">7.5625</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">-=</span><span class="hl-brackets">(</span><span class="hl-number">1.5</span><span class="hl-quotes">/</span><span class="hl-string">2.75))*t+.75)+b;}else if(t&lt;(2.5</span><span class="hl-quotes">/</span><span class="hl-number">2.75</span><span class="hl-brackets">)){</span><span class="hl-reserved">return </span><span class="hl-identifier">c</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-number">7.5625</span><span class="hl-code">*</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">-=</span><span class="hl-brackets">(</span><span class="hl-number">2.25</span><span class="hl-quotes">/</span><span class="hl-string">2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625</span><span class="hl-quotes">/</span><span class="hl-number">2.75</span><span class="hl-brackets">))</span><span class="hl-code">*</span><span class="hl-identifier">t</span><span class="hl-code">+</span><span class="hl-number">.984375</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">},</span><span class="hl-identifier">bounceBoth</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">c</span><span class="hl-code">,</span><span class="hl-identifier">d</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">&lt;</span><span class="hl-identifier">d</span><span class="hl-quotes">/</span><span class="hl-string">2)return YAHOO.util.Easing.bounceIn(t*2,0,c,d)*.5+b;return YAHOO.util.Easing.bounceOut(t*2-d,0,c,d)*.5+c*.5+b;}};(function(){YAHOO.util.Motion=function(el,attributes,duration,method){if(el){YAHOO.util.Motion.superclass.constructor.call(this,el,attributes,duration,method);}};YAHOO.extend(YAHOO.util.Motion,YAHOO.util.ColorAnim);var Y=YAHOO.util;var superclass=Y.Motion.superclass;var proto=Y.Motion.prototype;proto.toString=function(){var el=this.getEl();var id=el.id||el.tagName;return(&quot;Motion &quot;+id);};proto.patterns.points=</span><span class="hl-quotes">/</span><span class="hl-code">^</span><span class="hl-identifier">points</span><span class="hl-code">$</span><span class="hl-quotes">/</span><span class="hl-string">i;proto.setAttribute=function(attr,val,unit){if(this.patterns.points.test(attr)){unit=unit||'px';superclass.setAttribute.call(this,'left',val[0],unit);superclass.setAttribute.call(this,'top',val[1],unit);}else{superclass.setAttribute.call(this,attr,val,unit);}};proto.getAttribute=function(attr){if(this.patterns.points.test(attr)){var val=[superclass.getAttribute.call(this,'left'),superclass.getAttribute.call(this,'top')];}else{val=superclass.getAttribute.call(this,attr);}return val;};proto.doMethod=function(attr,start,end){var val=null;if(this.patterns.points.test(attr)){var t=this.method(this.currentFrame,0,100,this.totalFrames)</span><span class="hl-quotes">/</span><span class="hl-number">100</span><span class="hl-code">;</span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Bezier</span><span class="hl-code">.</span><span class="hl-identifier">getPosition</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">runtimeAttributes</span><span class="hl-brackets">[</span><span class="hl-identifier">attr</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-identifier">t</span><span class="hl-brackets">)</span><span class="hl-code">;}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-identifier">superclass</span><span class="hl-code">.</span><span class="hl-identifier">doMethod</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">attr</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-code">,</span><span class="hl-identifier">end</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">return </span><span class="hl-identifier">val</span><span class="hl-code">;};</span><span class="hl-identifier">proto</span><span class="hl-code">.</span><span class="hl-identifier">setRuntimeAttribute</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">attr</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">patterns</span><span class="hl-code">.</span><span class="hl-identifier">points</span><span class="hl-code">.</span><span class="hl-identifier">test</span><span class="hl-brackets">(</span><span class="hl-identifier">attr</span><span class="hl-brackets">)){</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">attributes</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">attributes</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">start</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">control</span><span class="hl-code">=</span><span class="hl-identifier">attributes</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">points</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-quotes">'</span><span class="hl-string">control</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code">||</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">end</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">control</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">&gt;</span><span class="hl-number">0</span><span class="hl-code">&amp;&amp;!</span><span class="hl-brackets">(</span><span class="hl-identifier">control</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-reserved">instanceof </span><span class="hl-builtin">Array</span><span class="hl-brackets">)){</span><span class="hl-identifier">control</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">control</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">var </span><span class="hl-identifier">tmp</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">control</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">tmp</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">control</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">control</span><span class="hl-code">=</span><span class="hl-identifier">tmp</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">position</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">static</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">position</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">relative</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isset</span><span class="hl-brackets">(</span><span class="hl-identifier">attributes</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">points</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-quotes">'</span><span class="hl-string">from</span><span class="hl-quotes">'</span><span class="hl-brackets">])){</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">setXY</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">attributes</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">points</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-quotes">'</span><span class="hl-string">from</span><span class="hl-quotes">'</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">setXY</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getXY</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">))</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">start</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getAttribute</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">points</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isset</span><span class="hl-brackets">(</span><span class="hl-identifier">attributes</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">points</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-quotes">'</span><span class="hl-string">to</span><span class="hl-quotes">'</span><span class="hl-brackets">])){</span><span class="hl-identifier">end</span><span class="hl-code">=</span><span class="hl-identifier">translateValues</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">attributes</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">points</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-quotes">'</span><span class="hl-string">to</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">pageXY</span><span class="hl-code">=</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getXY</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">())</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">control</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">control</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">translateValues</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">control</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">else if</span><span class="hl-brackets">(</span><span class="hl-identifier">isset</span><span class="hl-brackets">(</span><span class="hl-identifier">attributes</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">points</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-quotes">'</span><span class="hl-string">by</span><span class="hl-quotes">'</span><span class="hl-brackets">])){</span><span class="hl-identifier">end</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-identifier">attributes</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">points</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-quotes">'</span><span class="hl-string">by</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-identifier">attributes</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">points</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-quotes">'</span><span class="hl-string">by</span><span class="hl-quotes">'</span><span class="hl-brackets">][</span><span class="hl-number">1</span><span class="hl-brackets">]]</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">control</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">control</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-identifier">control</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">][</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-identifier">control</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">][</span><span class="hl-number">1</span><span class="hl-brackets">]]</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">runtimeAttributes</span><span class="hl-brackets">[</span><span class="hl-identifier">attr</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">start</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">control</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">&gt;</span><span class="hl-number">0</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">runtimeAttributes</span><span class="hl-brackets">[</span><span class="hl-identifier">attr</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">runtimeAttributes</span><span class="hl-brackets">[</span><span class="hl-identifier">attr</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">concat</span><span class="hl-brackets">(</span><span class="hl-identifier">control</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">runtimeAttributes</span><span class="hl-brackets">[</span><span class="hl-identifier">attr</span><span class="hl-brackets">][</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">runtimeAttributes</span><span class="hl-brackets">[</span><span class="hl-identifier">attr</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">end</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">superclass</span><span class="hl-code">.</span><span class="hl-identifier">setRuntimeAttribute</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">attr</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">translateValues</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">val</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">pageXY</span><span class="hl-code">=</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getXY</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">())</span><span class="hl-code">;</span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">val</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">-</span><span class="hl-identifier">pageXY</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-identifier">val</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">-</span><span class="hl-identifier">pageXY</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]]</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-identifier">val</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">isset</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">prop</span><span class="hl-brackets">){</span><span class="hl-reserved">return</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">prop</span><span class="hl-code">!==</span><span class="hl-quotes">'</span><span class="hl-string">undefined</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">;}</span><span class="hl-brackets">)()</span><span class="hl-code">;</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Scroll</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">attributes</span><span class="hl-code">,</span><span class="hl-identifier">duration</span><span class="hl-code">,</span><span class="hl-identifier">method</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Scroll</span><span class="hl-code">.</span><span class="hl-identifier">superclass</span><span class="hl-code">.</span><span class="hl-identifier">constructor</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">attributes</span><span class="hl-code">,</span><span class="hl-identifier">duration</span><span class="hl-code">,</span><span class="hl-identifier">method</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">extend</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Scroll</span><span class="hl-code">,</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">ColorAnim</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">Y</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">superclass</span><span class="hl-code">=</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Scroll</span><span class="hl-code">.</span><span class="hl-identifier">superclass</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">proto</span><span class="hl-code">=</span><span class="hl-identifier">Y</span><span class="hl-code">.</span><span class="hl-identifier">Scroll</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">;</span><span class="hl-identifier">proto</span><span class="hl-code">.</span><span class="hl-identifier">toString</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">||</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">tagName</span><span class="hl-code">;</span><span class="hl-reserved">return</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">Scroll </span><span class="hl-quotes">&quot;</span><span class="hl-code">+</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-identifier">proto</span><span class="hl-code">.</span><span class="hl-identifier">doMethod</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">attr</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-code">,</span><span class="hl-identifier">end</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">attr</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">scroll</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">method</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">currentFrame</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-identifier">end</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">-</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">totalFrames</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">method</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">currentFrame</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-identifier">end</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">-</span><span class="hl-identifier">start</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">totalFrames</span><span class="hl-brackets">)]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-identifier">superclass</span><span class="hl-code">.</span><span class="hl-identifier">doMethod</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">attr</span><span class="hl-code">,</span><span class="hl-identifier">start</span><span class="hl-code">,</span><span class="hl-identifier">end</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">return </span><span class="hl-identifier">val</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-identifier">proto</span><span class="hl-code">.</span><span class="hl-identifier">getAttribute</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">attr</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">attr</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">scroll</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">scrollLeft</span><span class="hl-code">,</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">scrollTop</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">val</span><span class="hl-code">=</span><span class="hl-identifier">superclass</span><span class="hl-code">.</span><span class="hl-identifier">getAttribute</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">attr</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">return </span><span class="hl-identifier">val</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-identifier">proto</span><span class="hl-code">.</span><span class="hl-identifier">setAttribute</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">attr</span><span class="hl-code">,</span><span class="hl-identifier">val</span><span class="hl-code">,</span><span class="hl-identifier">unit</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">attr</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">scroll</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">scrollLeft</span><span class="hl-code">=</span><span class="hl-identifier">val</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">scrollTop</span><span class="hl-code">=</span><span class="hl-identifier">val</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">superclass</span><span class="hl-code">.</span><span class="hl-identifier">setAttribute</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">attr</span><span class="hl-code">,</span><span class="hl-identifier">val</span><span class="hl-code">,</span><span class="hl-identifier">unit</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span><span class="hl-brackets">})()</span><span class="hl-code">;</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">var </span><span class="hl-identifier">_1</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_2</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DragDrop</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_4</span><span class="hl-code">,</span><span class="hl-identifier">_5</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">init</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_4</span><span class="hl-code">,</span><span class="hl-identifier">_5</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DragDrop</span><span class="hl-code">.</span><span class="hl-identifier">prototype</span><span class="hl-code">=</span><span class="hl-brackets">{</span><span class="hl-identifier">id</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">config</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">dragElId</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">handleElId</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">invalidHandleTypes</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">invalidHandleIds</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">invalidHandleClasses</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">startPageX</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">startPageY</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">groups</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">locked</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">lock</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">locked</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">unlock</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">locked</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">isTarget</span><span class="hl-code">:</span><span class="hl-reserved">true</span><span class="hl-code">,</span><span class="hl-identifier">padding</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">_domRef</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">__ygDragDrop</span><span class="hl-code">:</span><span class="hl-reserved">true</span><span class="hl-code">,</span><span class="hl-identifier">constrainX</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">constrainY</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">minX</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">maxX</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">minY</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">maxY</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">maintainOffset</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">xTicks</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">yTicks</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">primaryButtonOnly</span><span class="hl-code">:</span><span class="hl-reserved">true</span><span class="hl-code">,</span><span class="hl-identifier">available</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">hasOuterHandles</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">b4StartDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">startDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">b4Drag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">onDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">onDragEnter</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">id</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">b4DragOver</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">onDragOver</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">id</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">b4DragOut</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">onDragOut</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">id</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">b4DragDrop</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-builtin">onDragDrop</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">id</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">onInvalidDrop</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">b4EndDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">endDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">b4MouseDown</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-builtin">onMouseDown</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-builtin">onMouseUp</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-code">,</span><span class="hl-identifier">onAvailable</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){}</span><span class="hl-code">,</span><span class="hl-identifier">getEl</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_domRef</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_domRef</span><span class="hl-code">=</span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">get</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">_domRef</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getDragEl</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return </span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">get</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragElId</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">init</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_9</span><span class="hl-code">,</span><span class="hl-identifier">_10</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initTarget</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_9</span><span class="hl-code">,</span><span class="hl-identifier">_10</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">_1</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">mousedown</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleMouseDown</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">initTarget</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_11</span><span class="hl-code">,</span><span class="hl-identifier">_12</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">config</span><span class="hl-code">=</span><span class="hl-identifier">_12</span><span class="hl-code">||</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">groups</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">id</span><span class="hl-code">!==</span><span class="hl-quotes">&quot;</span><span class="hl-string">string</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">id is not a string, assuming it is an HTMLElement</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">generateId</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-identifier">id</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">addToGroup</span><span class="hl-brackets">((</span><span class="hl-identifier">_11</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-identifier">_11</span><span class="hl-code">:</span><span class="hl-quotes">&quot;</span><span class="hl-string">default</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleElId</span><span class="hl-code">=</span><span class="hl-identifier">id</span><span class="hl-code">;</span><span class="hl-identifier">_1</span><span class="hl-code">.</span><span class="hl-identifier">onAvailable</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleOnAvailable</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setDragElId</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleTypes</span><span class="hl-code">=</span><span class="hl-brackets">{</span><span class="hl-identifier">A</span><span class="hl-code">:</span><span class="hl-quotes">&quot;</span><span class="hl-string">A</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleIds</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleClasses</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">applyConfig</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">applyConfig</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">padding</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">config</span><span class="hl-code">.</span><span class="hl-identifier">padding</span><span class="hl-code">||</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isTarget</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">config</span><span class="hl-code">.</span><span class="hl-identifier">isTarget</span><span class="hl-code">!==</span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maintainOffset</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">config</span><span class="hl-code">.</span><span class="hl-identifier">maintainOffset</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">primaryButtonOnly</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">config</span><span class="hl-code">.</span><span class="hl-identifier">primaryButtonOnly</span><span class="hl-code">!==</span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">handleOnAvailable</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">available</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">resetConstraints</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">onAvailable</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setPadding</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_13</span><span class="hl-code">,</span><span class="hl-identifier">_14</span><span class="hl-code">,</span><span class="hl-identifier">_15</span><span class="hl-code">,</span><span class="hl-identifier">_16</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_14</span><span class="hl-code">&amp;&amp;</span><span class="hl-number">0</span><span class="hl-code">!==</span><span class="hl-identifier">_14</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">padding</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">_13</span><span class="hl-code">,</span><span class="hl-identifier">_13</span><span class="hl-code">,</span><span class="hl-identifier">_13</span><span class="hl-code">,</span><span class="hl-identifier">_13</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_15</span><span class="hl-code">&amp;&amp;</span><span class="hl-number">0</span><span class="hl-code">!==</span><span class="hl-identifier">_15</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">padding</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">_13</span><span class="hl-code">,</span><span class="hl-identifier">_14</span><span class="hl-code">,</span><span class="hl-identifier">_13</span><span class="hl-code">,</span><span class="hl-identifier">_14</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">padding</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">_13</span><span class="hl-code">,</span><span class="hl-identifier">_14</span><span class="hl-code">,</span><span class="hl-identifier">_15</span><span class="hl-code">,</span><span class="hl-identifier">_16</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}}</span><span class="hl-code">,</span><span class="hl-identifier">setInitPosition</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_17</span><span class="hl-code">,</span><span class="hl-identifier">_18</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">verifyEl</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">)){</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">var </span><span class="hl-identifier">dx</span><span class="hl-code">=</span><span class="hl-identifier">_17</span><span class="hl-code">||</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">dy</span><span class="hl-code">=</span><span class="hl-identifier">_18</span><span class="hl-code">||</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">p</span><span class="hl-code">=</span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">getXY</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageX</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">-</span><span class="hl-identifier">dx</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageY</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">-</span><span class="hl-identifier">dy</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastPageX</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastPageY</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setStartPosition</span><span class="hl-brackets">(</span><span class="hl-identifier">p</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setStartPosition</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">pos</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">p</span><span class="hl-code">=</span><span class="hl-identifier">pos</span><span class="hl-code">||</span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">getXY</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">())</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaSetXY</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startPageX</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startPageY</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">addToGroup</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_24</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">groups</span><span class="hl-brackets">[</span><span class="hl-identifier">_24</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">regDragDrop</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">_24</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">removeFromGroup</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_25</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">groups</span><span class="hl-brackets">[</span><span class="hl-identifier">_25</span><span class="hl-brackets">]){</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">groups</span><span class="hl-brackets">[</span><span class="hl-identifier">_25</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">removeDDFromGroup</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-identifier">_25</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setDragElId</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragElId</span><span class="hl-code">=</span><span class="hl-identifier">id</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setHandleElId</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">id</span><span class="hl-code">!==</span><span class="hl-quotes">&quot;</span><span class="hl-string">string</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">id is not a string, assuming it is an HTMLElement</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">generateId</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleElId</span><span class="hl-code">=</span><span class="hl-identifier">id</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">regHandle</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setOuterHandleElId</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">id</span><span class="hl-code">!==</span><span class="hl-quotes">&quot;</span><span class="hl-string">string</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">id is not a string, assuming it is an HTMLElement</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">generateId</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">_1</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">mousedown</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleMouseDown</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setHandleElId</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">hasOuterHandles</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">unreg</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-identifier">_1</span><span class="hl-code">.</span><span class="hl-identifier">removeListener</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">mousedown</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleMouseDown</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_domRef</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">_remove</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">isLocked</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">isLocked</span><span class="hl-brackets">()</span><span class="hl-code">||</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">locked</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">handleMouseDown</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">oDD</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_27</span><span class="hl-code">=</span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">which</span><span class="hl-code">||</span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">button</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">primaryButtonOnly</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">_27</span><span class="hl-code">&gt;</span><span class="hl-number">1</span><span class="hl-brackets">){</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isLocked</span><span class="hl-brackets">()){</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">refreshCache</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">groups</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">pt</span><span class="hl-code">=</span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Point</span><span class="hl-brackets">(</span><span class="hl-identifier">_1</span><span class="hl-code">.</span><span class="hl-identifier">getPageX</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-identifier">_1</span><span class="hl-code">.</span><span class="hl-identifier">getPageY</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">))</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">hasOuterHandles</span><span class="hl-code">&amp;&amp;!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">isOverTarget</span><span class="hl-brackets">(</span><span class="hl-identifier">pt</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-brackets">)){}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clickValidator</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setStartPosition</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">b4MouseDown</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-builtin">onMouseDown</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">handleMouseDown</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{}}}</span><span class="hl-code">,</span><span class="hl-identifier">clickValidator</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_29</span><span class="hl-code">=</span><span class="hl-identifier">_1</span><span class="hl-code">.</span><span class="hl-identifier">getTarget</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isValidHandleChild</span><span class="hl-brackets">(</span><span class="hl-identifier">_29</span><span class="hl-brackets">)</span><span class="hl-code">&amp;&amp;</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">==</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleElId</span><span class="hl-code">||</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">handleWasClicked</span><span class="hl-brackets">(</span><span class="hl-identifier">_29</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)))</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">addInvalidHandleType</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_30</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_31</span><span class="hl-code">=</span><span class="hl-identifier">_30</span><span class="hl-code">.</span><span class="hl-identifier">toUpperCase</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleTypes</span><span class="hl-brackets">[</span><span class="hl-identifier">_31</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">_31</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">addInvalidHandleId</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">id</span><span class="hl-code">!==</span><span class="hl-quotes">&quot;</span><span class="hl-string">string</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">id is not a string, assuming it is an HTMLElement</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">generateId</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleIds</span><span class="hl-brackets">[</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">id</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">addInvalidHandleClass</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_32</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleClasses</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">_32</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">removeInvalidHandleType</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_33</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_34</span><span class="hl-code">=</span><span class="hl-identifier">_33</span><span class="hl-code">.</span><span class="hl-identifier">toUpperCase</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleTypes</span><span class="hl-brackets">[</span><span class="hl-identifier">_34</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">removeInvalidHandleId</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">id</span><span class="hl-code">!==</span><span class="hl-quotes">&quot;</span><span class="hl-string">string</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">id is not a string, assuming it is an HTMLElement</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">generateId</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleIds</span><span class="hl-brackets">[</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">removeInvalidHandleClass</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_35</span><span class="hl-brackets">){</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleClasses</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleClasses</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">==</span><span class="hl-identifier">_35</span><span class="hl-brackets">){</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleClasses</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}}</span><span class="hl-code">,</span><span class="hl-identifier">isValidHandleChild</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_37</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_38</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_39</span><span class="hl-code">;</span><span class="hl-reserved">try</span><span class="hl-brackets">{</span><span class="hl-identifier">_39</span><span class="hl-code">=</span><span class="hl-identifier">_37</span><span class="hl-code">.</span><span class="hl-identifier">nodeName</span><span class="hl-code">.</span><span class="hl-identifier">toUpperCase</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-identifier">_39</span><span class="hl-code">=</span><span class="hl-identifier">_37</span><span class="hl-code">.</span><span class="hl-identifier">nodeName</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">_38</span><span class="hl-code">=</span><span class="hl-identifier">_38</span><span class="hl-code">&amp;&amp;!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleTypes</span><span class="hl-brackets">[</span><span class="hl-identifier">_39</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-identifier">_38</span><span class="hl-code">=</span><span class="hl-identifier">_38</span><span class="hl-code">&amp;&amp;!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleIds</span><span class="hl-brackets">[</span><span class="hl-identifier">_37</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleClasses</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">_38</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">_38</span><span class="hl-code">=!</span><span class="hl-identifier">_2</span><span class="hl-code">.</span><span class="hl-identifier">hasClass</span><span class="hl-brackets">(</span><span class="hl-identifier">_37</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">invalidHandleClasses</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">return </span><span class="hl-identifier">_38</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setXTicks</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_40</span><span class="hl-code">,</span><span class="hl-identifier">_41</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTicks</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTickSize</span><span class="hl-code">=</span><span class="hl-identifier">_41</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_42</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageX</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&gt;=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minX</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">-</span><span class="hl-identifier">_41</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_42</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTicks</span><span class="hl-brackets">[</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTicks</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">;</span><span class="hl-identifier">_42</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageX</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxX</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">+</span><span class="hl-identifier">_41</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_42</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTicks</span><span class="hl-brackets">[</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTicks</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">;</span><span class="hl-identifier">_42</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTicks</span><span class="hl-code">.</span><span class="hl-identifier">sort</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">numericSort</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setYTicks</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_43</span><span class="hl-code">,</span><span class="hl-identifier">_44</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTicks</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTickSize</span><span class="hl-code">=</span><span class="hl-identifier">_44</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_45</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageY</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&gt;=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minY</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">-</span><span class="hl-identifier">_44</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_45</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTicks</span><span class="hl-brackets">[</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTicks</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">;</span><span class="hl-identifier">_45</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageY</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxY</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">+</span><span class="hl-identifier">_44</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_45</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTicks</span><span class="hl-brackets">[</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTicks</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">;</span><span class="hl-identifier">_45</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTicks</span><span class="hl-code">.</span><span class="hl-identifier">sort</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">numericSort</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setXConstraint</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_46</span><span class="hl-code">,</span><span class="hl-identifier">_47</span><span class="hl-code">,</span><span class="hl-identifier">_48</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">leftConstraint</span><span class="hl-code">=</span><span class="hl-identifier">_46</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">rightConstraint</span><span class="hl-code">=</span><span class="hl-identifier">_47</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minX</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageX</span><span class="hl-code">-</span><span class="hl-identifier">_46</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxX</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageX</span><span class="hl-code">+</span><span class="hl-identifier">_47</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_48</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setXTicks</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageX</span><span class="hl-code">,</span><span class="hl-identifier">_48</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainX</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">clearConstraints</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainX</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainY</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clearTicks</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">clearTicks</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTicks</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTicks</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTickSize</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTickSize</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setYConstraint</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">iUp</span><span class="hl-code">,</span><span class="hl-identifier">_50</span><span class="hl-code">,</span><span class="hl-identifier">_51</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">topConstraint</span><span class="hl-code">=</span><span class="hl-identifier">iUp</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">bottomConstraint</span><span class="hl-code">=</span><span class="hl-identifier">_50</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minY</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageY</span><span class="hl-code">-</span><span class="hl-identifier">iUp</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxY</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageY</span><span class="hl-code">+</span><span class="hl-identifier">_50</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_51</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setYTicks</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageY</span><span class="hl-code">,</span><span class="hl-identifier">_51</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainY</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">resetConstraints</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageX</span><span class="hl-code">||</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageX</span><span class="hl-code">===</span><span class="hl-number">0</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">dx</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maintainOffset</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastPageX</span><span class="hl-code">-</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageX</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">dy</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maintainOffset</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastPageY</span><span class="hl-code">-</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initPageY</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setInitPosition</span><span class="hl-brackets">(</span><span class="hl-identifier">dx</span><span class="hl-code">,</span><span class="hl-identifier">dy</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setInitPosition</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainX</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setXConstraint</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">leftConstraint</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">rightConstraint</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTickSize</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainY</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setYConstraint</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">topConstraint</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">bottomConstraint</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTickSize</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">getTick</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">val</span><span class="hl-code">,</span><span class="hl-identifier">_53</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_53</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">val</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_53</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">&gt;=</span><span class="hl-identifier">val</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">_53</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">_53</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_54</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">+</span><span class="hl-number">1</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_53</span><span class="hl-brackets">[</span><span class="hl-identifier">_54</span><span class="hl-brackets">]</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">_53</span><span class="hl-brackets">[</span><span class="hl-identifier">_54</span><span class="hl-brackets">]</span><span class="hl-code">&gt;=</span><span class="hl-identifier">val</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_55</span><span class="hl-code">=</span><span class="hl-identifier">val</span><span class="hl-code">-</span><span class="hl-identifier">_53</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_56</span><span class="hl-code">=</span><span class="hl-identifier">_53</span><span class="hl-brackets">[</span><span class="hl-identifier">_54</span><span class="hl-brackets">]</span><span class="hl-code">-</span><span class="hl-identifier">val</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-identifier">_56</span><span class="hl-code">&gt;</span><span class="hl-identifier">_55</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-identifier">_53</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">:</span><span class="hl-identifier">_53</span><span class="hl-brackets">[</span><span class="hl-identifier">_54</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">return </span><span class="hl-identifier">_53</span><span class="hl-brackets">[</span><span class="hl-identifier">_53</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">-</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}}</span><span class="hl-code">,</span><span class="hl-identifier">toString</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">DragDrop </span><span class="hl-quotes">&quot;</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span><span class="hl-brackets">})()</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DragDropMgr</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DragDropMgr</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">var </span><span class="hl-identifier">_57</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-brackets">{</span><span class="hl-identifier">ids</span><span class="hl-code">:</span><span class="hl-brackets">{}</span><span class="hl-code">,</span><span class="hl-identifier">handleIds</span><span class="hl-code">:</span><span class="hl-brackets">{}</span><span class="hl-code">,</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">dragOvers</span><span class="hl-code">:</span><span class="hl-brackets">{}</span><span class="hl-code">,</span><span class="hl-identifier">deltaX</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">deltaY</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">preventDefault</span><span class="hl-code">:</span><span class="hl-reserved">true</span><span class="hl-code">,</span><span class="hl-identifier">stopPropagation</span><span class="hl-code">:</span><span class="hl-reserved">true</span><span class="hl-code">,</span><span class="hl-identifier">initalized</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">locked</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">init</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initialized</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">POINT</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">INTERSECT</span><span class="hl-code">:</span><span class="hl-number">1</span><span class="hl-code">,</span><span class="hl-identifier">mode</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">_execOnAll</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_58</span><span class="hl-code">,</span><span class="hl-identifier">_59</span><span class="hl-brackets">){</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">){</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">j </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]){</span><span class="hl-reserved">var </span><span class="hl-identifier">oDD</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">][</span><span class="hl-identifier">j</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isTypeOfDD</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">)){</span><span class="hl-reserved">continue</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">oDD</span><span class="hl-brackets">[</span><span class="hl-identifier">_58</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">apply</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-code">,</span><span class="hl-identifier">_59</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}}</span><span class="hl-code">,</span><span class="hl-identifier">_onLoad</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">init</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-identifier">_57</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">mouseup</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleMouseUp</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">_57</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">mousemove</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleMouseMove</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">_57</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">unload</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_onUnload</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">_57</span><span class="hl-code">.</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">resize</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_onResize</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">_onResize</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_execOnAll</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">resetConstraints</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-brackets">[])</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">lock</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">locked</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">unlock</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">locked</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">isLocked</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">locked</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">locationCache</span><span class="hl-code">:</span><span class="hl-brackets">{}</span><span class="hl-code">,</span><span class="hl-identifier">useCache</span><span class="hl-code">:</span><span class="hl-reserved">true</span><span class="hl-code">,</span><span class="hl-identifier">clickPixelThresh</span><span class="hl-code">:</span><span class="hl-number">3</span><span class="hl-code">,</span><span class="hl-identifier">clickTimeThresh</span><span class="hl-code">:</span><span class="hl-number">1000</span><span class="hl-code">,</span><span class="hl-identifier">dragThreshMet</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">clickTimeout</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">startX</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">startY</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">regDragDrop</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-code">,</span><span class="hl-identifier">_61</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initialized</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">init</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_61</span><span class="hl-brackets">]){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_61</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_61</span><span class="hl-brackets">][</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">oDD</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">removeDDFromGroup</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-code">,</span><span class="hl-identifier">_62</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_62</span><span class="hl-brackets">]){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_62</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">var </span><span class="hl-identifier">obj</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_62</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">obj</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">obj</span><span class="hl-brackets">[</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]){</span><span class="hl-reserved">delete </span><span class="hl-identifier">obj</span><span class="hl-brackets">[</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">_remove</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">){</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">g </span><span class="hl-reserved">in </span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">groups</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">g</span><span class="hl-code">&amp;&amp;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">g</span><span class="hl-brackets">][</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]){</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">g</span><span class="hl-brackets">][</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">handleIds</span><span class="hl-brackets">[</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">regHandle</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_65</span><span class="hl-code">,</span><span class="hl-identifier">_66</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleIds</span><span class="hl-brackets">[</span><span class="hl-identifier">_65</span><span class="hl-brackets">]){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleIds</span><span class="hl-brackets">[</span><span class="hl-identifier">_65</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleIds</span><span class="hl-brackets">[</span><span class="hl-identifier">_65</span><span class="hl-brackets">][</span><span class="hl-identifier">_66</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">_66</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">isDragDrop</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getDDById</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">))</span><span class="hl-code">?</span><span class="hl-reserved">true</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getRelated</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_67</span><span class="hl-code">,</span><span class="hl-identifier">_68</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_69</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i </span><span class="hl-reserved">in </span><span class="hl-identifier">_67</span><span class="hl-code">.</span><span class="hl-identifier">groups</span><span class="hl-brackets">){</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">j </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]){</span><span class="hl-reserved">var </span><span class="hl-identifier">dd</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">][</span><span class="hl-identifier">j</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isTypeOfDD</span><span class="hl-brackets">(</span><span class="hl-identifier">dd</span><span class="hl-brackets">)){</span><span class="hl-reserved">continue</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_68</span><span class="hl-code">||</span><span class="hl-identifier">dd</span><span class="hl-code">.</span><span class="hl-identifier">isTarget</span><span class="hl-brackets">){</span><span class="hl-identifier">_69</span><span class="hl-brackets">[</span><span class="hl-identifier">_69</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">dd</span><span class="hl-code">;</span><span class="hl-brackets">}}}</span><span class="hl-reserved">return </span><span class="hl-identifier">_69</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">isLegalTarget</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-code">,</span><span class="hl-identifier">_71</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_72</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getRelated</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">_72</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_72</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">==</span><span class="hl-identifier">_71</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">return true</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">return false</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">isTypeOfDD</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">__ygDragDrop</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">isHandle</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_73</span><span class="hl-code">,</span><span class="hl-identifier">_74</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleIds</span><span class="hl-brackets">[</span><span class="hl-identifier">_73</span><span class="hl-brackets">]</span><span class="hl-code">&amp;&amp;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleIds</span><span class="hl-brackets">[</span><span class="hl-identifier">_73</span><span class="hl-brackets">][</span><span class="hl-identifier">_74</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getDDById</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">][</span><span class="hl-identifier">id</span><span class="hl-brackets">]){</span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">][</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">return null</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">handleMouseDown</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">oDD</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">currentTarget</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getTarget</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">=</span><span class="hl-identifier">oDD</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startX</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageX</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startY</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageY</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaX</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startX</span><span class="hl-code">-</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetLeft</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaY</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startY</span><span class="hl-code">-</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetTop</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragThreshMet</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clickTimeout</span><span class="hl-code">=</span><span class="hl-identifier">setTimeout</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">var </span><span class="hl-identifier">DDM</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">;</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">startDrag</span><span class="hl-brackets">(</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">startX</span><span class="hl-code">,</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">startY</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clickTimeThresh</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">startDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">){</span><span class="hl-identifier">clearTimeout</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clickTimeout</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">.</span><span class="hl-identifier">b4StartDrag</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">.</span><span class="hl-identifier">startDrag</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragThreshMet</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">handleMouseUp</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-brackets">){</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">clearTimeout</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clickTimeout</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragThreshMet</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">fireEvents</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">stopDrag</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">stopEvent</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">stopPropagation</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">stopPropagation</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">preventDefault</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">preventDefault</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">stopDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragThreshMet</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">.</span><span class="hl-identifier">b4EndDrag</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">.</span><span class="hl-identifier">endDrag</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">.</span><span class="hl-builtin">onMouseUp</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragOvers</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">handleMouseMove</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-brackets">){</span><span class="hl-reserved">return true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">isIE</span><span class="hl-code">&amp;&amp;!</span><span class="hl-identifier">e</span><span class="hl-code">.</span><span class="hl-identifier">button</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">handleMouseUp</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragThreshMet</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_76</span><span class="hl-code">=</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">abs</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startX</span><span class="hl-code">-</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageX</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">))</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_77</span><span class="hl-code">=</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">abs</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startY</span><span class="hl-code">-</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageY</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">))</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_76</span><span class="hl-code">&gt;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clickPixelThresh</span><span class="hl-code">||</span><span class="hl-identifier">_77</span><span class="hl-code">&gt;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">clickPixelThresh</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startDrag</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startX</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startY</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragThreshMet</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">.</span><span class="hl-identifier">b4Drag</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">.</span><span class="hl-identifier">onDrag</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">fireEvents</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">stopEvent</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">fireEvents</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_78</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">dc</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">dc</span><span class="hl-code">||</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">isLocked</span><span class="hl-brackets">()){</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">var </span><span class="hl-identifier">x</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageX</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">y</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageY</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">pt</span><span class="hl-code">=</span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Point</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_80</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_81</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_82</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_83</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_84</span><span class="hl-code">=</span><span class="hl-brackets">[]</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">dragOvers</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">ddo</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragOvers</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isTypeOfDD</span><span class="hl-brackets">(</span><span class="hl-identifier">ddo</span><span class="hl-brackets">)){</span><span class="hl-reserved">continue</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isOverTarget</span><span class="hl-brackets">(</span><span class="hl-identifier">pt</span><span class="hl-code">,</span><span class="hl-identifier">ddo</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">mode</span><span class="hl-brackets">)){</span><span class="hl-identifier">_81</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">ddo</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">_80</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">dragOvers</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">_86 </span><span class="hl-reserved">in </span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">groups</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">string</span><span class="hl-quotes">&quot;</span><span class="hl-code">!=</span><span class="hl-reserved">typeof </span><span class="hl-identifier">_86</span><span class="hl-brackets">){</span><span class="hl-reserved">continue</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_86</span><span class="hl-brackets">]){</span><span class="hl-reserved">var </span><span class="hl-identifier">oDD</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_86</span><span class="hl-brackets">][</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isTypeOfDD</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">)){</span><span class="hl-reserved">continue</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">isTarget</span><span class="hl-code">&amp;&amp;!</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">isLocked</span><span class="hl-brackets">()</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">oDD</span><span class="hl-code">!=</span><span class="hl-identifier">dc</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isOverTarget</span><span class="hl-brackets">(</span><span class="hl-identifier">pt</span><span class="hl-code">,</span><span class="hl-identifier">oDD</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">mode</span><span class="hl-brackets">)){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_78</span><span class="hl-brackets">){</span><span class="hl-identifier">_83</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_80</span><span class="hl-brackets">[</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]){</span><span class="hl-identifier">_84</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">_82</span><span class="hl-code">.</span><span class="hl-identifier">push</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragOvers</span><span class="hl-brackets">[</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">oDD</span><span class="hl-code">;</span><span class="hl-brackets">}}}}}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">mode</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_81</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">){</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">b4DragOut</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_81</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">onDragOut</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_81</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_84</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">){</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">onDragEnter</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_84</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_82</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">){</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">b4DragOver</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_82</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">onDragOver</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_82</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_83</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">){</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">b4DragDrop</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_83</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-builtin">onDragDrop</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_83</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">var </span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">_81</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">b4DragOut</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_81</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">onDragOut</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_81</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">_84</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">onDragEnter</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_84</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">_82</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">b4DragOver</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_82</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">onDragOver</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_82</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">_83</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">b4DragDrop</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_83</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-builtin">onDragDrop</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">_83</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_78</span><span class="hl-code">&amp;&amp;!</span><span class="hl-identifier">_83</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">){</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">onInvalidDrop</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">getBestMatch</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">dds</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_89</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">len</span><span class="hl-code">=</span><span class="hl-identifier">dds</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">len</span><span class="hl-code">==</span><span class="hl-number">1</span><span class="hl-brackets">){</span><span class="hl-identifier">_89</span><span class="hl-code">=</span><span class="hl-identifier">dds</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">len</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">dd</span><span class="hl-code">=</span><span class="hl-identifier">dds</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">dd</span><span class="hl-code">.</span><span class="hl-identifier">cursorIsOver</span><span class="hl-brackets">){</span><span class="hl-identifier">_89</span><span class="hl-code">=</span><span class="hl-identifier">dd</span><span class="hl-code">;</span><span class="hl-reserved">break</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_89</span><span class="hl-code">||</span><span class="hl-identifier">_89</span><span class="hl-code">.</span><span class="hl-identifier">overlap</span><span class="hl-code">.</span><span class="hl-identifier">getArea</span><span class="hl-brackets">()</span><span class="hl-code">&lt;</span><span class="hl-identifier">dd</span><span class="hl-code">.</span><span class="hl-identifier">overlap</span><span class="hl-code">.</span><span class="hl-identifier">getArea</span><span class="hl-brackets">()){</span><span class="hl-identifier">_89</span><span class="hl-code">=</span><span class="hl-identifier">dd</span><span class="hl-code">;</span><span class="hl-brackets">}}}}</span><span class="hl-reserved">return </span><span class="hl-identifier">_89</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">refreshCache</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_90</span><span class="hl-brackets">){</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">_91 </span><span class="hl-reserved">in </span><span class="hl-identifier">_90</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">string</span><span class="hl-quotes">&quot;</span><span class="hl-code">!=</span><span class="hl-reserved">typeof </span><span class="hl-identifier">_91</span><span class="hl-brackets">){</span><span class="hl-reserved">continue</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_91</span><span class="hl-brackets">]){</span><span class="hl-reserved">var </span><span class="hl-identifier">oDD</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-brackets">[</span><span class="hl-identifier">_91</span><span class="hl-brackets">][</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isTypeOfDD</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">)){</span><span class="hl-reserved">var </span><span class="hl-identifier">loc</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getLocation</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">loc</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">locationCache</span><span class="hl-brackets">[</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">loc</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">locationCache</span><span class="hl-brackets">[</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}}}}</span><span class="hl-code">,</span><span class="hl-identifier">verifyEl</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">){</span><span class="hl-reserved">try</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_93</span><span class="hl-code">=</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetParent</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_93</span><span class="hl-brackets">){</span><span class="hl-reserved">return true</span><span class="hl-code">;</span><span class="hl-brackets">}}}</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-reserved">return false</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getLocation</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isTypeOfDD</span><span class="hl-brackets">(</span><span class="hl-identifier">oDD</span><span class="hl-brackets">)){</span><span class="hl-reserved">return null</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">,</span><span class="hl-identifier">pos</span><span class="hl-code">,</span><span class="hl-identifier">x1</span><span class="hl-code">,</span><span class="hl-identifier">x2</span><span class="hl-code">,</span><span class="hl-identifier">y1</span><span class="hl-code">,</span><span class="hl-identifier">y2</span><span class="hl-code">,</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">r</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">l</span><span class="hl-code">;</span><span class="hl-reserved">try</span><span class="hl-brackets">{</span><span class="hl-identifier">pos</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getXY</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">pos</span><span class="hl-brackets">){</span><span class="hl-reserved">return null</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">x1</span><span class="hl-code">=</span><span class="hl-identifier">pos</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-identifier">x2</span><span class="hl-code">=</span><span class="hl-identifier">x1</span><span class="hl-code">+</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetWidth</span><span class="hl-code">;</span><span class="hl-identifier">y1</span><span class="hl-code">=</span><span class="hl-identifier">pos</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-identifier">y2</span><span class="hl-code">=</span><span class="hl-identifier">y1</span><span class="hl-code">+</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetHeight</span><span class="hl-code">;</span><span class="hl-identifier">t</span><span class="hl-code">=</span><span class="hl-identifier">y1</span><span class="hl-code">-</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">padding</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-identifier">r</span><span class="hl-code">=</span><span class="hl-identifier">x2</span><span class="hl-code">+</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">padding</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-identifier">b</span><span class="hl-code">=</span><span class="hl-identifier">y2</span><span class="hl-code">+</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">padding</span><span class="hl-brackets">[</span><span class="hl-number">2</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-identifier">l</span><span class="hl-code">=</span><span class="hl-identifier">x1</span><span class="hl-code">-</span><span class="hl-identifier">oDD</span><span class="hl-code">.</span><span class="hl-identifier">padding</span><span class="hl-brackets">[</span><span class="hl-number">3</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">return new </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Region</span><span class="hl-brackets">(</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">r</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-code">,</span><span class="hl-identifier">l</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">isOverTarget</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">pt</span><span class="hl-code">,</span><span class="hl-identifier">_94</span><span class="hl-code">,</span><span class="hl-identifier">_95</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">loc</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">locationCache</span><span class="hl-brackets">[</span><span class="hl-identifier">_94</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">loc</span><span class="hl-code">||!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">useCache</span><span class="hl-brackets">){</span><span class="hl-identifier">loc</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getLocation</span><span class="hl-brackets">(</span><span class="hl-identifier">_94</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">locationCache</span><span class="hl-brackets">[</span><span class="hl-identifier">_94</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">loc</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">loc</span><span class="hl-brackets">){</span><span class="hl-reserved">return false</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">_94</span><span class="hl-code">.</span><span class="hl-identifier">cursorIsOver</span><span class="hl-code">=</span><span class="hl-identifier">loc</span><span class="hl-code">.</span><span class="hl-identifier">contains</span><span class="hl-brackets">(</span><span class="hl-identifier">pt</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">dc</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">dc</span><span class="hl-code">||!</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">getTargetCoord</span><span class="hl-code">||</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_95</span><span class="hl-code">&amp;&amp;!</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">constrainX</span><span class="hl-code">&amp;&amp;!</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">constrainY</span><span class="hl-brackets">)){</span><span class="hl-reserved">return </span><span class="hl-identifier">_94</span><span class="hl-code">.</span><span class="hl-identifier">cursorIsOver</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">_94</span><span class="hl-code">.</span><span class="hl-identifier">overlap</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">pos</span><span class="hl-code">=</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">getTargetCoord</span><span class="hl-brackets">(</span><span class="hl-identifier">pt</span><span class="hl-code">.</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">pt</span><span class="hl-code">.</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-identifier">dc</span><span class="hl-code">.</span><span class="hl-identifier">getDragEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_96</span><span class="hl-code">=</span><span class="hl-reserved">new </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Region</span><span class="hl-brackets">(</span><span class="hl-identifier">pos</span><span class="hl-code">.</span><span class="hl-identifier">y</span><span class="hl-code">,</span><span class="hl-identifier">pos</span><span class="hl-code">.</span><span class="hl-identifier">x</span><span class="hl-code">+</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetWidth</span><span class="hl-code">,</span><span class="hl-identifier">pos</span><span class="hl-code">.</span><span class="hl-identifier">y</span><span class="hl-code">+</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetHeight</span><span class="hl-code">,</span><span class="hl-identifier">pos</span><span class="hl-code">.</span><span class="hl-identifier">x</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_97</span><span class="hl-code">=</span><span class="hl-identifier">_96</span><span class="hl-code">.</span><span class="hl-identifier">intersect</span><span class="hl-brackets">(</span><span class="hl-identifier">loc</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_97</span><span class="hl-brackets">){</span><span class="hl-identifier">_94</span><span class="hl-code">.</span><span class="hl-identifier">overlap</span><span class="hl-code">=</span><span class="hl-identifier">_97</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-identifier">_95</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-reserved">true</span><span class="hl-code">:</span><span class="hl-identifier">_94</span><span class="hl-code">.</span><span class="hl-identifier">cursorIsOver</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">return false</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">_onUnload</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-code">,</span><span class="hl-identifier">me</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">unregAll</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">unregAll</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">stopDrag</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragCurrent</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_execOnAll</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">unreg</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-brackets">[])</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-identifier">i </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">elementCache</span><span class="hl-brackets">){</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">elementCache</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">elementCache</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">ids</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">elementCache</span><span class="hl-code">:</span><span class="hl-brackets">{}</span><span class="hl-code">,</span><span class="hl-identifier">getElWrapper</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_99</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">elementCache</span><span class="hl-brackets">[</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">_99</span><span class="hl-code">||!</span><span class="hl-identifier">_99</span><span class="hl-code">.</span><span class="hl-identifier">el</span><span class="hl-brackets">){</span><span class="hl-identifier">_99</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">elementCache</span><span class="hl-brackets">[</span><span class="hl-identifier">id</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-reserved">new this</span><span class="hl-code">.</span><span class="hl-identifier">ElementWrapper</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">get</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">))</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">return </span><span class="hl-identifier">_99</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getElement</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">get</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getCss</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">get</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">ElementWrapper</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-identifier">el</span><span class="hl-code">||</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">el</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">css</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">el</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getPosX</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getX</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getPosY</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getY</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">swapNode</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">n1</span><span class="hl-code">,</span><span class="hl-identifier">n2</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">n1</span><span class="hl-code">.</span><span class="hl-identifier">swapNode</span><span class="hl-brackets">){</span><span class="hl-identifier">n1</span><span class="hl-code">.</span><span class="hl-identifier">swapNode</span><span class="hl-brackets">(</span><span class="hl-identifier">n2</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">var </span><span class="hl-identifier">p</span><span class="hl-code">=</span><span class="hl-identifier">n2</span><span class="hl-code">.</span><span class="hl-identifier">parentNode</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">s</span><span class="hl-code">=</span><span class="hl-identifier">n2</span><span class="hl-code">.</span><span class="hl-identifier">nextSibling</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">s</span><span class="hl-code">==</span><span class="hl-identifier">n1</span><span class="hl-brackets">){</span><span class="hl-identifier">p</span><span class="hl-code">.</span><span class="hl-identifier">insertBefore</span><span class="hl-brackets">(</span><span class="hl-identifier">n1</span><span class="hl-code">,</span><span class="hl-identifier">n2</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">n2</span><span class="hl-code">==</span><span class="hl-identifier">n1</span><span class="hl-code">.</span><span class="hl-identifier">nextSibling</span><span class="hl-brackets">){</span><span class="hl-identifier">p</span><span class="hl-code">.</span><span class="hl-identifier">insertBefore</span><span class="hl-brackets">(</span><span class="hl-identifier">n2</span><span class="hl-code">,</span><span class="hl-identifier">n1</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">n1</span><span class="hl-code">.</span><span class="hl-identifier">parentNode</span><span class="hl-code">.</span><span class="hl-identifier">replaceChild</span><span class="hl-brackets">(</span><span class="hl-identifier">n2</span><span class="hl-code">,</span><span class="hl-identifier">n1</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">p</span><span class="hl-code">.</span><span class="hl-identifier">insertBefore</span><span class="hl-brackets">(</span><span class="hl-identifier">n1</span><span class="hl-code">,</span><span class="hl-identifier">s</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}}}</span><span class="hl-code">,</span><span class="hl-identifier">getScroll</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">var </span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">l</span><span class="hl-code">,</span><span class="hl-identifier">dde</span><span class="hl-code">=</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">documentElement</span><span class="hl-code">,</span><span class="hl-identifier">db</span><span class="hl-code">=</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">dde</span><span class="hl-code">&amp;&amp;</span><span class="hl-brackets">(</span><span class="hl-identifier">dde</span><span class="hl-code">.</span><span class="hl-identifier">scrollTop</span><span class="hl-code">||</span><span class="hl-identifier">dde</span><span class="hl-code">.</span><span class="hl-identifier">scrollLeft</span><span class="hl-brackets">)){</span><span class="hl-identifier">t</span><span class="hl-code">=</span><span class="hl-identifier">dde</span><span class="hl-code">.</span><span class="hl-identifier">scrollTop</span><span class="hl-code">;</span><span class="hl-identifier">l</span><span class="hl-code">=</span><span class="hl-identifier">dde</span><span class="hl-code">.</span><span class="hl-identifier">scrollLeft</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">db</span><span class="hl-brackets">){</span><span class="hl-identifier">t</span><span class="hl-code">=</span><span class="hl-identifier">db</span><span class="hl-code">.</span><span class="hl-identifier">scrollTop</span><span class="hl-code">;</span><span class="hl-identifier">l</span><span class="hl-code">=</span><span class="hl-identifier">db</span><span class="hl-code">.</span><span class="hl-identifier">scrollLeft</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">log</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">could not get scroll property</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">return </span><span class="hl-brackets">{</span><span class="hl-identifier">top</span><span class="hl-code">:</span><span class="hl-identifier">t</span><span class="hl-code">,</span><span class="hl-identifier">left</span><span class="hl-code">:</span><span class="hl-identifier">l</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getStyle</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">_104</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">_104</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getScrollTop</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">getScroll</span><span class="hl-brackets">()</span><span class="hl-code">.</span><span class="hl-identifier">top</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getScrollLeft</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">getScroll</span><span class="hl-brackets">()</span><span class="hl-code">.</span><span class="hl-identifier">left</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">moveToEl</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_105</span><span class="hl-code">,</span><span class="hl-identifier">_106</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_107</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getXY</span><span class="hl-brackets">(</span><span class="hl-identifier">_106</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">setXY</span><span class="hl-brackets">(</span><span class="hl-identifier">_105</span><span class="hl-code">,</span><span class="hl-identifier">_107</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getClientHeight</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getViewportHeight</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">getClientWidth</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return </span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getViewportWidth</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">numericSort</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">a</span><span class="hl-code">,</span><span class="hl-identifier">b</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-identifier">a</span><span class="hl-code">-</span><span class="hl-identifier">b</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">_timeoutCount</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">_addListeners</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">var </span><span class="hl-identifier">DDM</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">&amp;&amp;</span><span class="hl-builtin">document</span><span class="hl-brackets">){</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">_onLoad</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">_timeoutCount</span><span class="hl-code">&gt;</span><span class="hl-number">2000</span><span class="hl-brackets">){}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">setTimeout</span><span class="hl-brackets">(</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">_addListeners</span><span class="hl-code">,</span><span class="hl-number">10</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">&amp;&amp;</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-brackets">){</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">_timeoutCount</span><span class="hl-code">+=</span><span class="hl-number">1</span><span class="hl-code">;</span><span class="hl-brackets">}}}}</span><span class="hl-code">,</span><span class="hl-identifier">handleWasClicked</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">node</span><span class="hl-code">,</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isHandle</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">node</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)){</span><span class="hl-reserved">return true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">var </span><span class="hl-identifier">p</span><span class="hl-code">=</span><span class="hl-identifier">node</span><span class="hl-code">.</span><span class="hl-identifier">parentNode</span><span class="hl-code">;</span><span class="hl-reserved">while</span><span class="hl-brackets">(</span><span class="hl-identifier">p</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isHandle</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">p</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)){</span><span class="hl-reserved">return true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">p</span><span class="hl-code">=</span><span class="hl-identifier">p</span><span class="hl-code">.</span><span class="hl-identifier">parentNode</span><span class="hl-code">;</span><span class="hl-brackets">}}}</span><span class="hl-reserved">return false</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span><span class="hl-brackets">}()</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DragDropMgr</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">_addListeners</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DD</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_111</span><span class="hl-code">,</span><span class="hl-identifier">_112</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">init</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_111</span><span class="hl-code">,</span><span class="hl-identifier">_112</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">extend</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DD</span><span class="hl-code">,</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DragDrop</span><span class="hl-code">,</span><span class="hl-brackets">{</span><span class="hl-identifier">scroll</span><span class="hl-code">:</span><span class="hl-reserved">true</span><span class="hl-code">,</span><span class="hl-identifier">autoOffset</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_113</span><span class="hl-code">,</span><span class="hl-identifier">_114</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">x</span><span class="hl-code">=</span><span class="hl-identifier">_113</span><span class="hl-code">-</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startPageX</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">y</span><span class="hl-code">=</span><span class="hl-identifier">_114</span><span class="hl-code">-</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">startPageY</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setDelta</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setDelta</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_115</span><span class="hl-code">,</span><span class="hl-identifier">_116</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaX</span><span class="hl-code">=</span><span class="hl-identifier">_115</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaY</span><span class="hl-code">=</span><span class="hl-identifier">_116</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setDragElPos</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_117</span><span class="hl-code">,</span><span class="hl-identifier">_118</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getDragEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">alignElWithMouse</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">_117</span><span class="hl-code">,</span><span class="hl-identifier">_118</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">alignElWithMouse</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">_119</span><span class="hl-code">,</span><span class="hl-identifier">_120</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_121</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getTargetCoord</span><span class="hl-brackets">(</span><span class="hl-identifier">_119</span><span class="hl-code">,</span><span class="hl-identifier">_120</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaSetXY</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_122</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">y</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">setXY</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-identifier">_122</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_123</span><span class="hl-code">=</span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">left</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-number">10</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_124</span><span class="hl-code">=</span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">top</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-number">10</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaSetXY</span><span class="hl-code">=</span><span class="hl-brackets">[</span><span class="hl-identifier">_123</span><span class="hl-code">-</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">_124</span><span class="hl-code">-</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">y</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">left</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-brackets">(</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">x</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaSetXY</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">])</span><span class="hl-code">+</span><span class="hl-quotes">&quot;</span><span class="hl-string">px</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">el</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">top</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-brackets">(</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">y</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaSetXY</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">])</span><span class="hl-code">+</span><span class="hl-quotes">&quot;</span><span class="hl-string">px</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">cachePosition</span><span class="hl-brackets">(</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">autoScroll</span><span class="hl-brackets">(</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">_121</span><span class="hl-code">.</span><span class="hl-identifier">y</span><span class="hl-code">,</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetHeight</span><span class="hl-code">,</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetWidth</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">cachePosition</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_125</span><span class="hl-code">,</span><span class="hl-identifier">_126</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_125</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastPageX</span><span class="hl-code">=</span><span class="hl-identifier">_125</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastPageY</span><span class="hl-code">=</span><span class="hl-identifier">_126</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">var </span><span class="hl-identifier">_127</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">getXY</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">())</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastPageX</span><span class="hl-code">=</span><span class="hl-identifier">_127</span><span class="hl-brackets">[</span><span class="hl-number">0</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">lastPageY</span><span class="hl-code">=</span><span class="hl-identifier">_127</span><span class="hl-brackets">[</span><span class="hl-number">1</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">autoScroll</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-code">,</span><span class="hl-identifier">h</span><span class="hl-code">,</span><span class="hl-identifier">w</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">scroll</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">_130</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">getClientHeight</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_131</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">getClientWidth</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">st</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">getScrollTop</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">sl</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">getScrollLeft</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">bot</span><span class="hl-code">=</span><span class="hl-identifier">h</span><span class="hl-code">+</span><span class="hl-identifier">y</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_135</span><span class="hl-code">=</span><span class="hl-identifier">w</span><span class="hl-code">+</span><span class="hl-identifier">x</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_136</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-identifier">_130</span><span class="hl-code">+</span><span class="hl-identifier">st</span><span class="hl-code">-</span><span class="hl-identifier">y</span><span class="hl-code">-</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaY</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_137</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-identifier">_131</span><span class="hl-code">+</span><span class="hl-identifier">sl</span><span class="hl-code">-</span><span class="hl-identifier">x</span><span class="hl-code">-</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaX</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_138</span><span class="hl-code">=</span><span class="hl-number">40</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_139</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">all</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-number">80</span><span class="hl-code">:</span><span class="hl-number">30</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">bot</span><span class="hl-code">&gt;</span><span class="hl-identifier">_130</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">_136</span><span class="hl-code">&lt;</span><span class="hl-identifier">_138</span><span class="hl-brackets">){</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">scrollTo</span><span class="hl-brackets">(</span><span class="hl-identifier">sl</span><span class="hl-code">,</span><span class="hl-identifier">st</span><span class="hl-code">+</span><span class="hl-identifier">_139</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">y</span><span class="hl-code">&lt;</span><span class="hl-identifier">st</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">st</span><span class="hl-code">&gt;</span><span class="hl-number">0</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">y</span><span class="hl-code">-</span><span class="hl-identifier">st</span><span class="hl-code">&lt;</span><span class="hl-identifier">_138</span><span class="hl-brackets">){</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">scrollTo</span><span class="hl-brackets">(</span><span class="hl-identifier">sl</span><span class="hl-code">,</span><span class="hl-identifier">st</span><span class="hl-code">-</span><span class="hl-identifier">_139</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">_135</span><span class="hl-code">&gt;</span><span class="hl-identifier">_131</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">_137</span><span class="hl-code">&lt;</span><span class="hl-identifier">_138</span><span class="hl-brackets">){</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">scrollTo</span><span class="hl-brackets">(</span><span class="hl-identifier">sl</span><span class="hl-code">+</span><span class="hl-identifier">_139</span><span class="hl-code">,</span><span class="hl-identifier">st</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">&lt;</span><span class="hl-identifier">sl</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">sl</span><span class="hl-code">&gt;</span><span class="hl-number">0</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">x</span><span class="hl-code">-</span><span class="hl-identifier">sl</span><span class="hl-code">&lt;</span><span class="hl-identifier">_138</span><span class="hl-brackets">){</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">scrollTo</span><span class="hl-brackets">(</span><span class="hl-identifier">sl</span><span class="hl-code">-</span><span class="hl-identifier">_139</span><span class="hl-code">,</span><span class="hl-identifier">st</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}}</span><span class="hl-code">,</span><span class="hl-identifier">getTargetCoord</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_140</span><span class="hl-code">,</span><span class="hl-identifier">_141</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">x</span><span class="hl-code">=</span><span class="hl-identifier">_140</span><span class="hl-code">-</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaX</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">y</span><span class="hl-code">=</span><span class="hl-identifier">_141</span><span class="hl-code">-</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">deltaY</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainX</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">&lt;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minX</span><span class="hl-brackets">){</span><span class="hl-identifier">x</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minX</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">&gt;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxX</span><span class="hl-brackets">){</span><span class="hl-identifier">x</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxX</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">constrainY</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">y</span><span class="hl-code">&lt;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minY</span><span class="hl-brackets">){</span><span class="hl-identifier">y</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">minY</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">y</span><span class="hl-code">&gt;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxY</span><span class="hl-brackets">){</span><span class="hl-identifier">y</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">maxY</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-identifier">x</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getTick</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">xTicks</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">y</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getTick</span><span class="hl-brackets">(</span><span class="hl-identifier">y</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">yTicks</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-brackets">{</span><span class="hl-identifier">x</span><span class="hl-code">:</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-code">:</span><span class="hl-identifier">y</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">applyConfig</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DD</span><span class="hl-code">.</span><span class="hl-identifier">superclass</span><span class="hl-code">.</span><span class="hl-identifier">applyConfig</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">scroll</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">config</span><span class="hl-code">.</span><span class="hl-identifier">scroll</span><span class="hl-code">!==</span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">b4MouseDown</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">autoOffset</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageX</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageY</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">))</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">b4Drag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setDragElPos</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageX</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageY</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">))</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">toString</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">DD </span><span class="hl-quotes">&quot;</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}})</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDProxy</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_142</span><span class="hl-code">,</span><span class="hl-identifier">_143</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">init</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_142</span><span class="hl-code">,</span><span class="hl-identifier">_143</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initFrame</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDProxy</span><span class="hl-code">.</span><span class="hl-identifier">dragElId</span><span class="hl-code">=</span><span class="hl-quotes">&quot;</span><span class="hl-string">ygddfdiv</span><span class="hl-quotes">&quot;</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">extend</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDProxy</span><span class="hl-code">,</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DD</span><span class="hl-code">,</span><span class="hl-brackets">{</span><span class="hl-identifier">resizeFrame</span><span class="hl-code">:</span><span class="hl-reserved">true</span><span class="hl-code">,</span><span class="hl-identifier">centerFrame</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">createFrame</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">var </span><span class="hl-identifier">self</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">body</span><span class="hl-code">=</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">body</span><span class="hl-code">||!</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">firstChild</span><span class="hl-brackets">){</span><span class="hl-identifier">setTimeout</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-identifier">self</span><span class="hl-code">.</span><span class="hl-identifier">createFrame</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-number">50</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">var </span><span class="hl-identifier">div</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getDragEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">div</span><span class="hl-brackets">){</span><span class="hl-identifier">div</span><span class="hl-code">=</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">div</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">div</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">dragElId</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">s</span><span class="hl-code">=</span><span class="hl-identifier">div</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">;</span><span class="hl-identifier">s</span><span class="hl-code">.</span><span class="hl-identifier">position</span><span class="hl-code">=</span><span class="hl-quotes">&quot;</span><span class="hl-string">absolute</span><span class="hl-quotes">&quot;</span><span class="hl-code">;</span><span class="hl-identifier">s</span><span class="hl-code">.</span><span class="hl-identifier">visibility</span><span class="hl-code">=</span><span class="hl-quotes">&quot;</span><span class="hl-string">hidden</span><span class="hl-quotes">&quot;</span><span class="hl-code">;</span><span class="hl-identifier">s</span><span class="hl-code">.</span><span class="hl-identifier">cursor</span><span class="hl-code">=</span><span class="hl-quotes">&quot;</span><span class="hl-string">move</span><span class="hl-quotes">&quot;</span><span class="hl-code">;</span><span class="hl-identifier">s</span><span class="hl-code">.</span><span class="hl-identifier">border</span><span class="hl-code">=</span><span class="hl-quotes">&quot;</span><span class="hl-string">2px solid #aaa</span><span class="hl-quotes">&quot;</span><span class="hl-code">;</span><span class="hl-identifier">s</span><span class="hl-code">.</span><span class="hl-identifier">zIndex</span><span class="hl-code">=</span><span class="hl-number">999</span><span class="hl-code">;</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">insertBefore</span><span class="hl-brackets">(</span><span class="hl-identifier">div</span><span class="hl-code">,</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">firstChild</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">initFrame</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">createFrame</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">applyConfig</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDProxy</span><span class="hl-code">.</span><span class="hl-identifier">superclass</span><span class="hl-code">.</span><span class="hl-identifier">applyConfig</span><span class="hl-code">.</span><span class="hl-identifier">call</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">resizeFrame</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">config</span><span class="hl-code">.</span><span class="hl-identifier">resizeFrame</span><span class="hl-code">!==</span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">centerFrame</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">config</span><span class="hl-code">.</span><span class="hl-identifier">centerFrame</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setDragElId</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">config</span><span class="hl-code">.</span><span class="hl-identifier">dragElId</span><span class="hl-code">||</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDProxy</span><span class="hl-code">.</span><span class="hl-identifier">dragElId</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">showFrame</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">_147</span><span class="hl-code">,</span><span class="hl-identifier">_148</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_149</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getDragEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">s</span><span class="hl-code">=</span><span class="hl-identifier">_149</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_resizeProxy</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">centerFrame</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setDelta</span><span class="hl-brackets">(</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">round</span><span class="hl-brackets">(</span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">s</span><span class="hl-code">.</span><span class="hl-identifier">width</span><span class="hl-code">,</span><span class="hl-number">10</span><span class="hl-brackets">)</span><span class="hl-quotes">/</span><span class="hl-string">2),Math.round(parseInt(s.height,10)</span><span class="hl-quotes">/</span><span class="hl-number">2</span><span class="hl-brackets">))</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setDragElPos</span><span class="hl-brackets">(</span><span class="hl-identifier">_147</span><span class="hl-code">,</span><span class="hl-identifier">_148</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">_149</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">visibility</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">visible</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">_resizeProxy</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">resizeFrame</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">DOM</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">el</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_151</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getDragEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">bt</span><span class="hl-code">=</span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">_151</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">borderTopWidth</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-number">10</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">br</span><span class="hl-code">=</span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">_151</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">borderRightWidth</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-number">10</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">bb</span><span class="hl-code">=</span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">_151</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">borderBottomWidth</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-number">10</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">bl</span><span class="hl-code">=</span><span class="hl-identifier">parseInt</span><span class="hl-brackets">(</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">getStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">_151</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">borderLeftWidth</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">,</span><span class="hl-number">10</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isNaN</span><span class="hl-brackets">(</span><span class="hl-identifier">bt</span><span class="hl-brackets">)){</span><span class="hl-identifier">bt</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isNaN</span><span class="hl-brackets">(</span><span class="hl-identifier">br</span><span class="hl-brackets">)){</span><span class="hl-identifier">br</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isNaN</span><span class="hl-brackets">(</span><span class="hl-identifier">bb</span><span class="hl-brackets">)){</span><span class="hl-identifier">bb</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isNaN</span><span class="hl-brackets">(</span><span class="hl-identifier">bl</span><span class="hl-brackets">)){</span><span class="hl-identifier">bl</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-reserved">var </span><span class="hl-identifier">_156</span><span class="hl-code">=</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">max</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetWidth</span><span class="hl-code">-</span><span class="hl-identifier">br</span><span class="hl-code">-</span><span class="hl-identifier">bl</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">_157</span><span class="hl-code">=</span><span class="hl-builtin">Math</span><span class="hl-code">.</span><span class="hl-identifier">max</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">el</span><span class="hl-code">.</span><span class="hl-identifier">offsetHeight</span><span class="hl-code">-</span><span class="hl-identifier">bt</span><span class="hl-code">-</span><span class="hl-identifier">bb</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">_151</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">width</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-identifier">_156</span><span class="hl-code">+</span><span class="hl-quotes">&quot;</span><span class="hl-string">px</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">_151</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">height</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-identifier">_157</span><span class="hl-code">+</span><span class="hl-quotes">&quot;</span><span class="hl-string">px</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">b4MouseDown</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">x</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageX</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">y</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">getPageY</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">autoOffset</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setDragElPos</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">b4StartDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">showFrame</span><span class="hl-brackets">(</span><span class="hl-identifier">x</span><span class="hl-code">,</span><span class="hl-identifier">y</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">b4EndDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getDragEl</span><span class="hl-brackets">()</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">visibility</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">hidden</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">endDrag</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">DOM</span><span class="hl-code">=</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Dom</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">lel</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">del</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getDragEl</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">del</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">visibility</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">lel</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">visibility</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">hidden</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDM</span><span class="hl-code">.</span><span class="hl-identifier">moveToEl</span><span class="hl-brackets">(</span><span class="hl-identifier">lel</span><span class="hl-code">,</span><span class="hl-identifier">del</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">del</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">visibility</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">hidden</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">DOM</span><span class="hl-code">.</span><span class="hl-identifier">setStyle</span><span class="hl-brackets">(</span><span class="hl-identifier">lel</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">visibility</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-quotes">&quot;&quot;</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">toString</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">DDProxy </span><span class="hl-quotes">&quot;</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}})</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDTarget</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_160</span><span class="hl-code">,</span><span class="hl-identifier">_161</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initTarget</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">_160</span><span class="hl-code">,</span><span class="hl-identifier">_161</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">extend</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DDTarget</span><span class="hl-code">,</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">DragDrop</span><span class="hl-code">,</span><span class="hl-brackets">{</span><span class="hl-identifier">toString</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">return </span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">DDTarget </span><span class="hl-quotes">&quot;</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}})</span><span class="hl-code">;
</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Connect</span><span class="hl-code">=</span><span class="hl-brackets">{</span><span class="hl-identifier">_msxml_progid</span><span class="hl-code">:</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">MSXML2.XMLHTTP.3.0</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">MSXML2.XMLHTTP</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">Microsoft.XMLHTTP</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code">,</span><span class="hl-identifier">_http_header</span><span class="hl-code">:</span><span class="hl-brackets">{}</span><span class="hl-code">,</span><span class="hl-identifier">_has_http_headers</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">_use_default_post_header</span><span class="hl-code">:</span><span class="hl-reserved">true</span><span class="hl-code">,</span><span class="hl-identifier">_default_post_header</span><span class="hl-code">:</span><span class="hl-quotes">'</span><span class="hl-string">application/x-www-form-urlencoded</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">_isFormSubmit</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">_isFileUpload</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-code">,</span><span class="hl-identifier">_formNode</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">_sFormData</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">,</span><span class="hl-identifier">_poll</span><span class="hl-code">:</span><span class="hl-brackets">{}</span><span class="hl-code">,</span><span class="hl-identifier">_timeOut</span><span class="hl-code">:</span><span class="hl-brackets">{}</span><span class="hl-code">,</span><span class="hl-identifier">_polling_interval</span><span class="hl-code">:</span><span class="hl-number">50</span><span class="hl-code">,</span><span class="hl-identifier">_transaction_id</span><span class="hl-code">:</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">setProgId</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)
{</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_msxml_progid</span><span class="hl-code">.</span><span class="hl-identifier">unshift</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setDefaultPostHeader</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">b</span><span class="hl-brackets">)
{</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_use_default_post_header</span><span class="hl-code">=</span><span class="hl-identifier">b</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setPollingInterval</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-brackets">)
{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">i</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">number</span><span class="hl-quotes">'</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">isFinite</span><span class="hl-brackets">(</span><span class="hl-identifier">i</span><span class="hl-brackets">)){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_polling_interval</span><span class="hl-code">=</span><span class="hl-identifier">i</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">createXhrObject</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">transactionId</span><span class="hl-brackets">)
{</span><span class="hl-reserved">var </span><span class="hl-identifier">obj</span><span class="hl-code">,</span><span class="hl-identifier">http</span><span class="hl-code">;</span><span class="hl-reserved">try
</span><span class="hl-brackets">{</span><span class="hl-identifier">http</span><span class="hl-code">=</span><span class="hl-reserved">new </span><span class="hl-identifier">XMLHttpRequest</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">=</span><span class="hl-brackets">{</span><span class="hl-identifier">conn</span><span class="hl-code">:</span><span class="hl-identifier">http</span><span class="hl-code">,</span><span class="hl-identifier">tId</span><span class="hl-code">:</span><span class="hl-identifier">transactionId</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">)
{</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_msxml_progid</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;++</span><span class="hl-identifier">i</span><span class="hl-brackets">){</span><span class="hl-reserved">try
</span><span class="hl-brackets">{</span><span class="hl-identifier">http</span><span class="hl-code">=</span><span class="hl-reserved">new </span><span class="hl-identifier">ActiveXObject</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_msxml_progid</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">=</span><span class="hl-brackets">{</span><span class="hl-identifier">conn</span><span class="hl-code">:</span><span class="hl-identifier">http</span><span class="hl-code">,</span><span class="hl-identifier">tId</span><span class="hl-code">:</span><span class="hl-identifier">transactionId</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-reserved">break</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}}}
</span><span class="hl-reserved">finally
</span><span class="hl-brackets">{</span><span class="hl-reserved">return </span><span class="hl-identifier">obj</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">getConnectionObject</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">()
{</span><span class="hl-reserved">var </span><span class="hl-identifier">o</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">tId</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_transaction_id</span><span class="hl-code">;</span><span class="hl-reserved">try
</span><span class="hl-brackets">{</span><span class="hl-identifier">o</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">createXhrObject</span><span class="hl-brackets">(</span><span class="hl-identifier">tId</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_transaction_id</span><span class="hl-code">++;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}
</span><span class="hl-reserved">finally
</span><span class="hl-brackets">{</span><span class="hl-reserved">return </span><span class="hl-identifier">o</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">asyncRequest</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">method</span><span class="hl-code">,</span><span class="hl-identifier">uri</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">,</span><span class="hl-identifier">postData</span><span class="hl-brackets">)
{</span><span class="hl-reserved">var </span><span class="hl-identifier">o</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">getConnectionObject</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">o</span><span class="hl-brackets">){</span><span class="hl-reserved">return null</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isFormSubmit</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isFileUpload</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">uploadFile</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">,</span><span class="hl-identifier">uri</span><span class="hl-code">,</span><span class="hl-identifier">postData</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">releaseObject</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">method</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">GET</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">!=</span><span class="hl-number">0</span><span class="hl-brackets">){</span><span class="hl-identifier">uri</span><span class="hl-code">+=</span><span class="hl-brackets">((</span><span class="hl-identifier">uri</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">?</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">==-</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-quotes">'</span><span class="hl-string">?</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-quotes">'</span><span class="hl-string">&amp;</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">uri</span><span class="hl-code">+=</span><span class="hl-quotes">&quot;</span><span class="hl-string">?</span><span class="hl-quotes">&quot;</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">else if</span><span class="hl-brackets">(</span><span class="hl-identifier">method</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">POST</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-identifier">postData</span><span class="hl-code">=</span><span class="hl-identifier">postData</span><span class="hl-code">?</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">+</span><span class="hl-quotes">&quot;</span><span class="hl-string">&amp;</span><span class="hl-quotes">&quot;</span><span class="hl-code">+</span><span class="hl-identifier">postData</span><span class="hl-code">:</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">open</span><span class="hl-brackets">(</span><span class="hl-identifier">method</span><span class="hl-code">,</span><span class="hl-identifier">uri</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isFormSubmit</span><span class="hl-code">||</span><span class="hl-brackets">(</span><span class="hl-identifier">postData</span><span class="hl-code">&amp;&amp;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_use_default_post_header</span><span class="hl-brackets">)){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">initHeader</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">Content-Type</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_default_post_header</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isFormSubmit</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">resetFormState</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_has_http_headers</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">setHeader</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleReadyState</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">send</span><span class="hl-brackets">(</span><span class="hl-identifier">postData</span><span class="hl-code">||</span><span class="hl-reserved">null</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return </span><span class="hl-identifier">o</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">handleReadyState</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-brackets">)
{</span><span class="hl-reserved">var </span><span class="hl-identifier">oConn</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">timeout</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_timeOut</span><span class="hl-brackets">[</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">setTimeout</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-identifier">oConn</span><span class="hl-code">.</span><span class="hl-identifier">abort</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">timeout</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_poll</span><span class="hl-brackets">[</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">setInterval</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">readyState</span><span class="hl-code">==</span><span class="hl-number">4</span><span class="hl-brackets">){</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">clearInterval</span><span class="hl-brackets">(</span><span class="hl-identifier">oConn</span><span class="hl-code">.</span><span class="hl-identifier">_poll</span><span class="hl-brackets">[</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-reserved">delete </span><span class="hl-identifier">oConn</span><span class="hl-code">.</span><span class="hl-identifier">_poll</span><span class="hl-brackets">[</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">timeout</span><span class="hl-brackets">){</span><span class="hl-reserved">delete </span><span class="hl-identifier">oConn</span><span class="hl-code">.</span><span class="hl-identifier">_timeOut</span><span class="hl-brackets">[</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-identifier">oConn</span><span class="hl-code">.</span><span class="hl-identifier">handleTransactionResponse</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_polling_interval</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">handleTransactionResponse</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">,</span><span class="hl-identifier">isAbort</span><span class="hl-brackets">)
{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">callback</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">releaseObject</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">var </span><span class="hl-identifier">httpStatus</span><span class="hl-code">,</span><span class="hl-identifier">responseObject</span><span class="hl-code">;</span><span class="hl-reserved">try
</span><span class="hl-brackets">{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">status</span><span class="hl-code">!==</span><span class="hl-identifier">undefined</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">status</span><span class="hl-code">!=</span><span class="hl-number">0</span><span class="hl-brackets">){</span><span class="hl-identifier">httpStatus</span><span class="hl-code">=</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">status</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">httpStatus</span><span class="hl-code">=</span><span class="hl-number">13030</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){</span><span class="hl-identifier">httpStatus</span><span class="hl-code">=</span><span class="hl-number">13030</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">httpStatus</span><span class="hl-code">&gt;=</span><span class="hl-number">200</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">httpStatus</span><span class="hl-code">&lt;</span><span class="hl-number">300</span><span class="hl-brackets">){</span><span class="hl-reserved">try
</span><span class="hl-brackets">{</span><span class="hl-identifier">responseObject</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">createResponseObject</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">success</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">scope</span><span class="hl-brackets">){</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">success</span><span class="hl-brackets">(</span><span class="hl-identifier">responseObject</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">success</span><span class="hl-code">.</span><span class="hl-identifier">apply</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">scope</span><span class="hl-code">,</span><span class="hl-brackets">[</span><span class="hl-identifier">responseObject</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}}}
</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">try
</span><span class="hl-brackets">{</span><span class="hl-reserved">switch</span><span class="hl-brackets">(</span><span class="hl-identifier">httpStatus</span><span class="hl-brackets">){</span><span class="hl-reserved">case </span><span class="hl-number">12002</span><span class="hl-code">:</span><span class="hl-reserved">case </span><span class="hl-number">12029</span><span class="hl-code">:</span><span class="hl-reserved">case </span><span class="hl-number">12030</span><span class="hl-code">:</span><span class="hl-reserved">case </span><span class="hl-number">12031</span><span class="hl-code">:</span><span class="hl-reserved">case </span><span class="hl-number">12152</span><span class="hl-code">:</span><span class="hl-reserved">case </span><span class="hl-number">13030</span><span class="hl-code">:</span><span class="hl-identifier">responseObject</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">createExceptionObject</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">,</span><span class="hl-brackets">(</span><span class="hl-identifier">isAbort</span><span class="hl-code">?</span><span class="hl-identifier">isAbort</span><span class="hl-code">:</span><span class="hl-reserved">false</span><span class="hl-brackets">))</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">failure</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">scope</span><span class="hl-brackets">){</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">failure</span><span class="hl-brackets">(</span><span class="hl-identifier">responseObject</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">failure</span><span class="hl-code">.</span><span class="hl-identifier">apply</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">scope</span><span class="hl-code">,</span><span class="hl-brackets">[</span><span class="hl-identifier">responseObject</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">break</span><span class="hl-code">;</span><span class="hl-reserved">default</span><span class="hl-code">:</span><span class="hl-identifier">responseObject</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">createResponseObject</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">failure</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">scope</span><span class="hl-brackets">){</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">failure</span><span class="hl-brackets">(</span><span class="hl-identifier">responseObject</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">failure</span><span class="hl-code">.</span><span class="hl-identifier">apply</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">scope</span><span class="hl-code">,</span><span class="hl-brackets">[</span><span class="hl-identifier">responseObject</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}}}}
</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}}
</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">releaseObject</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">responseObject</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">createResponseObject</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callbackArg</span><span class="hl-brackets">)
{</span><span class="hl-reserved">var </span><span class="hl-identifier">obj</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">headerObj</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">try
</span><span class="hl-brackets">{</span><span class="hl-reserved">var </span><span class="hl-identifier">headerStr</span><span class="hl-code">=</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">getAllResponseHeaders</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">header</span><span class="hl-code">=</span><span class="hl-identifier">headerStr</span><span class="hl-code">.</span><span class="hl-identifier">split</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">\n</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">header</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">delimitPos</span><span class="hl-code">=</span><span class="hl-identifier">header</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">:</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">delimitPos</span><span class="hl-code">!=-</span><span class="hl-number">1</span><span class="hl-brackets">){</span><span class="hl-identifier">headerObj</span><span class="hl-brackets">[</span><span class="hl-identifier">header</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">delimitPos</span><span class="hl-brackets">)]</span><span class="hl-code">=</span><span class="hl-identifier">header</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-identifier">delimitPos</span><span class="hl-code">+</span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}}
</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}
</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-code">=</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">status</span><span class="hl-code">=</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">status</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">statusText</span><span class="hl-code">=</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">statusText</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">getResponseHeader</span><span class="hl-code">=</span><span class="hl-identifier">headerObj</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">getAllResponseHeaders</span><span class="hl-code">=</span><span class="hl-identifier">headerStr</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">responseText</span><span class="hl-code">=</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">responseText</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">responseXML</span><span class="hl-code">=</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">responseXML</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">callbackArg</span><span class="hl-code">!==</span><span class="hl-identifier">undefined</span><span class="hl-brackets">){</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">=</span><span class="hl-identifier">callbackArg</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">return </span><span class="hl-identifier">obj</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">createExceptionObject</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">tId</span><span class="hl-code">,</span><span class="hl-identifier">callbackArg</span><span class="hl-code">,</span><span class="hl-identifier">isAbort</span><span class="hl-brackets">)
{</span><span class="hl-reserved">var </span><span class="hl-identifier">COMM_CODE</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">COMM_ERROR</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">communication failure</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">ABORT_CODE</span><span class="hl-code">=-</span><span class="hl-number">1</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">ABORT_ERROR</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">transaction aborted</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">obj</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-code">=</span><span class="hl-identifier">tId</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isAbort</span><span class="hl-brackets">){</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">status</span><span class="hl-code">=</span><span class="hl-identifier">ABORT_CODE</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">statusText</span><span class="hl-code">=</span><span class="hl-identifier">ABORT_ERROR</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">status</span><span class="hl-code">=</span><span class="hl-identifier">COMM_CODE</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">statusText</span><span class="hl-code">=</span><span class="hl-identifier">COMM_ERROR</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">callbackArg</span><span class="hl-brackets">){</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">=</span><span class="hl-identifier">callbackArg</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">return </span><span class="hl-identifier">obj</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">initHeader</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-reserved">label</span><span class="hl-code">,</span><span class="hl-identifier">value</span><span class="hl-brackets">)
{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_http_header</span><span class="hl-brackets">[</span><span class="hl-reserved">label</span><span class="hl-brackets">]</span><span class="hl-code">===</span><span class="hl-identifier">undefined</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_http_header</span><span class="hl-brackets">[</span><span class="hl-reserved">label</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">value</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_http_header</span><span class="hl-brackets">[</span><span class="hl-reserved">label</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-identifier">value</span><span class="hl-code">+</span><span class="hl-quotes">&quot;</span><span class="hl-string">,</span><span class="hl-quotes">&quot;</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_http_header</span><span class="hl-brackets">[</span><span class="hl-reserved">label</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_has_http_headers</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setHeader</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-brackets">)
{</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">prop </span><span class="hl-reserved">in this</span><span class="hl-code">.</span><span class="hl-identifier">_http_header</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_http_header</span><span class="hl-code">.</span><span class="hl-identifier">hasOwnProperty</span><span class="hl-brackets">(</span><span class="hl-identifier">prop</span><span class="hl-brackets">)){</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">setRequestHeader</span><span class="hl-brackets">(</span><span class="hl-identifier">prop</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_http_header</span><span class="hl-brackets">[</span><span class="hl-identifier">prop</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">_http_header</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_http_header</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_has_http_headers</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">setForm</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">formId</span><span class="hl-code">,</span><span class="hl-identifier">isUpload</span><span class="hl-code">,</span><span class="hl-identifier">secureUri</span><span class="hl-brackets">)
{</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">resetFormState</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">oForm</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">formId</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">string</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-identifier">oForm</span><span class="hl-code">=</span><span class="hl-brackets">(</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">getElementById</span><span class="hl-brackets">(</span><span class="hl-identifier">formId</span><span class="hl-brackets">)</span><span class="hl-code">||</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">forms</span><span class="hl-brackets">[</span><span class="hl-identifier">formId</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">formId</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">object</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-identifier">oForm</span><span class="hl-code">=</span><span class="hl-identifier">formId</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isUpload</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">createFrame</span><span class="hl-brackets">(</span><span class="hl-identifier">secureUri</span><span class="hl-code">?</span><span class="hl-identifier">secureUri</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isFormSubmit</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isFileUpload</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">=</span><span class="hl-identifier">oForm</span><span class="hl-code">;</span><span class="hl-reserved">return</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">var </span><span class="hl-identifier">oElement</span><span class="hl-code">,</span><span class="hl-identifier">oName</span><span class="hl-code">,</span><span class="hl-identifier">oValue</span><span class="hl-code">,</span><span class="hl-identifier">oDisabled</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">hasSubmit</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">oForm</span><span class="hl-code">.</span><span class="hl-identifier">elements</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">){</span><span class="hl-identifier">oElement</span><span class="hl-code">=</span><span class="hl-identifier">oForm</span><span class="hl-code">.</span><span class="hl-identifier">elements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-identifier">oDisabled</span><span class="hl-code">=</span><span class="hl-identifier">oForm</span><span class="hl-code">.</span><span class="hl-identifier">elements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">disabled</span><span class="hl-code">;</span><span class="hl-identifier">oName</span><span class="hl-code">=</span><span class="hl-identifier">oForm</span><span class="hl-code">.</span><span class="hl-identifier">elements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">name</span><span class="hl-code">;</span><span class="hl-identifier">oValue</span><span class="hl-code">=</span><span class="hl-identifier">oForm</span><span class="hl-code">.</span><span class="hl-identifier">elements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">oDisabled</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">oName</span><span class="hl-brackets">)
{</span><span class="hl-reserved">switch</span><span class="hl-brackets">(</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">type</span><span class="hl-brackets">)
{</span><span class="hl-reserved">case</span><span class="hl-quotes">'</span><span class="hl-string">select-one</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-reserved">case</span><span class="hl-quotes">'</span><span class="hl-string">select-multiple</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">j</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-identifier">j</span><span class="hl-code">&lt;</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">options</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">j</span><span class="hl-code">++</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">options</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">selected</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">ActiveXObject</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">+=</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oName</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">=</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">options</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">attributes</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">value</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">specified</span><span class="hl-code">?</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">options</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code">:</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">options</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">text</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">&amp;</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">+=</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oName</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">=</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">options</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">hasAttribute</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">value</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">?</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">options</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code">:</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">options</span><span class="hl-brackets">[</span><span class="hl-identifier">j</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">text</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">&amp;</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-brackets">}}}
</span><span class="hl-reserved">break</span><span class="hl-code">;</span><span class="hl-reserved">case</span><span class="hl-quotes">'</span><span class="hl-string">radio</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-reserved">case</span><span class="hl-quotes">'</span><span class="hl-string">checkbox</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">oElement</span><span class="hl-code">.</span><span class="hl-identifier">checked</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">+=</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oName</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">=</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oValue</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">&amp;</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">break</span><span class="hl-code">;</span><span class="hl-reserved">case</span><span class="hl-quotes">'</span><span class="hl-string">file</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-reserved">case </span><span class="hl-identifier">undefined</span><span class="hl-code">:</span><span class="hl-reserved">case</span><span class="hl-quotes">'</span><span class="hl-string">reset</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-reserved">case</span><span class="hl-quotes">'</span><span class="hl-string">button</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-reserved">break</span><span class="hl-code">;</span><span class="hl-reserved">case</span><span class="hl-quotes">'</span><span class="hl-string">submit</span><span class="hl-quotes">'</span><span class="hl-code">:</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">hasSubmit</span><span class="hl-code">==</span><span class="hl-reserved">false</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">+=</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oName</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">=</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oValue</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">&amp;</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-identifier">hasSubmit</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">break</span><span class="hl-code">;</span><span class="hl-reserved">default</span><span class="hl-code">:</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">+=</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oName</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">=</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">encodeURIComponent</span><span class="hl-brackets">(</span><span class="hl-identifier">oValue</span><span class="hl-brackets">)</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">&amp;</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-reserved">break</span><span class="hl-code">;</span><span class="hl-brackets">}}}
</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isFormSubmit</span><span class="hl-code">=</span><span class="hl-reserved">true</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">.</span><span class="hl-identifier">substr</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">-</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">resetFormState</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isFormSubmit</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_isFileUpload</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_sFormData</span><span class="hl-code">=</span><span class="hl-quotes">&quot;&quot;</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">createFrame</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">secureUri</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">frameId</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">yuiIO</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_transaction_id</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">ActiveXObject</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">io</span><span class="hl-code">=</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">&lt;iframe id=&quot;</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">frameId</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">&quot; name=&quot;</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">frameId</span><span class="hl-code">+</span><span class="hl-quotes">'</span><span class="hl-string">&quot; /&gt;</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">secureUri</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">boolean</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">src</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">javascript:false</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else if</span><span class="hl-brackets">(</span><span class="hl-reserved">typeof </span><span class="hl-identifier">secureURI</span><span class="hl-code">==</span><span class="hl-quotes">'</span><span class="hl-string">string</span><span class="hl-quotes">'</span><span class="hl-brackets">){</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">src</span><span class="hl-code">=</span><span class="hl-identifier">secureUri</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">var </span><span class="hl-identifier">io</span><span class="hl-code">=</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">iframe</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">id</span><span class="hl-code">=</span><span class="hl-identifier">frameId</span><span class="hl-code">;</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">name</span><span class="hl-code">=</span><span class="hl-identifier">frameId</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">position</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">absolute</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">top</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">-1000px</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">style</span><span class="hl-code">.</span><span class="hl-identifier">left</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">-1000px</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-identifier">io</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">appendPostData</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">postData</span><span class="hl-brackets">)
{</span><span class="hl-reserved">var </span><span class="hl-identifier">formElements</span><span class="hl-code">=</span><span class="hl-reserved">new </span><span class="hl-builtin">Array</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">postMessage</span><span class="hl-code">=</span><span class="hl-identifier">postData</span><span class="hl-code">.</span><span class="hl-identifier">split</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">&amp;</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">postMessage</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">delimitPos</span><span class="hl-code">=</span><span class="hl-identifier">postMessage</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">indexOf</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">=</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">delimitPos</span><span class="hl-code">!=-</span><span class="hl-number">1</span><span class="hl-brackets">){</span><span class="hl-identifier">formElements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">createElement</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">input</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">formElements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">type</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">hidden</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-identifier">formElements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">name</span><span class="hl-code">=</span><span class="hl-identifier">postMessage</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-number">0</span><span class="hl-code">,</span><span class="hl-identifier">delimitPos</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-identifier">formElements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">value</span><span class="hl-code">=</span><span class="hl-identifier">postMessage</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">]</span><span class="hl-code">.</span><span class="hl-identifier">substring</span><span class="hl-brackets">(</span><span class="hl-identifier">delimitPos</span><span class="hl-code">+</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">.</span><span class="hl-identifier">appendChild</span><span class="hl-brackets">(</span><span class="hl-identifier">formElements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">return </span><span class="hl-identifier">formElements</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-identifier">uploadFile</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">id</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">,</span><span class="hl-identifier">uri</span><span class="hl-code">,</span><span class="hl-identifier">postData</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">frameId</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">yuiIO</span><span class="hl-quotes">'</span><span class="hl-code">+</span><span class="hl-identifier">id</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">io</span><span class="hl-code">=</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">getElementById</span><span class="hl-brackets">(</span><span class="hl-identifier">frameId</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">.</span><span class="hl-identifier">action</span><span class="hl-code">=</span><span class="hl-identifier">uri</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">.</span><span class="hl-identifier">method</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">POST</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">.</span><span class="hl-identifier">target</span><span class="hl-code">=</span><span class="hl-identifier">frameId</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">.</span><span class="hl-identifier">encoding</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">.</span><span class="hl-identifier">encoding</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">multipart/form-data</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">.</span><span class="hl-identifier">enctype</span><span class="hl-code">=</span><span class="hl-quotes">'</span><span class="hl-string">multipart/form-data</span><span class="hl-quotes">'</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">postData</span><span class="hl-brackets">){</span><span class="hl-reserved">var </span><span class="hl-identifier">oElements</span><span class="hl-code">=</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">appendPostData</span><span class="hl-brackets">(</span><span class="hl-identifier">postData</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">.</span><span class="hl-identifier">submit</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">oElements</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">oElements</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">&gt;</span><span class="hl-number">0</span><span class="hl-brackets">){</span><span class="hl-reserved">try
</span><span class="hl-brackets">{</span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-reserved">var </span><span class="hl-identifier">i</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">&lt;</span><span class="hl-identifier">oElements</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code">;</span><span class="hl-identifier">i</span><span class="hl-code">++</span><span class="hl-brackets">){</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_formNode</span><span class="hl-code">.</span><span class="hl-identifier">removeChild</span><span class="hl-brackets">(</span><span class="hl-identifier">oElements</span><span class="hl-brackets">[</span><span class="hl-identifier">i</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}}
</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">resetFormState</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-reserved">var </span><span class="hl-identifier">uploadCallback</span><span class="hl-code">=</span><span class="hl-reserved">function</span><span class="hl-brackets">()
{</span><span class="hl-reserved">var </span><span class="hl-identifier">obj</span><span class="hl-code">=</span><span class="hl-brackets">{}</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-code">=</span><span class="hl-identifier">id</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">=</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">argument</span><span class="hl-code">;</span><span class="hl-reserved">try
</span><span class="hl-brackets">{</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">responseText</span><span class="hl-code">=</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">contentWindow</span><span class="hl-code">.</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">?</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">contentWindow</span><span class="hl-code">.</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">innerHTML</span><span class="hl-code">:</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-identifier">obj</span><span class="hl-code">.</span><span class="hl-identifier">responseXML</span><span class="hl-code">=</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">contentWindow</span><span class="hl-code">.</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">XMLDocument</span><span class="hl-code">?</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">contentWindow</span><span class="hl-code">.</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">XMLDocument</span><span class="hl-code">:</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">contentWindow</span><span class="hl-code">.</span><span class="hl-builtin">document</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">catch</span><span class="hl-brackets">(</span><span class="hl-identifier">e</span><span class="hl-brackets">){}
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">upload</span><span class="hl-brackets">){</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">scope</span><span class="hl-brackets">){</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">upload</span><span class="hl-brackets">(</span><span class="hl-identifier">obj</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">upload</span><span class="hl-code">.</span><span class="hl-identifier">apply</span><span class="hl-brackets">(</span><span class="hl-identifier">callback</span><span class="hl-code">.</span><span class="hl-identifier">scope</span><span class="hl-code">,</span><span class="hl-brackets">[</span><span class="hl-identifier">obj</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-brackets">}}
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">removeListener</span><span class="hl-brackets">(</span><span class="hl-identifier">io</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">load</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-identifier">uploadCallback</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else if</span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">detachEvent</span><span class="hl-brackets">){</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">detachEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">onload</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">uploadCallback</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">removeEventListener</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">load</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">uploadCallback</span><span class="hl-code">,</span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-identifier">setTimeout</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(){</span><span class="hl-builtin">document</span><span class="hl-code">.</span><span class="hl-identifier">body</span><span class="hl-code">.</span><span class="hl-identifier">removeChild</span><span class="hl-brackets">(</span><span class="hl-identifier">io</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">,</span><span class="hl-number">100</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-brackets">){</span><span class="hl-identifier">YAHOO</span><span class="hl-code">.</span><span class="hl-identifier">util</span><span class="hl-code">.</span><span class="hl-identifier">Event</span><span class="hl-code">.</span><span class="hl-identifier">addListener</span><span class="hl-brackets">(</span><span class="hl-identifier">io</span><span class="hl-code">,</span><span class="hl-quotes">&quot;</span><span class="hl-string">load</span><span class="hl-quotes">&quot;</span><span class="hl-code">,</span><span class="hl-identifier">uploadCallback</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else if</span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">attachEvent</span><span class="hl-brackets">){</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">attachEvent</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">onload</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">uploadCallback</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-identifier">io</span><span class="hl-code">.</span><span class="hl-identifier">addEventListener</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">load</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-identifier">uploadCallback</span><span class="hl-code">,</span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">abort</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">,</span><span class="hl-identifier">isTimeout</span><span class="hl-brackets">)
{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">isCallInProgress</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-brackets">)){</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">abort</span><span class="hl-brackets">()</span><span class="hl-code">;</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">clearInterval</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">_poll</span><span class="hl-brackets">[</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-brackets">])</span><span class="hl-code">;</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">_poll</span><span class="hl-brackets">[</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">isTimeout</span><span class="hl-brackets">){</span><span class="hl-reserved">delete this</span><span class="hl-code">.</span><span class="hl-identifier">_timeOut</span><span class="hl-brackets">[</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">tId</span><span class="hl-brackets">]</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">this</span><span class="hl-code">.</span><span class="hl-identifier">handleTransactionResponse</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-code">,</span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;</span><span class="hl-reserved">return true</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">return false</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">isCallInProgress</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-brackets">)
{</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-brackets">){</span><span class="hl-reserved">return </span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">readyState</span><span class="hl-code">!=</span><span class="hl-number">4</span><span class="hl-code">&amp;&amp;</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">.</span><span class="hl-identifier">readyState</span><span class="hl-code">!=</span><span class="hl-number">0</span><span class="hl-code">;</span><span class="hl-brackets">}
</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-reserved">return false</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">,</span><span class="hl-identifier">releaseObject</span><span class="hl-code">:</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">o</span><span class="hl-brackets">)
{</span><span class="hl-identifier">o</span><span class="hl-code">.</span><span class="hl-identifier">conn</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-identifier">o</span><span class="hl-code">=</span><span class="hl-reserved">null</span><span class="hl-code">;</span><span class="hl-brackets">}}</span><span class="hl-code">;</span></pre></div><hr>Copyright &copy; 2006 Jack Slocum. All rights reserved.</body></html>