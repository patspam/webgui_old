
<html>
<head>
	<title>API: Calendar overview-summary-Calendar_Core.js.html (YUI Library)</title>
	<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>

<body>

<div id="header">
	<h1>Yahoo! UI Library</h1>
	<h3><a href="./index.html">Yahoo! UI Library: Calendar</a></h3>

	<div class="breadcrumbs">
		
			
			
			
				<a href="./index.html">Yahoo! UI Library: Calendar</a>
				&gt;
				<strong>Calendar_Core.js</strong>
			
			
			
			
			
			
			
			
			
			
			
		
	</div>
</div>


<div id="body">
	
	
	<div class="nav">
		<div class="module resources">
			<ul class="content">
				<li><a href="overview-tree.html">Tree View</a></li>
				<li><a href="index-all.html">Element Index</a></li>
			</ul>
		</div>
		
		
			<div class="module">
				<h4><a href="./allclasses-noframe.html">Classes</a></h4>
				<ul class="content">
					
						<li>
							<a href="YAHOO.widget.html">
								YAHOO.widget</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.Calendar.html">
								YAHOO.widget.Calendar</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.Calendar2up.html">
								YAHOO.widget.Calendar2up</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.Calendar2up_Cal.html">
								YAHOO.widget.Calendar2up_Cal</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.Calendar_Core.html">
								YAHOO.widget.Calendar_Core</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.CalendarGroup.html">
								YAHOO.widget.CalendarGroup</a>
						</li>
					
						<li>
							<a href="YAHOO.widget.DateMath.html">
								YAHOO.widget.DateMath</a>
						</li>
					
				</ul>
			</div>
		
		
		
			<div class="module">
				<h4><a href="./overview-summary.html">Files</a></h4>
				<ul class="content">		
					
						<li>
							<a href="overview-summary-Calendar.js.html">
								Calendar.js</a>
						</li>
					
						<li>
							<a href="overview-summary-Calendar2up.js.html">
								Calendar2up.js</a>
						</li>
					
						<li>
							<a href="overview-summary-Calendar_Core.js.html">
								Calendar_Core.js</a>
						</li>
					
						<li>
							<a href="overview-summary-CalendarGroup.js.html">
								CalendarGroup.js</a>
						</li>
					
						<li>
							<a href="overview-summary-DateMath.js.html">
								DateMath.js</a>
						</li>
					
				</ul>
			</div>
		
	</div>
	
	<div class="main">
			
		
		
			
			   <h2>Calendar_Core.js</h2>
			
			
				
					
				
				
				
<div class="meta">
	
	
	
	
	
	
	
	
	
	
		
	
	
	
	
	
	
</div>

			
		
		
		
		
			<div class="quick-links">
				<strong>Quick Links:</strong>&nbsp;
				
					
					
					
				
				
				
					<a href="#source">Source Code</a>
				
			</div>
		
			
				<div class="section class summaries">
			
				<div class="content">
						
						

				</div>
			</div>
		
		
		
		
		
		
		
			<div class="section source">


<style>
strong.alert {color:red;}
</style>
<p><strong class="alert">Note:</strong> Code presented here has been
modified from the original source to aid in processing and
presentation.  This is <strong>NOT</strong> functional code.  To review this
component's literal, functional source, please refer to its
JavaScript files as provided in <a href="http://sourceforge.net/
projects/yui/">the downloadable YUI Library distribution</a>.</p>

				<h3><a name="source">Source Code</a> <span class="top">[<a href="#top">top</a>]</span></h3>
				<pre class="sourceview"><span class="comment">/*
Copyright (c) 2006, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
Version 0.11.3
*/</span>

<span class="comment">/**
* &lt;p&gt;Calendar_Core is the base class for the Calendar widget. In its most basic
* implementation, it has the ability to render a calendar widget on the page
* that can be manipulated to select a single date, move back and forth between
* months and years.&lt;/p&gt;
* &lt;p&gt;To construct the placeholder for the calendar widget, the code is as
* follows:
*	&lt;xmp&gt;
*		&lt;div id="cal1Container"&gt;&lt;/div&gt;
*	&lt;/xmp&gt;
* Note that the table can be replaced with any kind of element.
* &lt;/p&gt;
* <span class="attrib">@constructor</span>
* <span class="attrib">@param</span> {String}	id			The id of the table element that will represent the calendar widget
* <span class="attrib">@param</span> {String}	containerId	The id of the container element that will contain the calendar table
* <span class="attrib">@param</span> {String}	monthyear	The month/year string used to set the current calendar page
* <span class="attrib">@param</span> {String}	selected	A string of date values formatted using the date parser. The built-in
								default date format is MM/DD/YYYY. Ranges are defined using
								MM/DD/YYYY-MM/DD/YYYY. Month/day combinations are defined using MM/DD.
								Any combination of these can be combined by delimiting the string with
								commas. Example: "12/24/2005,12/25,1/18/2006-1/21/2006"
*/</span>
YAHOO.widget.Calendar_Core = <span class="reserved">function</span>(id, containerId, monthyear, selected) {
	<span class="reserved">if</span> (arguments.length &gt; 0) {
		<span class="reserved">this</span>.init(id, containerId, monthyear, selected);
	}
}

<span class="comment">/**
* The path to be used for images loaded for the Calendar
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.IMG_ROOT = (window.location.href.toLowerCase().indexOf(<span class="literal">"https"</span>) == 0 ? <span class="literal">"https://a248.e.akamai.net/sec.yimg.com/i/"</span> : <span class="literal">"http://us.i1.yimg.com/us.yimg.com/i/"</span>);

<span class="comment">/**
* Type constant used for renderers to represent an individual date (M/D/Y)
* <span class="attrib">@final</span>
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.DATE = <span class="literal">"D"</span>;

<span class="comment">/**
* Type constant used for renderers to represent an individual date across any year (M/D)
* <span class="attrib">@final</span>
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.MONTH_DAY = <span class="literal">"MD"</span>;

<span class="comment">/**
* Type constant used for renderers to represent a weekday
* <span class="attrib">@final</span>
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.WEEKDAY = <span class="literal">"WD"</span>;

<span class="comment">/**
* Type constant used for renderers to represent a range of individual dates (M/D/Y-M/D/Y)
* <span class="attrib">@final</span>
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.RANGE = <span class="literal">"R"</span>;

<span class="comment">/**
* Type constant used for renderers to represent a month across any year
* <span class="attrib">@final</span>
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.MONTH = <span class="literal">"M"</span>;

<span class="comment">/**
* Constant that represents the total number of date cells that are displayed in a given month
* including 
* <span class="attrib">@final</span>
* <span class="attrib">@type</span> Integer
*/</span>
YAHOO.widget.Calendar_Core.DISPLAY_DAYS = 42;

<span class="comment">/**
* Constant used for halting the execution of the remainder of the render stack
* <span class="attrib">@final</span>
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.STOP_RENDER = <span class="literal">"S"</span>;

YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span> = {

	<span class="comment">/**
	* The configuration object used to set up the calendars various locale and style options.
	* <span class="attrib">@type</span> Object
	*/</span>
	Config : null,

	<span class="comment">/**
	* The parent CalendarGroup, only to be set explicitly by the parent group
	* <span class="attrib">@type</span> CalendarGroup
	*/</span>	
	parent : null,

	<span class="comment">/**
	* The index of this item in the parent group
	* <span class="attrib">@type</span> Integer
	*/</span>
	index : -1,

	<span class="comment">/**
	* The collection of calendar table cells
	* <span class="attrib">@type</span> HTMLTableCellElement[]
	*/</span>
	cells : null,

	<span class="comment">/**
	* The collection of calendar week header cells
	* <span class="attrib">@type</span> HTMLTableCellElement[]
	*/</span>
	weekHeaderCells : null,

	<span class="comment">/**
	* The collection of calendar week footer cells
	* <span class="attrib">@type</span> HTMLTableCellElement[]
	*/</span>
	weekFooterCells : null,
	
	<span class="comment">/**
	* The collection of calendar cell dates that is parallel to the cells collection. The array contains dates field arrays in the format of [YYYY, M, D].
	* <span class="attrib">@type</span> Array[](Integer[])
	*/</span>
	cellDates : null,

	<span class="comment">/**
	* The id that uniquely identifies this calendar. This id should match the id of the placeholder element on the page.
	* <span class="attrib">@type</span> String
	*/</span>
	id : null,

	<span class="comment">/**
	* The DOM element reference that points to this calendar's container element. The calendar will be inserted into this element when the shell is rendered.
	* <span class="attrib">@type</span> HTMLElement
	*/</span>
	oDomContainer : null,

	<span class="comment">/**
	* A Date object representing today's date.
	* <span class="attrib">@type</span> Date
	*/</span>
	today : null,

	<span class="comment">/**
	* The list of render functions, along with required parameters, used to render cells. 
	* <span class="attrib">@type</span> Array[]
	*/</span>
	renderStack : null,

	<span class="comment">/**
	* A copy of the initial render functions created before rendering.
	* <span class="attrib">@type</span> Array
	* <span class="attrib">@private</span>
	*/</span>
	_renderStack : null,

	<span class="comment">/**
	* A Date object representing the month/year that the calendar is currently set to
	* <span class="attrib">@type</span> Date
	*/</span>
	pageDate : null,

	<span class="comment">/**
	* A Date object representing the month/year that the calendar is initially set to
	* <span class="attrib">@type</span> Date
	* <span class="attrib">@private</span>
	*/</span>
	_pageDate : null,
	
	<span class="comment">/**
	* A Date object representing the minimum selectable date
	* <span class="attrib">@type</span> Date
	*/</span>
	minDate : null,
	
	<span class="comment">/**
	* A Date object representing the maximum selectable date
	* <span class="attrib">@type</span> Date
	*/</span>
	maxDate : null,
	
	<span class="comment">/**
	* The list of currently selected dates. The data format for this local collection is 
	* an array of date field arrays, e.g:
	* [
	*	[2004,5,25],
	*	[2004,5,26]
	* ]
	* <span class="attrib">@type</span> Array[](Integer[])
	*/</span>
	selectedDates : null,

	<span class="comment">/**
	* The private list of initially selected dates.
	* <span class="attrib">@type</span> Array
	* <span class="attrib">@private</span>
	*/</span>
	_selectedDates : null,

	<span class="comment">/**
	* A boolean indicating whether the shell of the calendar has already been rendered to the page
	* <span class="attrib">@type</span> Boolean
	*/</span>	
	shellRendered : false,

	<span class="comment">/**
	* The HTML table element that represents this calendar
	* <span class="attrib">@type</span> HTMLTableElement
	*/</span>	
	table : null,

	<span class="comment">/**
	* The HTML cell element that represents the main header cell TH used in the calendar table
	* <span class="attrib">@type</span> HTMLTableCellElement
	*/</span>	
	headerCell : null
};



<span class="comment">/**
* Initializes the calendar widget. This method must be called by all subclass constructors.
* <span class="attrib">@param</span> {String}	id			The id of the table element that will represent the calendar widget
* <span class="attrib">@param</span> {String}	containerId	The id of the container element that will contain the calendar table
* <span class="attrib">@param</span> {String}	monthyear	The month/year string used to set the current calendar page
* <span class="attrib">@param</span> {String}	selected	A string of date values formatted using the date parser. The built-in
								default date format is MM/DD/YYYY. Ranges are defined using
								MM/DD/YYYY-MM/DD/YYYY. Month/day combinations are defined using MM/DD.
								Any combination of these can be combined by delimiting the string with
								commas. Example: "12/24/2005,12/25,1/18/2006-1/21/2006"
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.init = <span class="reserved">function</span>(id, containerId, monthyear, selected) {
	<span class="reserved">this</span>.setupConfig();

	<span class="reserved">this</span>.id = id;

	<span class="reserved">this</span>.cellDates = new Array();
	
	<span class="reserved">this</span>.cells = new Array();
	
	<span class="reserved">this</span>.renderStack = new Array();
	<span class="reserved">this</span>._renderStack = new Array();

	<span class="reserved">this</span>.oDomContainer = document.getElementById(containerId);
	
	<span class="reserved">this</span>.today = new Date();
	YAHOO.widget.DateMath.clearTime(<span class="reserved">this</span>.today);

	var month;
	var year;

	<span class="reserved">if</span> (monthyear) {
		var aMonthYear = monthyear.split(<span class="reserved">this</span>.Locale.DATE_FIELD_DELIMITER);
		month = parseInt(aMonthYear[<span class="reserved">this</span>.Locale.MY_MONTH_POSITION-1]);
		year = parseInt(aMonthYear[<span class="reserved">this</span>.Locale.MY_YEAR_POSITION-1]);
	} <span class="reserved">else</span> {
		month = <span class="reserved">this</span>.today.getMonth()+1;
		year = <span class="reserved">this</span>.today.getFullYear();
	}

	<span class="reserved">this</span>.pageDate = new Date(year, month-1, 1);
	<span class="reserved">this</span>._pageDate = new Date(<span class="reserved">this</span>.pageDate.getTime());

	<span class="reserved">if</span> (selected) {
		<span class="reserved">this</span>.selectedDates = <span class="reserved">this</span>._parseDates(selected);
		<span class="reserved">this</span>._selectedDates = <span class="reserved">this</span>.selectedDates.concat();
	} <span class="reserved">else</span> {
		<span class="reserved">this</span>.selectedDates = new Array();
		<span class="reserved">this</span>._selectedDates = new Array();
	}

	<span class="reserved">this</span>.wireDefaultEvents();
	<span class="reserved">this</span>.wireCustomEvents();
};


<span class="comment">/**
* Wires the local DOM events for the Calendar, including cell selection, hover, and
* default navigation that is used for moving back and forth between calendar pages.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.wireDefaultEvents = <span class="reserved">function</span>() {
	
	<span class="comment">/**
	* The default event function that is attached to a date link within a calendar cell
	* when the calendar is rendered. 
	* <span class="attrib">@param</span>	e		The event
	* <span class="attrib">@param</span>	cal		A reference to the calendar passed by the Event utility
	*/</span>
	<span class="reserved">this</span>.doSelectCell = <span class="reserved">function</span>(e, cal) {		
		var cell = <span class="reserved">this</span>;
		var index = cell.index;
		var d = cal.cellDates[index];
		var date = new Date(d[0],d[1]-1,d[2]);
		
		<span class="reserved">if</span> (! cal.isDateOOM(date) &amp;&amp; ! YAHOO.util.Dom.hasClass(cell, cal.Style.CSS_CELL_RESTRICTED) &amp;&amp; ! YAHOO.util.Dom.hasClass(cell, cal.Style.CSS_CELL_OOB)) {
			<span class="reserved">if</span> (cal.Options.MULTI_SELECT) {
				var link = cell.getElementsByTagName(<span class="literal">"A"</span>)[0];
				link.blur();
				
				var cellDate = cal.cellDates[index];
				var cellDateIndex = cal._indexOfSelectedFieldArray(cellDate);
				
				<span class="reserved">if</span> (cellDateIndex &gt; -1) {	
					cal.deselectCell(index);
				} <span class="reserved">else</span> {
					cal.selectCell(index);
				}	
				
			} <span class="reserved">else</span> {
				var link = cell.getElementsByTagName(<span class="literal">"A"</span>)[0];
				link.blur()
				cal.selectCell(index);
			}
		}
	}

	<span class="comment">/**
	* The event that is executed when the user hovers over a cell
	* <span class="attrib">@param</span>	e		The event
	* <span class="attrib">@param</span>	cal		A reference to the calendar passed by the Event utility
	* <span class="attrib">@private</span>
	*/</span>
	<span class="reserved">this</span>.doCellMouseOver = <span class="reserved">function</span>(e, cal) {
		var cell = <span class="reserved">this</span>;
		var index = cell.index;
		var d = cal.cellDates[index];
		var date = new Date(d[0],d[1]-1,d[2]);

		<span class="reserved">if</span> (! cal.isDateOOM(date) &amp;&amp; ! YAHOO.util.Dom.hasClass(cell, cal.Style.CSS_CELL_RESTRICTED) &amp;&amp; ! YAHOO.util.Dom.hasClass(cell, cal.Style.CSS_CELL_OOB)) {
			YAHOO.util.Dom.addClass(cell, cal.Style.CSS_CELL_HOVER);
		}
	}

	<span class="comment">/**
	* The event that is executed when the user moves the mouse out of a cell
	* <span class="attrib">@param</span>	e		The event
	* <span class="attrib">@param</span>	cal		A reference to the calendar passed by the Event utility
	* <span class="attrib">@private</span>
	*/</span>
	<span class="reserved">this</span>.doCellMouseOut = <span class="reserved">function</span>(e, cal) {
		YAHOO.util.Dom.removeClass(<span class="reserved">this</span>, cal.Style.CSS_CELL_HOVER);
	}
	
	<span class="comment">/**
	* A wrapper event that executes the nextMonth method through a DOM event
	* <span class="attrib">@param</span>	e		The event
	* <span class="attrib">@param</span>	cal		A reference to the calendar passed by the Event utility
	* <span class="attrib">@private</span>
	*/</span>	
	<span class="reserved">this</span>.doNextMonth = <span class="reserved">function</span>(e, cal) {
		cal.nextMonth();
	}

	<span class="comment">/**
	* A wrapper event that executes the previousMonth method through a DOM event
	* <span class="attrib">@param</span>	e		The event
	* <span class="attrib">@param</span>	cal		A reference to the calendar passed by the Event utility
	* <span class="attrib">@private</span>
	*/</span>		
	<span class="reserved">this</span>.doPreviousMonth = <span class="reserved">function</span>(e, cal) {
		cal.previousMonth();
	}
}

<span class="comment">/**
* This function can be extended by subclasses to attach additional DOM events to
* the calendar. By default, this method is unimplemented.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.wireCustomEvents = <span class="reserved">function</span>() { }

<span class="comment">/**
This method is called to initialize the widget configuration variables, including
style, localization, and other display and behavioral options.
&lt;p&gt;Config: Container for the CSS style configuration variables.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Config.Style&lt;/strong&gt; - Defines the CSS classes used for different calendar elements&lt;/p&gt;
&lt;blockquote&gt;
	&lt;div&gt;&lt;em&gt;CSS_CALENDAR&lt;/em&gt; : Container table&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_HEADER&lt;/em&gt; : &lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_HEADER_TEXT&lt;/em&gt; : Calendar header&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_FOOTER&lt;/em&gt; : Calendar footer&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL&lt;/em&gt; : Calendar day cell&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_OOM&lt;/em&gt; : Calendar OOM (out of month) cell&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_SELECTED&lt;/em&gt; : Calendar selected cell&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_RESTRICTED&lt;/em&gt; : Calendar restricted cell&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_TODAY&lt;/em&gt; : Calendar cell for today's date&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_ROW_HEADER&lt;/em&gt; : The cell preceding a row (used for week number by default)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_ROW_FOOTER&lt;/em&gt; : The cell following a row (not implemented by default)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_WEEKDAY_CELL&lt;/em&gt; : The cells used for labeling weekdays&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_WEEKDAY_ROW&lt;/em&gt; : The row containing the weekday label cells&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CONTAINER&lt;/em&gt; : The border style used for the default UED rendering&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_2UPWRAPPER&lt;/em&gt; : Special container class used to properly adjust the sizing and float&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_NAV_LEFT&lt;/em&gt; : Left navigation arrow&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_NAV_RIGHT&lt;/em&gt; : Right navigation arrow&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_TOP&lt;/em&gt; : Outlying cell along the top row&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_LEFT&lt;/em&gt; : Outlying cell along the left row&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_RIGHT&lt;/em&gt; : Outlying cell along the right row&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_BOTTOM&lt;/em&gt; : Outlying cell along the bottom row&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_HOVER&lt;/em&gt; : Cell hover style&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_HIGHLIGHT1&lt;/em&gt; : Highlight color 1 for styling cells&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_HIGHLIGHT2&lt;/em&gt; : Highlight color 2 for styling cells&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_HIGHLIGHT3&lt;/em&gt; : Highlight color 3 for styling cells&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;CSS_CELL_HIGHLIGHT4&lt;/em&gt; : Highlight color 4 for styling cells&lt;/div&gt;

&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Config.Locale&lt;/strong&gt; - Defines the locale string arrays used for localization&lt;/p&gt;
&lt;blockquote&gt;
	&lt;div&gt;&lt;em&gt;MONTHS_SHORT&lt;/em&gt; : Array of 12 months in short format ("Jan", "Feb", etc.)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;MONTHS_LONG&lt;/em&gt; : Array of 12 months in short format ("Jan", "Feb", etc.)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;WEEKDAYS_1CHAR&lt;/em&gt; : Array of 7 days in 1-character format ("S", "M", etc.)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;WEEKDAYS_SHORT&lt;/em&gt; : Array of 7 days in short format ("Su", "Mo", etc.)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;WEEKDAYS_MEDIUM&lt;/em&gt; : Array of 7 days in medium format ("Sun", "Mon", etc.)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;WEEKDAYS_LONG&lt;/em&gt; : Array of 7 days in long format ("Sunday", "Monday", etc.)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;DATE_DELIMITER&lt;/em&gt; : The value used to delimit series of multiple dates (Default: ",")&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;DATE_FIELD_DELIMITER&lt;/em&gt; : The value used to delimit date fields (Default: "/")&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;DATE_RANGE_DELIMITER&lt;/em&gt; : The value used to delimit date fields (Default: "-")&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;MY_MONTH_POSITION&lt;/em&gt; : The value used to determine the position of the month in a month/year combo (e.g. 12/2005) (Default: 1)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;MY_YEAR_POSITION&lt;/em&gt; : The value used to determine the position of the year in a month/year combo (e.g. 12/2005) (Default: 2)&lt;/div&gt;	
	&lt;div&gt;&lt;em&gt;MD_MONTH_POSITION&lt;/em&gt; : The value used to determine the position of the month in a month/day combo (e.g. 12/25) (Default: 1)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;MD_DAY_POSITION&lt;/em&gt; : The value used to determine the position of the day in a month/day combo (e.g. 12/25) (Default: 2)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;MDY_MONTH_POSITION&lt;/em&gt; : The value used to determine the position of the month in a month/day/year combo (e.g. 12/25/2005) (Default: 1)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;MDY_DAY_POSITION&lt;/em&gt; : The value used to determine the position of the day in a month/day/year combo (e.g. 12/25/2005) (Default: 2)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;MDY_YEAR_POSITION&lt;/em&gt; : The value used to determine the position of the year in a month/day/year combo (e.g. 12/25/2005) (Default: 3)&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Config.Options&lt;/strong&gt; - Defines other configurable calendar widget options&lt;/p&gt;
&lt;blockquote&gt;
	&lt;div&gt;&lt;em&gt;SHOW_WEEKDAYS&lt;/em&gt; : Boolean, determines whether to display the weekday headers (defaults to true)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;LOCALE_MONTHS&lt;/em&gt; : Array, points to the desired Config.Locale array (defaults to Config.Locale.MONTHS_LONG)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;LOCALE_WEEKDAYS&lt;/em&gt; : Array, points to the desired Config.Locale array (defaults to Config.Locale.WEEKDAYS_SHORT)&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;START_WEEKDAY&lt;/em&gt; : Integer, 0-6, representing the day that a week begins on&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;SHOW_WEEK_HEADER&lt;/em&gt; : Boolean, determines whether to display row headers&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;SHOW_WEEK_FOOTER&lt;/em&gt; : Boolean, determines whether to display row footers&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;HIDE_BLANK_WEEKS&lt;/em&gt; : Boolean, determines whether to hide extra weeks that are completely OOM&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;NAV_ARROW_LEFT&lt;/em&gt; : String, the image path used for the left navigation arrow&lt;/div&gt;
	&lt;div&gt;&lt;em&gt;NAV_ARROW_RIGHT&lt;/em&gt; : String, the image path used for the right navigation arrow&lt;/div&gt;
&lt;/blockquote&gt;
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.setupConfig = <span class="reserved">function</span>() {
	<span class="comment">/**
	* Container for the CSS style configuration variables.
	*/</span>
	<span class="reserved">this</span>.Config = new Object();
	
	<span class="reserved">this</span>.Config.Style = {
		<span class="comment">// Style variables</span>
		CSS_ROW_HEADER: <span class="literal">"calrowhead"</span>,
		CSS_ROW_FOOTER: <span class="literal">"calrowfoot"</span>,
		CSS_CELL : <span class="literal">"calcell"</span>,
		CSS_CELL_SELECTED : <span class="literal">"selected"</span>,
		CSS_CELL_RESTRICTED : <span class="literal">"restricted"</span>,
		CSS_CELL_TODAY : <span class="literal">"today"</span>,
		CSS_CELL_OOM : <span class="literal">"oom"</span>,
		CSS_CELL_OOB : <span class="literal">"previous"</span>,
		CSS_HEADER : <span class="literal">"calheader"</span>,
		CSS_HEADER_TEXT : <span class="literal">"calhead"</span>,
		CSS_WEEKDAY_CELL : <span class="literal">"calweekdaycell"</span>,
		CSS_WEEKDAY_ROW : <span class="literal">"calweekdayrow"</span>,
		CSS_FOOTER : <span class="literal">"calfoot"</span>,
		CSS_CALENDAR : <span class="literal">"yui-calendar"</span>,
		CSS_CONTAINER : <span class="literal">"yui-calcontainer"</span>,
		CSS_2UPWRAPPER : <span class="literal">"yui-cal2upwrapper"</span>, 
		CSS_NAV_LEFT : <span class="literal">"calnavleft"</span>,
		CSS_NAV_RIGHT : <span class="literal">"calnavright"</span>,
		CSS_CELL_TOP : <span class="literal">"calcelltop"</span>,
		CSS_CELL_LEFT : <span class="literal">"calcellleft"</span>,
		CSS_CELL_RIGHT : <span class="literal">"calcellright"</span>,
		CSS_CELL_BOTTOM : <span class="literal">"calcellbottom"</span>,
		CSS_CELL_HOVER : <span class="literal">"calcellhover"</span>,
		CSS_CELL_HIGHLIGHT1 : <span class="literal">"highlight1"</span>,
		CSS_CELL_HIGHLIGHT2 : <span class="literal">"highlight2"</span>,
		CSS_CELL_HIGHLIGHT3 : <span class="literal">"highlight3"</span>,
		CSS_CELL_HIGHLIGHT4 : <span class="literal">"highlight4"</span>
	};

	<span class="reserved">this</span>.Style = <span class="reserved">this</span>.Config.Style;

	<span class="reserved">this</span>.Config.Locale = {
		<span class="comment">// Locale definition</span>
		MONTHS_SHORT : [<span class="literal">"Jan"</span>, <span class="literal">"Feb"</span>, <span class="literal">"Mar"</span>, <span class="literal">"Apr"</span>, <span class="literal">"May"</span>, <span class="literal">"Jun"</span>, <span class="literal">"Jul"</span>, <span class="literal">"Aug"</span>, <span class="literal">"Sep"</span>, <span class="literal">"Oct"</span>, <span class="literal">"Nov"</span>, <span class="literal">"Dec"</span>],
		MONTHS_LONG : [<span class="literal">"January"</span>, <span class="literal">"February"</span>, <span class="literal">"March"</span>, <span class="literal">"April"</span>, <span class="literal">"May"</span>, <span class="literal">"June"</span>, <span class="literal">"July"</span>, <span class="literal">"August"</span>, <span class="literal">"September"</span>, <span class="literal">"October"</span>, <span class="literal">"November"</span>, <span class="literal">"December"</span>],
		WEEKDAYS_1CHAR : [<span class="literal">"S"</span>, <span class="literal">"M"</span>, <span class="literal">"T"</span>, <span class="literal">"W"</span>, <span class="literal">"T"</span>, <span class="literal">"F"</span>, <span class="literal">"S"</span>],
		WEEKDAYS_SHORT : [<span class="literal">"Su"</span>, <span class="literal">"Mo"</span>, <span class="literal">"Tu"</span>, <span class="literal">"We"</span>, <span class="literal">"Th"</span>, <span class="literal">"Fr"</span>, <span class="literal">"Sa"</span>],
		WEEKDAYS_MEDIUM : [<span class="literal">"Sun"</span>, <span class="literal">"Mon"</span>, <span class="literal">"Tue"</span>, <span class="literal">"Wed"</span>, <span class="literal">"Thu"</span>, <span class="literal">"Fri"</span>, <span class="literal">"Sat"</span>],
		WEEKDAYS_LONG : [<span class="literal">"Sunday"</span>, <span class="literal">"Monday"</span>, <span class="literal">"Tuesday"</span>, <span class="literal">"Wednesday"</span>, <span class="literal">"Thursday"</span>, <span class="literal">"Friday"</span>, <span class="literal">"Saturday"</span>],
		DATE_DELIMITER : <span class="literal">","</span>,
		DATE_FIELD_DELIMITER : <span class="literal">"/"</span>,
		DATE_RANGE_DELIMITER : <span class="literal">"-"</span>,
		MY_MONTH_POSITION : 1,
		MY_YEAR_POSITION : 2,
		MD_MONTH_POSITION : 1,
		MD_DAY_POSITION : 2,
		MDY_MONTH_POSITION : 1,
		MDY_DAY_POSITION : 2,
		MDY_YEAR_POSITION : 3
	};

	<span class="reserved">this</span>.Locale = <span class="reserved">this</span>.Config.Locale;

	<span class="reserved">this</span>.Config.Options = {
		<span class="comment">// Configuration variables</span>
		MULTI_SELECT : false,
		SHOW_WEEKDAYS : true,
		START_WEEKDAY : 0,
		SHOW_WEEK_HEADER : false,
		SHOW_WEEK_FOOTER : false,
		HIDE_BLANK_WEEKS : false,
		NAV_ARROW_LEFT : YAHOO.widget.Calendar_Core.IMG_ROOT + <span class="literal">"us/tr/callt.gif"</span>,
		NAV_ARROW_RIGHT : YAHOO.widget.Calendar_Core.IMG_ROOT + <span class="literal">"us/tr/calrt.gif"</span>
	};

	<span class="reserved">this</span>.Options = <span class="reserved">this</span>.Config.Options;

	<span class="reserved">this</span>.customConfig();

	<span class="reserved">if</span> (! <span class="reserved">this</span>.Options.LOCALE_MONTHS) {
		<span class="reserved">this</span>.Options.LOCALE_MONTHS=<span class="reserved">this</span>.Locale.MONTHS_LONG;
	}
	<span class="reserved">if</span> (! <span class="reserved">this</span>.Options.LOCALE_WEEKDAYS) {
		<span class="reserved">this</span>.Options.LOCALE_WEEKDAYS=<span class="reserved">this</span>.Locale.WEEKDAYS_SHORT;
	}

	<span class="comment">// If true, reconfigure weekday arrays to place Mondays first</span>
	<span class="reserved">if</span> (<span class="reserved">this</span>.Options.START_WEEKDAY &gt; 0) {
		<span class="reserved">for</span> (var w=0;w&lt;<span class="reserved">this</span>.Options.START_WEEKDAY;++w) {
			<span class="reserved">this</span>.Locale.WEEKDAYS_SHORT.push(<span class="reserved">this</span>.Locale.WEEKDAYS_SHORT.shift());
			<span class="reserved">this</span>.Locale.WEEKDAYS_MEDIUM.push(<span class="reserved">this</span>.Locale.WEEKDAYS_MEDIUM.shift());
			<span class="reserved">this</span>.Locale.WEEKDAYS_LONG.push(<span class="reserved">this</span>.Locale.WEEKDAYS_LONG.shift());		
		}
	}
};

<span class="comment">/**
* This method is called when subclasses need to override configuration variables
* or create new ones. Values can be explicitly set as follows:
* &lt;blockquote&gt;&lt;code&gt;
*	this.Config.Style.CSS_CELL = "newcalcell";
*	this.Config.Locale.MONTHS_SHORT = ["Jan", "Fv", "Mars", "Avr", "Mai", "Juin", "Juil", "Aot", "Sept", "Oct", "Nov", "Dc"];
* &lt;/code&gt;&lt;/blockquote&gt;
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.customConfig = <span class="reserved">function</span>() { };

<span class="comment">/**
* Builds the date label that will be displayed in the calendar header or
* footer, depending on configuration.
* <span class="attrib">@return</span>	The formatted calendar month label
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.buildMonthLabel = <span class="reserved">function</span>() {
	var text = <span class="reserved">this</span>.Options.LOCALE_MONTHS[<span class="reserved">this</span>.pageDate.getMonth()] + <span class="literal">" "</span> + <span class="reserved">this</span>.pageDate.getFullYear();
	<span class="reserved">return</span> text;
};

<span class="comment">/**
* Builds the date digit that will be displayed in calendar cells
* <span class="attrib">@return</span>	The formatted day label
* <span class="attrib">@type</span>	String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.buildDayLabel = <span class="reserved">function</span>(workingDate) {
	var day = workingDate.getDate();
	<span class="reserved">return</span> day;
};



<span class="comment">/**
* Builds the calendar table shell that will be filled in with dates and formatting.
* This method calls buildShellHeader, buildShellBody, and buildShellFooter (in that order) 
* to construct the pieces of the calendar table. The construction of the shell should
* only happen one time when the calendar is initialized.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.buildShell = <span class="reserved">function</span>() {
	
	<span class="reserved">this</span>.table = document.createElement(<span class="literal">"TABLE"</span>);
	<span class="reserved">this</span>.table.cellSpacing = 0;	
	YAHOO.widget.Calendar_Core.setCssClasses(<span class="reserved">this</span>.table, [<span class="reserved">this</span>.Style.CSS_CALENDAR]);

	<span class="reserved">this</span>.table.id = <span class="reserved">this</span>.id;
	
	<span class="reserved">this</span>.buildShellHeader();
	<span class="reserved">this</span>.buildShellBody();
	<span class="reserved">this</span>.buildShellFooter();
	
	YAHOO.util.Event.addListener(window, <span class="literal">"unload"</span>, <span class="reserved">this</span>._unload, <span class="reserved">this</span>);
};

<span class="comment">/**
* Builds the calendar shell header by inserting a THEAD into the local calendar table.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.buildShellHeader = <span class="reserved">function</span>() {
	var head = document.createElement(<span class="literal">"THEAD"</span>);
	var headRow = document.createElement(<span class="literal">"TR"</span>);

	var headerCell = document.createElement(<span class="literal">"TH"</span>);
	
	var colSpan = 7;
	<span class="reserved">if</span> (<span class="reserved">this</span>.Config.Options.SHOW_WEEK_HEADER) {
		<span class="reserved">this</span>.weekHeaderCells = new Array();
		colSpan += 1;
	}
	<span class="reserved">if</span> (<span class="reserved">this</span>.Config.Options.SHOW_WEEK_FOOTER) {
		<span class="reserved">this</span>.weekFooterCells = new Array();
		colSpan += 1;
	}	
	
	headerCell.colSpan = colSpan;
	
	YAHOO.widget.Calendar_Core.setCssClasses(headerCell,[<span class="reserved">this</span>.Style.CSS_HEADER_TEXT]);

	<span class="reserved">this</span>.headerCell = headerCell;

	headRow.appendChild(headerCell);
	head.appendChild(headRow);

	<span class="comment">// Append day labels, if needed</span>
	<span class="reserved">if</span> (<span class="reserved">this</span>.Options.SHOW_WEEKDAYS) {
		var row = document.createElement(<span class="literal">"TR"</span>);
		var fillerCell;

		YAHOO.widget.Calendar_Core.setCssClasses(row,[<span class="reserved">this</span>.Style.CSS_WEEKDAY_ROW]);
		
		<span class="reserved">if</span> (<span class="reserved">this</span>.Config.Options.SHOW_WEEK_HEADER) {
			fillerCell = document.createElement(<span class="literal">"TH"</span>);
			YAHOO.widget.Calendar_Core.setCssClasses(fillerCell,[<span class="reserved">this</span>.Style.CSS_WEEKDAY_CELL]);
			row.appendChild(fillerCell);
		}
		
		<span class="reserved">for</span>(var i=0;i&lt;<span class="reserved">this</span>.Options.LOCALE_WEEKDAYS.length;++i) {
			var cell = document.createElement(<span class="literal">"TH"</span>);
			YAHOO.widget.Calendar_Core.setCssClasses(cell,[<span class="reserved">this</span>.Style.CSS_WEEKDAY_CELL]);
			cell.innerHTML=<span class="reserved">this</span>.Options.LOCALE_WEEKDAYS[i];
			row.appendChild(cell);
		}

		<span class="reserved">if</span> (<span class="reserved">this</span>.Config.Options.SHOW_WEEK_FOOTER) {
			fillerCell = document.createElement(<span class="literal">"TH"</span>);
			YAHOO.widget.Calendar_Core.setCssClasses(fillerCell,[<span class="reserved">this</span>.Style.CSS_WEEKDAY_CELL]);
			row.appendChild(fillerCell);
		}
				
		head.appendChild(row);
	}

	<span class="reserved">this</span>.table.appendChild(head);
};

<span class="comment">/**
* Builds the calendar shell body (6 weeks by 7 days)
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.buildShellBody = <span class="reserved">function</span>() {
	<span class="comment">// This should only get executed once</span>
	<span class="reserved">this</span>.tbody = document.createElement(<span class="literal">"TBODY"</span>);

	<span class="reserved">for</span> (var r=0;r&lt;6;++r) {
		var row = document.createElement(<span class="literal">"TR"</span>);
		
		<span class="reserved">for</span> (var c=0;c&lt;<span class="reserved">this</span>.headerCell.colSpan;++c) {
			var cell;
			<span class="reserved">if</span> (<span class="reserved">this</span>.Config.Options.SHOW_WEEK_HEADER &amp;&amp; c===0) { <span class="comment">// Row header</span>
				cell = document.createElement(<span class="literal">"TH"</span>);
				<span class="reserved">this</span>.weekHeaderCells[<span class="reserved">this</span>.weekHeaderCells.length] = cell;
			} <span class="reserved">else</span> <span class="reserved">if</span> (<span class="reserved">this</span>.Config.Options.SHOW_WEEK_FOOTER &amp;&amp; c==(<span class="reserved">this</span>.headerCell.colSpan-1)){ <span class="comment">// Row footer</span>
				cell = document.createElement(<span class="literal">"TH"</span>);
				<span class="reserved">this</span>.weekFooterCells[<span class="reserved">this</span>.weekFooterCells.length] = cell;
			} <span class="reserved">else</span> {
				cell = document.createElement(<span class="literal">"TD"</span>);
				<span class="reserved">this</span>.cells[<span class="reserved">this</span>.cells.length] = cell;
				YAHOO.widget.Calendar_Core.setCssClasses(cell, [<span class="reserved">this</span>.Style.CSS_CELL]);
				YAHOO.util.Event.addListener(cell, <span class="literal">"click"</span>, <span class="reserved">this</span>.doSelectCell, <span class="reserved">this</span>);

				YAHOO.util.Event.addListener(cell, <span class="literal">"mouseover"</span>, <span class="reserved">this</span>.doCellMouseOver, <span class="reserved">this</span>);
				YAHOO.util.Event.addListener(cell, <span class="literal">"mouseout"</span>, <span class="reserved">this</span>.doCellMouseOut, <span class="reserved">this</span>);
			}
			row.appendChild(cell);
		}
		<span class="reserved">this</span>.tbody.appendChild(row);
	}
	
	<span class="reserved">this</span>.table.appendChild(<span class="reserved">this</span>.tbody);
};

<span class="comment">/**
* Builds the calendar shell footer. In the default implementation, there is
* no footer.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.buildShellFooter = <span class="reserved">function</span>() { };

<span class="comment">/**
* Outputs the calendar shell to the DOM, inserting it into the placeholder element.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderShell = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.oDomContainer.appendChild(<span class="reserved">this</span>.table);
	<span class="reserved">this</span>.shellRendered = true;
};

<span class="comment">/**
* Renders the calendar after it has been configured. The render() method has a specific call chain that will execute
* when the method is called: renderHeader, renderBody, renderFooter.
* Refer to the documentation for those methods for information on 
* individual render tasks.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.render = <span class="reserved">function</span>() {
	<span class="reserved">if</span> (! <span class="reserved">this</span>.shellRendered) {
		<span class="reserved">this</span>.buildShell();
		<span class="reserved">this</span>.renderShell();
	}

	<span class="reserved">this</span>.resetRenderers();

	<span class="reserved">this</span>.cellDates.length = 0;

	<span class="comment">// Find starting day of the current month</span>
	var workingDate = YAHOO.widget.DateMath.findMonthStart(<span class="reserved">this</span>.pageDate);

	<span class="reserved">this</span>.renderHeader();
	<span class="reserved">this</span>.renderBody(workingDate);
	<span class="reserved">this</span>.renderFooter();

	<span class="reserved">this</span>.onRender();
};



<span class="comment">/**
* Appends the header contents into the widget header.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderHeader = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.headerCell.innerHTML = <span class="literal">""</span>;
	
	var headerContainer = document.createElement(<span class="literal">"DIV"</span>);
	headerContainer.className = <span class="reserved">this</span>.Style.CSS_HEADER;
	
	headerContainer.appendChild(document.createTextNode(<span class="reserved">this</span>.buildMonthLabel()));
	
	<span class="reserved">this</span>.headerCell.appendChild(headerContainer);
};

<span class="comment">/**
* Appends the calendar body. The default implementation calculates the number of
* OOM (out of month) cells that need to be rendered at the start of the month, renders those, 
* and renders all the day cells using the built-in cell rendering methods.
*
* While iterating through all of the cells, the calendar checks for renderers in the
* local render stack that match the date of the current cell, and then applies styles
* as necessary.
* 
* <span class="attrib">@param</span> {Date}	workingDate	The current working Date object being used to generate the calendar
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderBody = <span class="reserved">function</span>(workingDate) {

	<span class="reserved">this</span>.preMonthDays = workingDate.getDay();
	<span class="reserved">if</span> (<span class="reserved">this</span>.Options.START_WEEKDAY &gt; 0) {
		<span class="reserved">this</span>.preMonthDays -= <span class="reserved">this</span>.Options.START_WEEKDAY;
	}
	<span class="reserved">if</span> (<span class="reserved">this</span>.preMonthDays &lt; 0) {
		<span class="reserved">this</span>.preMonthDays += 7;
	}
	
	<span class="reserved">this</span>.monthDays = YAHOO.widget.DateMath.findMonthEnd(workingDate).getDate();
	<span class="reserved">this</span>.postMonthDays = YAHOO.widget.Calendar_Core.DISPLAY_DAYS-<span class="reserved">this</span>.preMonthDays-<span class="reserved">this</span>.monthDays;
	
	workingDate = YAHOO.widget.DateMath.subtract(workingDate, YAHOO.widget.DateMath.DAY, <span class="reserved">this</span>.preMonthDays);
	
	var weekRowIndex = 0;
	
	<span class="reserved">for</span> (var c=0;c&lt;<span class="reserved">this</span>.cells.length;++c) {
		var cellRenderers = new Array();
		
		var cell = <span class="reserved">this</span>.cells[c];
		<span class="reserved">this</span>.clearElement(cell);

		cell.index = c;
		cell.id = <span class="reserved">this</span>.id + <span class="literal">"_cell"</span> + c;
		
		<span class="reserved">this</span>.cellDates[<span class="reserved">this</span>.cellDates.length]=[workingDate.getFullYear(),workingDate.getMonth()+1,workingDate.getDate()]; <span class="comment">// Add this date to cellDates</span>

		<span class="reserved">if</span> (workingDate.getDay() == <span class="reserved">this</span>.Options.START_WEEKDAY) {
			var rowHeaderCell = null;
			var rowFooterCell = null;
			
			<span class="reserved">if</span> (<span class="reserved">this</span>.Options.SHOW_WEEK_HEADER) {
				rowHeaderCell = <span class="reserved">this</span>.weekHeaderCells[weekRowIndex];
				<span class="reserved">this</span>.clearElement(rowHeaderCell);
			}
			
			<span class="reserved">if</span> (<span class="reserved">this</span>.Options.SHOW_WEEK_FOOTER) {
				rowFooterCell = <span class="reserved">this</span>.weekFooterCells[weekRowIndex];
				<span class="reserved">this</span>.clearElement(rowFooterCell);
			}			
			
			<span class="reserved">if</span> (<span class="reserved">this</span>.Options.HIDE_BLANK_WEEKS &amp;&amp; <span class="reserved">this</span>.isDateOOM(workingDate) &amp;&amp; ! YAHOO.widget.DateMath.isMonthOverlapWeek(workingDate)) {
				<span class="comment">// The first day of the week is not in this month, and it's not an overlap week</span>
				continue;
			} <span class="reserved">else</span> {
				<span class="reserved">if</span> (rowHeaderCell) {
					<span class="reserved">this</span>.renderRowHeader(workingDate, rowHeaderCell);
				}
				<span class="reserved">if</span> (rowFooterCell) {
					<span class="reserved">this</span>.renderRowFooter(workingDate, rowFooterCell);
				}	
			}
		}

		

		var renderer = null;
		
		<span class="reserved">if</span> (workingDate.getFullYear()	== <span class="reserved">this</span>.today.getFullYear() &amp;&amp;
			workingDate.getMonth()		== <span class="reserved">this</span>.today.getMonth() &amp;&amp;
			workingDate.getDate()		== <span class="reserved">this</span>.today.getDate()) {
			cellRenderers[cellRenderers.length]=<span class="reserved">this</span>.renderCellStyleToday;
		}
		
		<span class="reserved">if</span> (<span class="reserved">this</span>.isDateOOM(workingDate)) {
			cellRenderers[cellRenderers.length]=<span class="reserved">this</span>.renderCellNotThisMonth;
		} <span class="reserved">else</span> {
			<span class="reserved">for</span> (var r=0;r&lt;<span class="reserved">this</span>.renderStack.length;++r) {
				var rArray = <span class="reserved">this</span>.renderStack[r];
				var type = rArray[0];
				
				var month;
				var day;
				var year;

				switch (type) {
					case YAHOO.widget.Calendar_Core.DATE:
						month = rArray[1][1];
						day = rArray[1][2];
						year = rArray[1][0];

						<span class="reserved">if</span> (workingDate.getMonth()+1 == month &amp;&amp; workingDate.getDate() == day &amp;&amp; workingDate.getFullYear() == year) {
							renderer = rArray[2];
							<span class="reserved">this</span>.renderStack.splice(r,1);
						}
						break;
					case YAHOO.widget.Calendar_Core.MONTH_DAY:
						month = rArray[1][0];
						day = rArray[1][1];
						
						<span class="reserved">if</span> (workingDate.getMonth()+1 == month &amp;&amp; workingDate.getDate() == day) {
							renderer = rArray[2];
							<span class="reserved">this</span>.renderStack.splice(r,1);
						}
						break;
					case YAHOO.widget.Calendar_Core.RANGE:
						var date1 = rArray[1][0];
						var date2 = rArray[1][1];

						var d1month = date1[1];
						var d1day = date1[2];
						var d1year = date1[0];
						
						var d1 = new Date(d1year, d1month-1, d1day);

						var d2month = date2[1];
						var d2day = date2[2];
						var d2year = date2[0];

						var d2 = new Date(d2year, d2month-1, d2day);

						<span class="reserved">if</span> (workingDate.getTime() &gt;= d1.getTime() &amp;&amp; workingDate.getTime() &lt;= d2.getTime()) {
							renderer = rArray[2];

							<span class="reserved">if</span> (workingDate.getTime()==d2.getTime()) { 
								<span class="reserved">this</span>.renderStack.splice(r,1);
							}
						}
						break;
					case YAHOO.widget.Calendar_Core.WEEKDAY:
						
						var weekday = rArray[1][0];
						<span class="reserved">if</span> (workingDate.getDay()+1 == weekday) {
							renderer = rArray[2];
						}
						break;
					case YAHOO.widget.Calendar_Core.MONTH:
						
						month = rArray[1][0];
						<span class="reserved">if</span> (workingDate.getMonth()+1 == month) {
							renderer = rArray[2];
						}
						break;
				}
				
				<span class="reserved">if</span> (renderer) {
					cellRenderers[cellRenderers.length]=renderer;
				}
			}

		}

		<span class="reserved">if</span> (<span class="reserved">this</span>._indexOfSelectedFieldArray([workingDate.getFullYear(),workingDate.getMonth()+1,workingDate.getDate()]) &gt; -1) {
			cellRenderers[cellRenderers.length]=<span class="reserved">this</span>.renderCellStyleSelected; 
		}

		<span class="reserved">if</span> (<span class="reserved">this</span>.minDate) {
			<span class="reserved">this</span>.minDate = YAHOO.widget.DateMath.clearTime(<span class="reserved">this</span>.minDate);
		}
		<span class="reserved">if</span> (<span class="reserved">this</span>.maxDate) {
			<span class="reserved">this</span>.maxDate = YAHOO.widget.DateMath.clearTime(<span class="reserved">this</span>.maxDate);
		}

		<span class="reserved">if</span> (
			(<span class="reserved">this</span>.minDate &amp;&amp; (workingDate.getTime() &lt; <span class="reserved">this</span>.minDate.getTime())) ||
			(<span class="reserved">this</span>.maxDate &amp;&amp; (workingDate.getTime() &gt; <span class="reserved">this</span>.maxDate.getTime()))
		) {
			cellRenderers[cellRenderers.length]=<span class="reserved">this</span>.renderOutOfBoundsDate;
		} <span class="reserved">else</span> {
			cellRenderers[cellRenderers.length]=<span class="reserved">this</span>.renderCellDefault;	
		}
		
		<span class="reserved">for</span> (var x=0;x&lt;cellRenderers.length;++x) {
			var ren = cellRenderers[x];
			<span class="reserved">if</span> (ren.call(<span class="reserved">this</span>,workingDate,cell) == YAHOO.widget.Calendar_Core.STOP_RENDER) {
				break;
			}
		}
		
		workingDate = YAHOO.widget.DateMath.add(workingDate, YAHOO.widget.DateMath.DAY, 1); <span class="comment">// Go to the next day</span>
		<span class="reserved">if</span> (workingDate.getDay() == <span class="reserved">this</span>.Options.START_WEEKDAY) {
			weekRowIndex += 1;
		}

		YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL);

		<span class="reserved">if</span> (c &gt;= 0 &amp;&amp; c &lt;= 6) {
			YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_TOP);
		}
		<span class="reserved">if</span> ((c % 7) == 0) {
			YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_LEFT);
		}
		<span class="reserved">if</span> (((c+1) % 7) == 0) {
			YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_RIGHT);
		}
		
		var postDays = <span class="reserved">this</span>.postMonthDays; 
		<span class="reserved">if</span> (postDays &gt;= 7 &amp;&amp; <span class="reserved">this</span>.Options.HIDE_BLANK_WEEKS) {
			var blankWeeks = Math.floor(postDays/7);
			<span class="reserved">for</span> (var p=0;p&lt;blankWeeks;++p) {
				postDays -= 7;
			}
		}
		
		<span class="reserved">if</span> (c &gt;= ((<span class="reserved">this</span>.preMonthDays+postDays+<span class="reserved">this</span>.monthDays)-7)) {
			YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_BOTTOM);
		}
	}
		
};

<span class="comment">/**
* Appends the contents of the calendar widget footer into the shell. By default, 
* the calendar does not contain a footer, and this method must be implemented by 
* subclassing the widget.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderFooter = <span class="reserved">function</span>() { };

<span class="comment">/**
* <span class="attrib">@private</span>
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>._unload = <span class="reserved">function</span>(e, cal) {
	<span class="reserved">for</span> (var c in cal.cells) {
		c = null;
	}
	
	cal.cells = null;
	
	cal.tbody = null;
	cal.oDomContainer = null;
	cal.table = null;
	cal.headerCell = null;
	
	cal = null;
};
												  
												  
<span class="comment">/****************** BEGIN BUILT-IN TABLE CELL RENDERERS ************************************/</span>

YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderOutOfBoundsDate = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_OOB);
	cell.innerHTML = workingDate.getDate();
	<span class="reserved">return</span> YAHOO.widget.Calendar_Core.STOP_RENDER;
}

<span class="comment">/**
* Renders the row header for a week. The date passed in should be
* the first date of the given week.
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object (beginning of the week) being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderRowHeader = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_ROW_HEADER);
	
	var useYear = <span class="reserved">this</span>.pageDate.getFullYear();
	
	<span class="reserved">if</span> (! YAHOO.widget.DateMath.isYearOverlapWeek(workingDate)) {
		useYear = workingDate.getFullYear();
	}
	
	var weekNum = YAHOO.widget.DateMath.getWeekNumber(workingDate, useYear, <span class="reserved">this</span>.Options.START_WEEKDAY);
	cell.innerHTML = weekNum;
	
	<span class="reserved">if</span> (<span class="reserved">this</span>.isDateOOM(workingDate) &amp;&amp; ! YAHOO.widget.DateMath.isMonthOverlapWeek(workingDate)) {
		YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_OOM);	
	}
};

<span class="comment">/**
* Renders the row footer for a week. The date passed in should be
* the first date of the given week.
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object (beginning of the week) being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderRowFooter = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_ROW_FOOTER);
	
	<span class="reserved">if</span> (<span class="reserved">this</span>.isDateOOM(workingDate) &amp;&amp; ! YAHOO.widget.DateMath.isMonthOverlapWeek(workingDate)) {
		YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_OOM);	
	}
};

<span class="comment">/**
* Renders a single standard calendar cell in the calendar widget table.
* All logic for determining how a standard default cell will be rendered is 
* encapsulated in this method, and must be accounted for when extending the
* widget class.
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
* <span class="attrib">@return</span> YAHOO.widget.Calendar_Core.STOP_RENDER if rendering should stop with this style, null or nothing if rendering
*			should not be terminated
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderCellDefault = <span class="reserved">function</span>(workingDate, cell) {
	cell.innerHTML = <span class="literal">""</span>;
	var link = document.createElement(<span class="literal">"a"</span>);

	link.href=<span class="literal">"javascript:void(null);"</span>;
	link.name=<span class="reserved">this</span>.id+<span class="literal">"__"</span>+workingDate.getFullYear()+<span class="literal">"_"</span>+(workingDate.getMonth()+1)+<span class="literal">"_"</span>+workingDate.getDate();

	link.appendChild(document.createTextNode(<span class="reserved">this</span>.buildDayLabel(workingDate)));
	cell.appendChild(link);
};

<span class="comment">/**
* Renders a single standard calendar cell using the CSS hightlight1 style
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
* <span class="attrib">@return</span> YAHOO.widget.Calendar_Core.STOP_RENDER if rendering should stop with this style, null or nothing if rendering
*			should not be terminated
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderCellStyleHighlight1 = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_HIGHLIGHT1);
};

<span class="comment">/**
* Renders a single standard calendar cell using the CSS hightlight2 style
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
* <span class="attrib">@return</span> YAHOO.widget.Calendar_Core.STOP_RENDER if rendering should stop with this style, null or nothing if rendering
*			should not be terminated
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderCellStyleHighlight2 = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_HIGHLIGHT2);
};

<span class="comment">/**
* Renders a single standard calendar cell using the CSS hightlight3 style
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
* <span class="attrib">@return</span> YAHOO.widget.Calendar_Core.STOP_RENDER if rendering should stop with this style, null or nothing if rendering
*			should not be terminated
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderCellStyleHighlight3 = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_HIGHLIGHT3);
};

<span class="comment">/**
* Renders a single standard calendar cell using the CSS hightlight4 style
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
* <span class="attrib">@return</span> YAHOO.widget.Calendar_Core.STOP_RENDER if rendering should stop with this style, null or nothing if rendering
*			should not be terminated
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderCellStyleHighlight4 = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_HIGHLIGHT4);
};

<span class="comment">/**
* Applies the default style used for rendering today's date to the current calendar cell
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
* <span class="attrib">@return</span>	YAHOO.widget.Calendar_Core.STOP_RENDER if rendering should stop with this style, null or nothing if rendering
*			should not be terminated
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderCellStyleToday = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_TODAY);
};

<span class="comment">/**
* Applies the default style used for rendering selected dates to the current calendar cell
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
* <span class="attrib">@return</span>	YAHOO.widget.Calendar_Core.STOP_RENDER if rendering should stop with this style, null or nothing if rendering
*			should not be terminated
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderCellStyleSelected = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_SELECTED);
};

<span class="comment">/**
* Applies the default style used for rendering dates that are not a part of the current
* month (preceding or trailing the cells for the current month)
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
* <span class="attrib">@return</span>	YAHOO.widget.Calendar_Core.STOP_RENDER if rendering should stop with this style, null or nothing if rendering
*			should not be terminated
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderCellNotThisMonth = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.util.Dom.addClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_OOM);
	cell.innerHTML=workingDate.getDate();
	<span class="reserved">return</span> YAHOO.widget.Calendar_Core.STOP_RENDER;
};

<span class="comment">/**
* Renders the current calendar cell as a non-selectable "black-out" date using the default
* restricted style.
* <span class="attrib">@param</span> {Date}					workingDate		The current working Date object being used to generate the calendar
* <span class="attrib">@param</span> {HTMLTableCellElement}	cell			The current working cell in the calendar
* <span class="attrib">@return</span>	YAHOO.widget.Calendar_Core.STOP_RENDER if rendering should stop with this style, null or nothing if rendering
*			should not be terminated
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.renderBodyCellRestricted = <span class="reserved">function</span>(workingDate, cell) {
	YAHOO.widget.Calendar_Core.setCssClasses(cell, [<span class="reserved">this</span>.Style.CSS_CELL,<span class="reserved">this</span>.Style.CSS_CELL_RESTRICTED]);
	cell.innerHTML=workingDate.getDate();
	<span class="reserved">return</span> YAHOO.widget.Calendar_Core.STOP_RENDER;
};
<span class="comment">/******************** END BUILT-IN TABLE CELL RENDERERS ************************************/</span>

<span class="comment">/******************** BEGIN MONTH NAVIGATION METHODS ************************************/</span>
<span class="comment">/**
* Adds the designated number of months to the current calendar month, and sets the current
* calendar page date to the new month.
* <span class="attrib">@param</span> {Integer}	count	The number of months to add to the current calendar
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.addMonths = <span class="reserved">function</span>(count) {
	<span class="reserved">this</span>.pageDate = YAHOO.widget.DateMath.add(<span class="reserved">this</span>.pageDate, YAHOO.widget.DateMath.MONTH, count);
	<span class="reserved">this</span>.resetRenderers();
	<span class="reserved">this</span>.onChangePage();
};

<span class="comment">/**
* Subtracts the designated number of months from the current calendar month, and sets the current
* calendar page date to the new month.
* <span class="attrib">@param</span> {Integer}	count	The number of months to subtract from the current calendar
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.subtractMonths = <span class="reserved">function</span>(count) {
	<span class="reserved">this</span>.pageDate = YAHOO.widget.DateMath.subtract(<span class="reserved">this</span>.pageDate, YAHOO.widget.DateMath.MONTH, count);
	<span class="reserved">this</span>.resetRenderers();
	<span class="reserved">this</span>.onChangePage();
};

<span class="comment">/**
* Adds the designated number of years to the current calendar, and sets the current
* calendar page date to the new month.
* <span class="attrib">@param</span> {Integer}	count	The number of years to add to the current calendar
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.addYears = <span class="reserved">function</span>(count) {
	<span class="reserved">this</span>.pageDate = YAHOO.widget.DateMath.add(<span class="reserved">this</span>.pageDate, YAHOO.widget.DateMath.YEAR, count);
	<span class="reserved">this</span>.resetRenderers();
	<span class="reserved">this</span>.onChangePage();
};

<span class="comment">/**
* Subtcats the designated number of years from the current calendar, and sets the current
* calendar page date to the new month.
* <span class="attrib">@param</span> {Integer}	count	The number of years to subtract from the current calendar
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.subtractYears = <span class="reserved">function</span>(count) {
	<span class="reserved">this</span>.pageDate = YAHOO.widget.DateMath.subtract(<span class="reserved">this</span>.pageDate, YAHOO.widget.DateMath.YEAR, count);
	<span class="reserved">this</span>.resetRenderers();
	<span class="reserved">this</span>.onChangePage();
};

<span class="comment">/**
* Navigates to the next month page in the calendar widget.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.nextMonth = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.addMonths(1);
};

<span class="comment">/**
* Navigates to the previous month page in the calendar widget.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.previousMonth = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.subtractMonths(1);
};

<span class="comment">/**
* Navigates to the next year in the currently selected month in the calendar widget.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.nextYear = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.addYears(1);
};

<span class="comment">/**
* Navigates to the previous year in the currently selected month in the calendar widget.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.previousYear = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.subtractYears(1);
};

<span class="comment">/****************** END MONTH NAVIGATION METHODS ************************************/</span>

<span class="comment">/************* BEGIN SELECTION METHODS *************************************************************/</span>

<span class="comment">/**
* Resets the calendar widget to the originally selected month and year, and 
* sets the calendar to the initial selection(s).
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.reset = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.selectedDates.length = 0;
	<span class="reserved">this</span>.selectedDates = <span class="reserved">this</span>._selectedDates.concat();

	<span class="reserved">this</span>.pageDate = new Date(<span class="reserved">this</span>._pageDate.getTime());
	<span class="reserved">this</span>.onReset();
};

<span class="comment">/**
* Clears the selected dates in the current calendar widget and sets the calendar
* to the current month and year.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.clear = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.selectedDates.length = 0;
	<span class="reserved">this</span>.pageDate = new Date(<span class="reserved">this</span>.today.getTime());
	<span class="reserved">this</span>.onClear();
};

<span class="comment">/**
* Selects a date or a collection of dates on the current calendar. This method, by default,
* does not call the render method explicitly. Once selection has completed, render must be 
* called for the changes to be reflected visually.
* <span class="attrib">@param</span>	{String/Date/Date[]}	date	The date string of dates to select in the current calendar. Valid formats are
*								individual date(s) (12/24/2005,12/26/2005) or date range(s) (12/24/2005-1/1/2006).
*								Multiple comma-delimited dates can also be passed to this method (12/24/2005,12/11/2005-12/13/2005).
*								This method can also take a JavaScript Date object or an array of Date objects.
* <span class="attrib">@return</span>						Array of JavaScript Date objects representing all individual dates that are currently selected.
* <span class="attrib">@type</span> Date[]
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.select = <span class="reserved">function</span>(date) {
	<span class="reserved">this</span>.onBeforeSelect();

	var aToBeSelected = <span class="reserved">this</span>._toFieldArray(date);

	<span class="reserved">for</span> (var a=0;a&lt;aToBeSelected.length;++a) {
		var toSelect = aToBeSelected[a]; <span class="comment">// For each date item in the list of dates we're trying to select</span>
		<span class="reserved">if</span> (<span class="reserved">this</span>._indexOfSelectedFieldArray(toSelect) == -1) { <span class="comment">// not already selected?</span>
			<span class="reserved">this</span>.selectedDates[<span class="reserved">this</span>.selectedDates.length]=toSelect;
		}
	}
	
	<span class="reserved">if</span> (<span class="reserved">this</span>.parent) {
		<span class="reserved">this</span>.parent.sync(<span class="reserved">this</span>);
	}

	<span class="reserved">this</span>.onSelect(aToBeSelected);

	<span class="reserved">return</span> <span class="reserved">this</span>.getSelectedDates();
};

<span class="comment">/**
* Selects a date on the current calendar by referencing the index of the cell that should be selected.
* This method is used to easily select a single cell (usually with a mouse click) without having to do
* a full render. The selected style is applied to the cell directly.
* <span class="attrib">@param</span>	{Integer}	cellIndex	The index of the cell to select in the current calendar. 
* <span class="attrib">@return</span>							Array of JavaScript Date objects representing all individual dates that are currently selected.
* <span class="attrib">@type</span> Date[]
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.selectCell = <span class="reserved">function</span>(cellIndex) {
	<span class="reserved">this</span>.onBeforeSelect();

	<span class="reserved">this</span>.cells = <span class="reserved">this</span>.tbody.getElementsByTagName(<span class="literal">"TD"</span>);

	var cell = <span class="reserved">this</span>.cells[cellIndex];
	var cellDate = <span class="reserved">this</span>.cellDates[cellIndex];

	var dCellDate = <span class="reserved">this</span>._toDate(cellDate);

	var selectDate = cellDate.concat();

	<span class="reserved">this</span>.selectedDates.push(selectDate);
	
	<span class="reserved">if</span> (<span class="reserved">this</span>.parent) {
		<span class="reserved">this</span>.parent.sync(<span class="reserved">this</span>);
	}

	<span class="reserved">this</span>.renderCellStyleSelected(dCellDate,cell);

	<span class="reserved">this</span>.onSelect([selectDate]);
	<span class="reserved">this</span>.doCellMouseOut.call(cell, null, <span class="reserved">this</span>);

	<span class="reserved">return</span> <span class="reserved">this</span>.getSelectedDates();
};

<span class="comment">/**
* Deselects a date or a collection of dates on the current calendar. This method, by default,
* does not call the render method explicitly. Once deselection has completed, render must be 
* called for the changes to be reflected visually.
* <span class="attrib">@param</span>	{String/Date/Date[]}	date	The date string of dates to deselect in the current calendar. Valid formats are
*								individual date(s) (12/24/2005,12/26/2005) or date range(s) (12/24/2005-1/1/2006).
*								Multiple comma-delimited dates can also be passed to this method (12/24/2005,12/11/2005-12/13/2005).
*								This method can also take a JavaScript Date object or an array of Date objects.	
* <span class="attrib">@return</span>						Array of JavaScript Date objects representing all individual dates that are currently selected.
* <span class="attrib">@type</span> Date[]
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.deselect = <span class="reserved">function</span>(date) {
	<span class="reserved">this</span>.onBeforeDeselect();

	var aToBeSelected = <span class="reserved">this</span>._toFieldArray(date);

	<span class="reserved">for</span> (var a=0;a&lt;aToBeSelected.length;++a) {
		var toSelect = aToBeSelected[a]; <span class="comment">// For each date item in the list of dates we're trying to select</span>
		var index = <span class="reserved">this</span>._indexOfSelectedFieldArray(toSelect);
	
		<span class="reserved">if</span> (index != -1) {	
			<span class="reserved">this</span>.selectedDates.splice(index,1);
		}
	}

	<span class="reserved">if</span> (<span class="reserved">this</span>.parent) {
		<span class="reserved">this</span>.parent.sync(<span class="reserved">this</span>);
	} 

	<span class="reserved">this</span>.onDeselect(aToBeSelected);
	<span class="reserved">return</span> <span class="reserved">this</span>.getSelectedDates();
};

<span class="comment">/**
* Deselects a date on the current calendar by referencing the index of the cell that should be deselected.
* This method is used to easily deselect a single cell (usually with a mouse click) without having to do
* a full render. The selected style is removed from the cell directly.
* <span class="attrib">@param</span>	{Integer}	cellIndex	The index of the cell to deselect in the current calendar. 
* <span class="attrib">@return</span>							Array of JavaScript Date objects representing all individual dates that are currently selected.
* <span class="attrib">@type</span> Date[]
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.deselectCell = <span class="reserved">function</span>(i) {
	<span class="reserved">this</span>.onBeforeDeselect();
	<span class="reserved">this</span>.cells = <span class="reserved">this</span>.tbody.getElementsByTagName(<span class="literal">"TD"</span>);

	var cell = <span class="reserved">this</span>.cells[i];
	var cellDate = <span class="reserved">this</span>.cellDates[i];
	var cellDateIndex = <span class="reserved">this</span>._indexOfSelectedFieldArray(cellDate);

	var dCellDate = <span class="reserved">this</span>._toDate(cellDate);

	var selectDate = cellDate.concat();

	<span class="reserved">if</span> (cellDateIndex &gt; -1) {
		<span class="reserved">if</span> (<span class="reserved">this</span>.pageDate.getMonth() == dCellDate.getMonth() &amp;&amp;
			<span class="reserved">this</span>.pageDate.getFullYear() == dCellDate.getFullYear()) {
			YAHOO.util.Dom.removeClass(cell, <span class="reserved">this</span>.Style.CSS_CELL_SELECTED);
		}

		<span class="reserved">this</span>.selectedDates.splice(cellDateIndex, 1);
	}


	<span class="reserved">if</span> (<span class="reserved">this</span>.parent) {
		<span class="reserved">this</span>.parent.sync(<span class="reserved">this</span>);
	}

	<span class="reserved">this</span>.onDeselect(selectDate);
	<span class="reserved">return</span> <span class="reserved">this</span>.getSelectedDates();
};

<span class="comment">/**
* Deselects all dates on the current calendar.
* <span class="attrib">@return</span>				Array of JavaScript Date objects representing all individual dates that are currently selected.
*						Assuming that this function executes properly, the return value should be an empty array.
*						However, the empty array is returned for the sake of being able to check the selection status
*						of the calendar.
* <span class="attrib">@type</span> Date[]
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.deselectAll = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.onBeforeDeselect();
	var count = <span class="reserved">this</span>.selectedDates.length;
	var sel = <span class="reserved">this</span>.selectedDates.concat();
	<span class="reserved">this</span>.selectedDates.length = 0;

	<span class="reserved">if</span> (<span class="reserved">this</span>.parent) {
		<span class="reserved">this</span>.parent.sync(<span class="reserved">this</span>);
	}
	
	<span class="reserved">if</span> (count &gt; 0) {
		<span class="reserved">this</span>.onDeselect(sel);
	}

	<span class="reserved">return</span> <span class="reserved">this</span>.getSelectedDates();
};
<span class="comment">/************* END SELECTION METHODS *************************************************************/</span>


<span class="comment">/************* BEGIN TYPE CONVERSION METHODS ****************************************************/</span>

<span class="comment">/**
* Converts a date (either a JavaScript Date object, or a date string) to the internal data structure
* used to represent dates: [[yyyy,mm,dd],[yyyy,mm,dd]].
* <span class="attrib">@private</span>
* <span class="attrib">@param</span>	{String/Date/Date[]}	date	The date string of dates to deselect in the current calendar. Valid formats are
*								individual date(s) (12/24/2005,12/26/2005) or date range(s) (12/24/2005-1/1/2006).
*								Multiple comma-delimited dates can also be passed to this method (12/24/2005,12/11/2005-12/13/2005).
*								This method can also take a JavaScript Date object or an array of Date objects.	
* <span class="attrib">@return</span>						Array of date field arrays
* <span class="attrib">@type</span> Array[](Integer[])
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>._toFieldArray = <span class="reserved">function</span>(date) {
	var returnDate = new Array();

	<span class="reserved">if</span> (date instanceof Date) {
		returnDate = [[date.getFullYear(), date.getMonth()+1, date.getDate()]];
	} <span class="reserved">else</span> <span class="reserved">if</span> (typeof date == <span class="literal">'string'</span>) {
		returnDate = <span class="reserved">this</span>._parseDates(date);
	} <span class="reserved">else</span> <span class="reserved">if</span> (date instanceof Array) {
		<span class="reserved">for</span> (var i=0;i&lt;date.length;++i) {
			var d = date[i];
			returnDate[returnDate.length] = [d.getFullYear(),d.getMonth()+1,d.getDate()];
		}
	}
	
	<span class="reserved">return</span> returnDate;
};

<span class="comment">/**
* Converts a date field array [yyyy,mm,dd] to a JavaScript Date object.
* <span class="attrib">@private</span>
* <span class="attrib">@param</span>	{Integer[]}		dateFieldArray	The date field array to convert to a JavaScript Date.
* <span class="attrib">@return</span>					JavaScript Date object representing the date field array
* <span class="attrib">@type</span> Date
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>._toDate = <span class="reserved">function</span>(dateFieldArray) {
	<span class="reserved">if</span> (dateFieldArray instanceof Date) {
		<span class="reserved">return</span> dateFieldArray;
	} <span class="reserved">else</span> {
		<span class="reserved">return</span> new Date(dateFieldArray[0],dateFieldArray[1]-1,dateFieldArray[2]);
	}
};
<span class="comment">/************* END TYPE CONVERSION METHODS ******************************************************/</span>


<span class="comment">/************* BEGIN UTILITY METHODS ****************************************************/</span>
<span class="comment">/**
* Converts a date field array [yyyy,mm,dd] to a JavaScript Date object.
* <span class="attrib">@private</span>
* <span class="attrib">@param</span>	{Integer[]}	array1	The first date field array to compare
* <span class="attrib">@param</span>	{Integer[]}	array2	The first date field array to compare
* <span class="attrib">@return</span>						The boolean that represents the equality of the two arrays
* <span class="attrib">@type</span> Boolean
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>._fieldArraysAreEqual = <span class="reserved">function</span>(array1, array2) {
	var match = false;

	<span class="reserved">if</span> (array1[0]==array2[0]&amp;&amp;array1[1]==array2[1]&amp;&amp;array1[2]==array2[2]) {
		match=true;	
	}

	<span class="reserved">return</span> match;
};

<span class="comment">/**
* Gets the index of a date field array [yyyy,mm,dd] in the current list of selected dates.
* <span class="attrib">@private</span>
* <span class="attrib">@param</span>	{Integer[]}		find	The date field array to search for
* <span class="attrib">@return</span>					The index of the date field array within the collection of selected dates.
*								-1 will be returned if the date is not found.
* <span class="attrib">@type</span> Integer
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>._indexOfSelectedFieldArray = <span class="reserved">function</span>(find) {
	var selected = -1;

	<span class="reserved">for</span> (var s=0;s&lt;<span class="reserved">this</span>.selectedDates.length;++s) {
		var sArray = <span class="reserved">this</span>.selectedDates[s];
		<span class="reserved">if</span> (find[0]==sArray[0]&amp;&amp;find[1]==sArray[1]&amp;&amp;find[2]==sArray[2]) {
			selected = s;
			break;
		}
	}

	<span class="reserved">return</span> selected;
};

<span class="comment">/**
* Determines whether a given date is OOM (out of month).
* <span class="attrib">@param</span>	{Date}	date	The JavaScript Date object for which to check the OOM status
* <span class="attrib">@return</span>	{Boolean}	true if the date is OOM
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.isDateOOM = <span class="reserved">function</span>(date) {
	var isOOM = false;
	<span class="reserved">if</span> (date.getMonth() != <span class="reserved">this</span>.pageDate.getMonth()) {
		isOOM = true;
	}
	<span class="reserved">return</span> isOOM;
};

<span class="comment">/************* END UTILITY METHODS *******************************************************/</span>

<span class="comment">/************* BEGIN EVENT HANDLERS ******************************************************/</span>

<span class="comment">/**
* Event executed before a date is selected in the calendar widget.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.onBeforeSelect = <span class="reserved">function</span>() {
	<span class="reserved">if</span> (! <span class="reserved">this</span>.Options.MULTI_SELECT) {
		<span class="reserved">this</span>.clearAllBodyCellStyles(<span class="reserved">this</span>.Style.CSS_CELL_SELECTED);
		<span class="reserved">this</span>.deselectAll();
	}
};

<span class="comment">/**
* Event executed when a date is selected in the calendar widget.
* <span class="attrib">@param</span>	{Array}	selected	An array of date field arrays representing which date or dates were selected. Example: [ [2006,8,6],[2006,8,7],[2006,8,8] ]
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.onSelect = <span class="reserved">function</span>(selected) { };

<span class="comment">/**
* Event executed before a date is deselected in the calendar widget.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.onBeforeDeselect = <span class="reserved">function</span>() { };

<span class="comment">/**
* Event executed when a date is deselected in the calendar widget.
* <span class="attrib">@param</span>	{Array}	selected	An array of date field arrays representing which date or dates were deselected. Example: [ [2006,8,6],[2006,8,7],[2006,8,8] ]
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.onDeselect = <span class="reserved">function</span>(deselected) { };

<span class="comment">/**
* Event executed when the user navigates to a different calendar page.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.onChangePage = <span class="reserved">function</span>() {
		var me = <span class="reserved">this</span>;

		<span class="reserved">this</span>.renderHeader();
		<span class="reserved">if</span> (<span class="reserved">this</span>.renderProcId) {
			clearTimeout(<span class="reserved">this</span>.renderProcId);
		}
		<span class="reserved">this</span>.renderProcId = setTimeout(<span class="reserved">function</span>() {
											me.render();
											me.renderProcId = null;
										}, 1);
};

<span class="comment">/**
* Event executed when the calendar widget is rendered.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.onRender = <span class="reserved">function</span>() { };

<span class="comment">/**
* Event executed when the calendar widget is reset to its original state.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.onReset = <span class="reserved">function</span>() { <span class="reserved">this</span>.render(); };

<span class="comment">/**
* Event executed when the calendar widget is completely cleared to the current month with no selections.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.onClear = <span class="reserved">function</span>() { <span class="reserved">this</span>.render(); };

<span class="comment">/**
* Validates the calendar widget. This method has no default implementation
* and must be extended by subclassing the widget.
* <span class="attrib">@return</span>	Should return true if the widget validates, and false if
* it doesn't.
* <span class="attrib">@type</span> Boolean
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.validate = <span class="reserved">function</span>() { <span class="reserved">return</span> true; };

<span class="comment">/************* END EVENT HANDLERS *********************************************************/</span>


<span class="comment">/************* BEGIN DATE PARSE METHODS ***************************************************/</span>


<span class="comment">/**
* Converts a date string to a date field array
* <span class="attrib">@private</span>
* <span class="attrib">@param</span>	{String}	sDate			Date string. Valid formats are mm/dd and mm/dd/yyyy.
* <span class="attrib">@return</span>				A date field array representing the string passed to the method
* <span class="attrib">@type</span> Array[](Integer[])
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>._parseDate = <span class="reserved">function</span>(sDate) {
	var aDate = sDate.split(<span class="reserved">this</span>.Locale.DATE_FIELD_DELIMITER);
	var rArray;

	<span class="reserved">if</span> (aDate.length == 2) {
		rArray = [aDate[<span class="reserved">this</span>.Locale.MD_MONTH_POSITION-1],aDate[<span class="reserved">this</span>.Locale.MD_DAY_POSITION-1]];
		rArray.type = YAHOO.widget.Calendar_Core.MONTH_DAY;
	} <span class="reserved">else</span> {
		rArray = [aDate[<span class="reserved">this</span>.Locale.MDY_YEAR_POSITION-1],aDate[<span class="reserved">this</span>.Locale.MDY_MONTH_POSITION-1],aDate[<span class="reserved">this</span>.Locale.MDY_DAY_POSITION-1]];
		rArray.type = YAHOO.widget.Calendar_Core.DATE;
	}
	<span class="reserved">return</span> rArray;
};

<span class="comment">/**
* Converts a multi or single-date string to an array of date field arrays
* <span class="attrib">@private</span>
* <span class="attrib">@param</span>	{String}	sDates		Date string with one or more comma-delimited dates. Valid formats are mm/dd, mm/dd/yyyy, mm/dd/yyyy-mm/dd/yyyy
* <span class="attrib">@return</span>							An array of date field arrays
* <span class="attrib">@type</span> Array[](Integer[])
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>._parseDates = <span class="reserved">function</span>(sDates) {
	var aReturn = new Array();

	var aDates = sDates.split(<span class="reserved">this</span>.Locale.DATE_DELIMITER);
	
	<span class="reserved">for</span> (var d=0;d&lt;aDates.length;++d) {
		var sDate = aDates[d];

		<span class="reserved">if</span> (sDate.indexOf(<span class="reserved">this</span>.Locale.DATE_RANGE_DELIMITER) != -1) {
			<span class="comment">// This is a range</span>
			var aRange = sDate.split(<span class="reserved">this</span>.Locale.DATE_RANGE_DELIMITER);

			var dateStart = <span class="reserved">this</span>._parseDate(aRange[0]);
			var dateEnd = <span class="reserved">this</span>._parseDate(aRange[1]);

			var fullRange = <span class="reserved">this</span>._parseRange(dateStart, dateEnd);
			aReturn = aReturn.concat(fullRange);
		} <span class="reserved">else</span> {
			<span class="comment">// This is not a range</span>
			var aDate = <span class="reserved">this</span>._parseDate(sDate);
			aReturn.push(aDate);
		}
	}
	<span class="reserved">return</span> aReturn;
};

<span class="comment">/**
* Converts a date range to the full list of included dates
* <span class="attrib">@private</span>
* <span class="attrib">@param</span>	{Integer[]}	startDate	Date field array representing the first date in the range
* <span class="attrib">@param</span>	{Integer[]}	endDate		Date field array representing the last date in the range
* <span class="attrib">@return</span>							An array of date field arrays
* <span class="attrib">@type</span> Array[](Integer[])
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>._parseRange = <span class="reserved">function</span>(startDate, endDate) {
	var dStart   = new Date(startDate[0],startDate[1]-1,startDate[2]);
	var dCurrent = YAHOO.widget.DateMath.add(new Date(startDate[0],startDate[1]-1,startDate[2]),YAHOO.widget.DateMath.DAY,1);
	var dEnd     = new Date(endDate[0],  endDate[1]-1,  endDate[2]);

	var results = new Array();
	results.push(startDate);
	<span class="reserved">while</span> (dCurrent.getTime() &lt;= dEnd.getTime()) {
		results.push([dCurrent.getFullYear(),dCurrent.getMonth()+1,dCurrent.getDate()]);
		dCurrent = YAHOO.widget.DateMath.add(dCurrent,YAHOO.widget.DateMath.DAY,1);
	}
	<span class="reserved">return</span> results;
};

<span class="comment">/************* END DATE PARSE METHODS *****************************************************/</span>

<span class="comment">/************* BEGIN RENDERER METHODS *****************************************************/</span>

<span class="comment">/**
* Resets the render stack of the current calendar to its original pre-render value.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.resetRenderers = <span class="reserved">function</span>() {
	<span class="reserved">this</span>.renderStack = <span class="reserved">this</span>._renderStack.concat();
};

<span class="comment">/**
* Clears the inner HTML, CSS class and style information from the specified cell.
* <span class="attrib">@param</span>	{HTMLTableCellElement}	The cell to clear
*/</span> 
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.clearElement = <span class="reserved">function</span>(cell) {
	cell.innerHTML = <span class="literal">"&amp;nbsp;"</span>;
	cell.className=<span class="literal">""</span>;
};

<span class="comment">/**
* Adds a renderer to the render stack. The function reference passed to this method will be executed
* when a date cell matches the conditions specified in the date string for this renderer.
* <span class="attrib">@param</span>	{String}	sDates		A date string to associate with the specified renderer. Valid formats
*									include date (12/24/2005), month/day (12/24), and range (12/1/2004-1/1/2005)
* <span class="attrib">@param</span>	{Function}	fnRender	The function executed to render cells that match the render rules for this renderer.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.addRenderer = <span class="reserved">function</span>(sDates, fnRender) {
	var aDates = <span class="reserved">this</span>._parseDates(sDates);
	<span class="reserved">for</span> (var i=0;i&lt;aDates.length;++i) {
		var aDate = aDates[i];
	
		<span class="reserved">if</span> (aDate.length == 2) { <span class="comment">// this is either a range or a month/day combo</span>
			<span class="reserved">if</span> (aDate[0] instanceof Array) { <span class="comment">// this is a range</span>
				<span class="reserved">this</span>._addRenderer(YAHOO.widget.Calendar_Core.RANGE,aDate,fnRender);
			} <span class="reserved">else</span> { <span class="comment">// this is a month/day combo</span>
				<span class="reserved">this</span>._addRenderer(YAHOO.widget.Calendar_Core.MONTH_DAY,aDate,fnRender);
			}
		} <span class="reserved">else</span> <span class="reserved">if</span> (aDate.length == 3) {
			<span class="reserved">this</span>._addRenderer(YAHOO.widget.Calendar_Core.DATE,aDate,fnRender);
		}
	}
};

<span class="comment">/**
* The private method used for adding cell renderers to the local render stack.
* This method is called by other methods that set the renderer type prior to the method call.
* <span class="attrib">@private</span>
* <span class="attrib">@param</span>	{String}	type		The type string that indicates the type of date renderer being added.
*									Values are YAHOO.widget.Calendar_Core.DATE, YAHOO.widget.Calendar_Core.MONTH_DAY, YAHOO.widget.Calendar_Core.WEEKDAY,
*									YAHOO.widget.Calendar_Core.RANGE, YAHOO.widget.Calendar_Core.MONTH
* <span class="attrib">@param</span>	{Array}		aDates		An array of dates used to construct the renderer. The format varies based
*									on the renderer type
* <span class="attrib">@param</span>	{Function}	fnRender	The function executed to render cells that match the render rules for this renderer.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>._addRenderer = <span class="reserved">function</span>(type, aDates, fnRender) {
	var add = [type,aDates,fnRender];
	<span class="reserved">this</span>.renderStack.unshift(add);	
	
	<span class="reserved">this</span>._renderStack = <span class="reserved">this</span>.renderStack.concat();
};

<span class="comment">/**
* Adds a month to the render stack. The function reference passed to this method will be executed
* when a date cell matches the month passed to this method.
* <span class="attrib">@param</span>	{Integer}	month		The month (1-12) to associate with this renderer
* <span class="attrib">@param</span>	{Function}	fnRender	The function executed to render cells that match the render rules for this renderer.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.addMonthRenderer = <span class="reserved">function</span>(month, fnRender) {
	<span class="reserved">this</span>._addRenderer(YAHOO.widget.Calendar_Core.MONTH,[month],fnRender);
};

<span class="comment">/**
* Adds a weekday to the render stack. The function reference passed to this method will be executed
* when a date cell matches the weekday passed to this method.
* <span class="attrib">@param</span>	{Integer}	weekay		The weekday (1-7) to associate with this renderer
* <span class="attrib">@param</span>	{Function}	fnRender	The function executed to render cells that match the render rules for this renderer.
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.addWeekdayRenderer = <span class="reserved">function</span>(weekday, fnRender) {
	<span class="reserved">this</span>._addRenderer(YAHOO.widget.Calendar_Core.WEEKDAY,[weekday],fnRender);
};
<span class="comment">//// END RENDERER METHODS ////</span>

<span class="comment">//// BEGIN CSS METHODS ////</span>

<span class="comment">/**
* Sets the specified array of CSS classes into the referenced element
* <span class="attrib">@param</span>	{HTMLElement}	element		The element to set the CSS classes into
* <span class="attrib">@param</span>	{String[]}		aStyles		An array of CSS class names
*/</span>
YAHOO.widget.Calendar_Core.setCssClasses = <span class="reserved">function</span>(element, aStyles) {
	element.className = <span class="literal">""</span>;
	var className = aStyles.join(<span class="literal">" "</span>);
	element.className = className;
};

<span class="comment">/**
* Removes all styles from all body cells in the current calendar table.
* <span class="attrib">@param</span>	{style}		The CSS class name to remove from all calendar body cells
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.clearAllBodyCellStyles = <span class="reserved">function</span>(style) {
	<span class="reserved">for</span> (var c=0;c&lt;<span class="reserved">this</span>.cells.length;++c) {
		YAHOO.util.Dom.removeClass(<span class="reserved">this</span>.cells[c],style);
	}
};

<span class="comment">//// END CSS METHODS ////</span>

<span class="comment">//// BEGIN GETTER/SETTER METHODS ////</span>
<span class="comment">/**
* Sets the calendar's month explicitly.
* <span class="attrib">@param</span> {Integer}	month		The numeric month, from 1 (January) to 12 (December)
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.setMonth = <span class="reserved">function</span>(month) {
	<span class="reserved">this</span>.pageDate.setMonth(month);
};

<span class="comment">/**
* Sets the calendar's year explicitly.
* <span class="attrib">@param</span> {Integer}	year		The numeric 4-digit year
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.setYear = <span class="reserved">function</span>(year) {
	<span class="reserved">this</span>.pageDate.setFullYear(year);
};

<span class="comment">/**
* Gets the list of currently selected dates from the calendar.
* <span class="attrib">@return</span>	An array of currently selected JavaScript Date objects.
* <span class="attrib">@type</span> Date[]
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.getSelectedDates = <span class="reserved">function</span>() {
	var returnDates = new Array();

	<span class="reserved">for</span> (var d=0;d&lt;<span class="reserved">this</span>.selectedDates.length;++d) {
		var dateArray = <span class="reserved">this</span>.selectedDates[d];

		var date = new Date(dateArray[0],dateArray[1]-1,dateArray[2]);
		returnDates.push(date);
	}

	returnDates.sort();
	<span class="reserved">return</span> returnDates;
};

<span class="comment">/// END GETTER/SETTER METHODS ///</span>

<span class="comment">/**
* Returns a string representing the current browser.
* <span class="attrib">@type</span> String
*/</span>
YAHOO.widget.Calendar_Core._getBrowser = <span class="reserved">function</span>() {
  <span class="comment">/**
   * UserAgent
   * <span class="attrib">@private</span>
   * <span class="attrib">@type</span> String
   */</span>
  var ua = navigator.userAgent.toLowerCase();
  
  <span class="reserved">if</span> (ua.indexOf(<span class="literal">'opera'</span>)!=-1) <span class="comment">// Opera (check first in case of spoof)</span>
	 <span class="reserved">return</span> <span class="literal">'opera'</span>;
  <span class="reserved">else</span> <span class="reserved">if</span> (ua.indexOf(<span class="literal">'msie'</span>)!=-1) <span class="comment">// IE</span>
	 <span class="reserved">return</span> <span class="literal">'ie'</span>;
  <span class="reserved">else</span> <span class="reserved">if</span> (ua.indexOf(<span class="literal">'safari'</span>)!=-1) <span class="comment">// Safari (check before Gecko because it includes "like Gecko")</span>
	 <span class="reserved">return</span> <span class="literal">'safari'</span>;
  <span class="reserved">else</span> <span class="reserved">if</span> (ua.indexOf(<span class="literal">'gecko'</span>) != -1) <span class="comment">// Gecko</span>
	 <span class="reserved">return</span> <span class="literal">'gecko'</span>;
 <span class="reserved">else</span>
  <span class="reserved">return</span> false;
}

<span class="comment">/**
* Returns a string representation of the object.
* <span class="attrib">@type</span> string
*/</span>
YAHOO.widget.Calendar_Core.<span class="reserved">prototype</span>.toString = <span class="reserved">function</span>() {
	<span class="reserved">return</span> <span class="literal">"Calendar_Core "</span> + <span class="reserved">this</span>.id;
}

YAHOO.widget.Cal_Core = YAHOO.widget.Calendar_Core;</pre>
			</div>
		
	</div>
</div>


<div id="footer">
	<hr />
	Copyright &copy; 2006 Yahoo! Inc. All rights reserved.
	<br /><br />
	Documentation generated by <a href="http://jsdoc.sourceforge.net/">
	JSDoc</a>
</div>



</body>
</html>
